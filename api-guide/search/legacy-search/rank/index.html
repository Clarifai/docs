<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115983722-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-115983722-1",{anonymize_ip:!0})</script>
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PLV65FL",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><title data-react-helmet="true">Rank | Clarifai Guide</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.clarifai.com/api-guide/search/legacy-search/rank"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Rank | Clarifai Guide"><meta data-react-helmet="true" name="description" content="Search your data based on concepts or visual similarity"><meta data-react-helmet="true" property="og:description" content="Search your data based on concepts or visual similarity"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.clarifai.com/api-guide/search/legacy-search/rank"><link data-react-helmet="true" rel="alternate" href="https://docs.clarifai.com/api-guide/search/legacy-search/rank" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.clarifai.com/api-guide/search/legacy-search/rank" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.595ff0da.css">
<link rel="preload" href="/assets/js/runtime~main.65ef7579.js" as="script">
<link rel="preload" href="/assets/js/main.b32fb425.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Clarifai" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Clarifai" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Clarifai Guide</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Clarifai/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://communityinviter.com/apps/clarifaicommunity/clarifai-community" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Community Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_OKON">Clarifai Basics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/clarifai-basics/start-here-5-mins-or-less">Start Here (5 mins or less!)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Start Here (5 mins or less!)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/clarifai-basics/glossary">Key Terminology to Know</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/clarifai-basics/applications/">Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/clarifai-basics/authentication/">Authentication</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/clarifai-basics/community">Get Started With Clarifai Community</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active menuLinkText_OKON">API Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/api-overview/">Clarifai API Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Clarifai API Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/data/">Your Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Your Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/predict/">Making Predictions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Making Predictions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/concepts/">Creating and Managing Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creating and Managing Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/annotate/">Labeling Your Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Labeling Your Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/model/">Creating and Training Models</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creating and Training Models&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/evaluate/">Evaluating Models</a><button aria-label="Toggle the collapsible sidebar category &#x27;Evaluating Models&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/workflows/">Creating Workflows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creating Workflows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" tabindex="0" href="/api-guide/search/">Search, Sort, Filter, and Save</a><button aria-label="Toggle the collapsible sidebar category &#x27;Search, Sort, Filter, and Save&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/rank-filter-combine-or-negate">Search Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/combine-or-negate">Combine or Negate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/filter">Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/rank">Rank</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/index-images-for-search">Index Images for Search</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" tabindex="0" href="/api-guide/search/legacy-search/">Legacy Search</a><button aria-label="Toggle the collapsible sidebar category &#x27;Legacy Search&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/legacy-search/combine-or-negate">Combine or Negate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/legacy-search/filter">Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/api-guide/search/legacy-search/rank">Rank</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api-guide/search/legacy-search/saved_searches">Saved Searches</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/api-guide/advanced-topics/">Advanced Topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_OKON">Portal Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-guide/portal-overview">Clarifai Portal Basics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/data/">Your Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Your Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-guide/ppredict">Making Predictions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/concepts/">Creating and Managing Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creating and Managing Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/annotate/">Labeling Your Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Labeling Your Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/model/">Creating and Training Models</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creating and Training Models&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/evaluate/">Evaluating Models</a><button aria-label="Toggle the collapsible sidebar category &#x27;Evaluating Models&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/workflows/">Creating Workflows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Creating Workflows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/psearch/">Search, Sort, Filter, and Save</a><button aria-label="Toggle the collapsible sidebar category &#x27;Search, Sort, Filter, and Save&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/portal-guide/advanced-topics">Advanced Topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_OKON">Data Labeling Services</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/data-labeling-services/labeling-services">Scribe LabelForce</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_OKON">Product Updates</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/product-updates/upcoming-api-changes">Upcoming API Changes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_TwRn" tabindex="0" href="/product-updates/changelog">Changelog</a><button aria-label="Toggle the collapsible sidebar category &#x27;Changelog&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menuLinkText_OKON">Additional Resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://status.clarifai.com/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>API Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.clarifai.com/blog/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Clarifai Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://help.clarifai.com/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Clarifai Help<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.clarifai.com/explore" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Clarifai Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Rank</h1></header><p>Rank Order your search results with the intuitive insights of AI. Your model can identify concepts in your data and rank your search results by how confident it is that a given concept is present. You can even rank search results by how similar one input is to another input.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="search-by-concept">Search By Concept<a class="hash-link" href="#search-by-concept" title="Direct link to heading">â€‹</a></h2><p>Once your images are indexed, you can search for them by concept.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="by-clarifaimain-app-concepts">By clarifai/main App Concepts<a class="hash-link" href="#by-clarifaimain-app-concepts" title="Direct link to heading">â€‹</a></h3><p>When you add an input, it automatically gets predictions from the models in your default which are typically models from the clarifai/main app such as the general model. You can search by those predictions.</p><div><div value="grpc_java" label="gRPC Java">```java import com.clarifai.grpc.api.*; import com.clarifai.grpc.api.status.*;<p>// Insert here the initialization code as outlined on this page:
// <a href="https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions" target="_blank" rel="noopener noreferrer">https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</a></p><p>MultiSearchResponse postSearchesResponse = stub.postSearches(
PostSearchesRequest.newBuilder().setQuery(
Query.newBuilder().addAnds(
And.newBuilder().setOutput( // Setting Output indicates we search for images that have the concept(s)
// which were predicted by the General model.
Output.newBuilder().setData(
Data.newBuilder().addConcepts(  // You can search by multiple concepts.
Concept.newBuilder()
.setName(&quot;people&quot;)  // You could search by concept ID as well.
.setValue(1f)  // Value of 0 will search for images that don&#x27;t have the concept.
)
)
)
)
)
.build()
);</p><p>if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {
throw new RuntimeException(&quot;Post searches failed, status: &quot; + postSearchesResponse.getStatus());
}</p><p>System.out.println(&quot;Found inputs &quot; + postSearchesResponse.getHitsCount() + &quot;:&quot;);
for (Hit hit : postSearchesResponse.getHitsList()) {
System.out.printf(&quot;\tScore %.2f for %s\n&quot;, hit.getScore(), hit.getInput().getId());
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;grpc_nodejs&quot; label=&quot;gRPC NodeJS&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Insert here the initialization code as outlined on this page:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stub.PostSearches(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ands: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    output: {  // Setting Output indicates we search for images that have the concept(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               // which were predicted by the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            concepts: [  // You can search by multiple concepts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    name: &quot;people&quot;,  // You could search by concept ID as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    value: 1  // Value of 0 will search for images that don&#x27;t have the concept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (err, response) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (response.status.code !== 10000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&quot;Post searches failed, status: &quot; + response.status.description);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Found inputs:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const hit of response.hits) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&quot;\tScore &quot; + hit.score + &quot; for &quot; + hit.input.id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="grpc_python" label="gRPC Python">```python # Insert here the initialization code as outlined on this page: # https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions<p>post_searches_response = stub.PostSearches(
service_pb2.PostSearchesRequest(
query=resources_pb2.Query(
ands=[
resources_pb2.And(
output=resources_pb2.Output( # Setting Output indicates we search for images that have the concept(s)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">                                             # which were predicted by the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    data=resources_pb2.Data(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        concepts=[  # You can search by multiple concepts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            resources_pb2.Concept(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                name=&quot;people&quot;,  # You could search by concept ID as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                value=1  # Value of 0 will search for images that don&#x27;t have the concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata=metadata</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>)</p><p>if post_searches_response.status.code != status_code_pb2.SUCCESS:
raise Exception(&quot;Post searches failed, status: &quot; + post_searches_response.status.description)</p><p>print(&quot;Found inputs:&quot;)
for hit in post_searches_response.hits:
print(&quot;\tScore %.2f for %s&quot; % (hit.score, hit.input.id))</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;javascript&quot; label=&quot;Javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.inputs.search([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    concept: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &#x27;cat&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    concept: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &#x27;dog&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]).then(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there was an error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="python" label="Python">```python from clarifai.rest import ClarifaiApp app = ClarifaiApp(api_key=&#x27;YOUR_CLARIFAI_KEY&#x27;)<header><h1>search by single concept name</h1></header><p>app.inputs.search_by_predicted_concepts(concept=&#x27;cat&#x27;)</p><header><h1>search by single concept id</h1></header><p>app.inputs.search_by_predicted_concepts(concept_id=&#x27;ai_mFqxrph2&#x27;)</p><header><h1>search by multiple concepts with name</h1></header><p>app.inputs.search_by_predicted_concepts(concepts=<!-- -->[&#x27;cat&#x27;, &#x27;cute&#x27;]<!-- -->)</p><header><h1>search by multiple concepts with ids</h1></header><p>app.inputs.search_by_predicted_concepts(concept_ids=<!-- -->[&#x27;ai_mFqxrph2&#x27;, &#x27;ai_4CRlSvbV&#x27;]<!-- -->)</p><header><h1>search by multiple concepts with not logic</h1></header><p>app.inputs.search_by_predicted_concepts(concepts=<!-- -->[&#x27;cat&#x27;, &#x27;dog&#x27;]<!-- -->, values=<!-- -->[True, False]<!-- -->)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;java&quot; label=&quot;Java&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search concept by name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchConcept(Concept.forName(&quot;cat&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search concept by ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchConcept(Concept.forID(&quot;ai_mFqxrph2&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search multiple concepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchConcept(Concept.forID(&quot;cat&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .and(SearchClause.matchConcept(Concept.forID(&quot;cute&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search NOT by concept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchConcept(Concept.forID(&quot;cat&quot;).withValue(false)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="csharp" label="C#">```csharp using System.Threading.Tasks; using Clarifai.API; using Clarifai.DTOs.Searches;<p>namespace YourNamespace
{
public class YourClassName
{
public static async Task Main()
{
var client = new ClarifaiClient(&quot;YOUR_API_KEY&quot;);</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        // Search concept by name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(SearchBy.ConceptName(&quot;cat&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Search concept by ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(SearchBy.ConceptID(&quot;cat&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Search multiple concepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.ConceptID(&quot;cat&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.ConceptID(&quot;cute&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;objective-c&quot; label=&quot;Objective-C&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// First create a search term with a concept you want to search.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiConcept *conceptFromGeneralModel = [[ClarifaiConcept alloc] initWithConceptName:@&quot;fast&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiSearchTerm *searchTerm = [ClarifaiSearchTerm searchByPredictedConcept:conceptFromGeneralModel];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[app search:@[searchTerm] page:@1 perPage:@20 completion:^(NSArray&lt;ClarifaiSearchResult *&gt; *results, NSError *error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Print output of first search result.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;inputID: %@&quot;, results[0].inputID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;URL: %@&quot;, results[0].mediaURL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;probability of input matching search query: %@&quot;, results[0].score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="php" label="PHP">```php use Clarifai\API\ClarifaiClient; use Clarifai\DTOs\Searches\SearchBy; use Clarifai\DTOs\Searches\SearchInputsResult;<p>$client = new ClarifaiClient(&#x27;YOUR_API_KEY&#x27;);</p><p>// Search concept by name
$response = $client-&gt;searchInputs(SearchBy::conceptName(&#x27;cat&#x27;))
-&gt;executeSync();</p><p>/<em>
// Search concept by ID
$response = $client-&gt;searchInputs(SearchBy::conceptID(&#x27;cat&#x27;))
-&gt;executeSync();
</em>/</p><p>/<em>
// Search multiple concepts
$response = $client-&gt;searchInputs(<!-- -->[SearchBy::conceptID(&#x27;cat&#x27;), SearchBy::conceptID(&#x27;cute&#x27;)]<!-- -->)
-&gt;executeSync();
</em>/</p><p>if ($response-&gt;isSuccessful()) {
echo &quot;Response is successful.\n&quot;;</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/** @var SearchInputsResult $result */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $response-&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($result-&gt;searchHits() as $searchHit) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $searchHit-&gt;input()-&gt;id() . &#x27; &#x27; . $searchHit-&gt;score() . &quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>} else {
echo &quot;Response is not successful. Reason: \n&quot;;
echo $response-&gt;status()-&gt;description() . &quot;\n&quot;;
echo $response-&gt;status()-&gt;errorDetails() . &quot;\n&quot;;
echo &quot;Status code: &quot; . $response-&gt;status()-&gt;statusCode();
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;curl&quot; label=&quot;cURL&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Setting &quot;output&quot; indicates we search for images that have the concept(s) which were predicted by</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Value of 0 will search for images that don&#x27;t have the concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Instead of &quot;name&quot; you can search by &quot;id&quot; as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Key YOUR_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ands&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;output&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;concepts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;name&quot;:&quot;people&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;value&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://api.clarifai.com/v2/searches</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="by-custom-concepts">By Custom Concepts<a class="hash-link" href="#by-custom-concepts" title="Direct link to heading">â€‹</a></h3><p>After you have <a href="https://github.com/Clarifai/docs/tree/1c1d25cdd43190c38a2edb313297c0d566b3a0e3/api-guide/search/data-management/inputs.md#add-inputs-with-concepts" target="_blank" rel="noopener noreferrer">added inputs with concepts</a>, you can search by those concepts.</p><div><div value="grpc_java" label="gRPC Java">```java import com.clarifai.grpc.api.*; import com.clarifai.grpc.api.status.*;<p>// Insert here the initialization code as outlined on this page:
// <a href="https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions" target="_blank" rel="noopener noreferrer">https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</a></p><p>MultiSearchResponse postSearchesResponse = stub.postSearches(
PostSearchesRequest.newBuilder().setQuery(
Query.newBuilder().addAnds(
And.newBuilder().setInput( // Setting Input indicates we search for images that have the concept(s)
// which we added to the input manually.
Input.newBuilder().setData(
Data.newBuilder().addConcepts(  // You can search by multiple concepts.
Concept.newBuilder()
.setName(&quot;people&quot;)  // You could search by concept ID as well.
.setValue(1f)  // Value of 0 will search for images that we marked not to have the concept.
)
)
)
)
)
.build()
);</p><p>if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {
throw new RuntimeException(&quot;Post searches failed, status: &quot; + postSearchesResponse.getStatus());
}</p><p>System.out.println(&quot;Found inputs &quot; + postSearchesResponse.getHitsCount() + &quot;:&quot;);
for (Hit hit : postSearchesResponse.getHitsList()) {
System.out.printf(&quot;\tScore %.2f for %s\n&quot;, hit.getScore(), hit.getInput().getId());
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;grpc_nodejs&quot; label=&quot;gRPC NodeJS&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Insert here the initialization code as outlined on this page:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stub.PostSearches(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ands: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    input: {  // Setting Input indicates we search for images that have the concept(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              // which we added to the input manually.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            concepts: [  // You can search by multiple concepts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    name: &quot;people&quot;,  // You could search by concept ID as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    value: 1  // Value of 0 will search for images that we marked not to have the concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (err, response) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (response.status.code !== 10000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&quot;Post searches failed, status: &quot; + response.status.description);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Found inputs:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const hit of response.hits) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&quot;\tScore &quot; + hit.score + &quot; for &quot; + hit.input.id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="grpc_python" label="gRPC Python">```python # Insert here the initialization code as outlined on this page: # https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions<p>post_searches_response = stub.PostSearches(
service_pb2.PostSearchesRequest(
query=resources_pb2.Query(
ands=[
resources_pb2.And(
input=resources_pb2.Input(  # Setting Input indicates we search for images that have the concept(s)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">                                            # which we added to the input manually.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    data=resources_pb2.Data(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        concepts=[  # You can search by multiple concepts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            resources_pb2.Concept(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                name=&quot;people&quot;,  # You could search by concept ID as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                value=1  # Value of 0 will search for images that we marked not to have the concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata=metadata</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>)</p><p>if post_searches_response.status.code != status_code_pb2.SUCCESS:
raise Exception(&quot;Post searches failed, status: &quot; + post_searches_response.status.description)</p><p>print(&quot;Found inputs:&quot;)
for hit in post_searches_response.hits:
print(&quot;\tScore %.2f for %s&quot; % (hit.score, hit.input.id))</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;javascript&quot; label=&quot;Javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.inputs.search([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    concept: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: &#x27;input&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &#x27;cat&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    concept: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: &#x27;input&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &#x27;dog&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]).then(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there was an error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="python" label="Python">```python from clarifai.rest import ClarifaiApp app = ClarifaiApp(api_key=&#x27;YOUR_CLARIFAI_KEY&#x27;)<header><h1>search by single concept name</h1></header><p>app.inputs.search_by_annotated_concepts(concept=&#x27;cat&#x27;)</p><header><h1>search by single concept id</h1></header><p>app.inputs.search_by_annotated_concepts(concept_id=&#x27;ai_mFqxrph2&#x27;)</p><header><h1>search by multiple concepts with name</h1></header><p>app.inputs.search_by_annotated_concepts(concepts=<!-- -->[&#x27;cat&#x27;, &#x27;cute&#x27;]<!-- -->)</p><header><h1>search by multiple concepts with ids</h1></header><p>app.inputs.search_by_annotated_concepts(concept_ids=<!-- -->[&#x27;ai_mFqxrph2&#x27;, &#x27;ai_4CRlSvbV&#x27;]<!-- -->)</p><header><h1>search by multiple concepts with not logic</h1></header><p>app.inputs.search_by_annotated_concepts(concepts=<!-- -->[&#x27;cat&#x27;, &#x27;dog&#x27;]<!-- -->, values=<!-- -->[True, False]<!-- -->)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;java&quot; label=&quot;Java&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search concept by name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchUserTaggedConcept(Concept.forName(&quot;cat&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search concept by ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchUserTaggedConcept(Concept.forID(&quot;ai_mFqxrph2&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search multiple concepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchUserTaggedConcept(Concept.forID(&quot;cat&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .and(SearchClause.matchUserTaggedConcept(Concept.forID(&quot;cute&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search NOT by concept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchUserTaggedConcept(Concept.forID(&quot;cat&quot;).withValue(false)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="csharp" label="C#">```csharp using System.Threading.Tasks; using Clarifai.API; using Clarifai.DTOs.Searches;<p>namespace YourNamespace
{
public class YourClassName
{
public static async Task Main()
{
var client = new ClarifaiClient(&quot;YOUR_API_KEY&quot;);</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        // Search concept by name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(SearchBy.UserTaggedConceptName(&quot;cat&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Search concept by ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(SearchBy.UserTaggedConceptID(&quot;ai_mFqxrph2&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Search multiple concepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.UserTaggedConceptID(&quot;cat&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.UserTaggedConceptID(&quot;cute&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;objective-c&quot; label=&quot;Objective-C&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// If you have previously added inputs tagged with &quot;dog&quot;, you can search for them by the same tag.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiConcept *concept = [[ClarifaiConcept alloc] initWithConceptName:@&quot;dog&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiSearchTerm *term = [ClarifaiSearchTerm searchInputsByConcept:concept];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[app search:@[term] page:@1 perPage:@20 completion:^(NSArray&lt;ClarifaiSearchResult *&gt; *results, NSError *error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Print output of first search result.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;inputID: %@&quot;, results[0].inputID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;URL: %@&quot;, results[0].mediaURL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;probability of input matching search query: %@&quot;, results[0].score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="php" label="PHP">```php use Clarifai\API\ClarifaiClient; use Clarifai\DTOs\Searches\SearchBy; use Clarifai\DTOs\Searches\SearchInputsResult;<p>$client = new ClarifaiClient(&#x27;YOUR_API_KEY&#x27;);</p><p>// Search concept by name
$response = $client-&gt;searchInputs(SearchBy::userTaggedConceptName(&#x27;cat&#x27;))
-&gt;executeSync();</p><p>/<em>
// Search concept by ID
$response = $client-&gt;searchInputs(SearchBy::userTaggedConceptID(&#x27;cat&#x27;))
-&gt;executeSync();
</em>/</p><p>/<em>
// Search multiple concepts
$response = $client-&gt;searchInputs(<!-- -->[SearchBy::userTaggedConceptName(&#x27;cat&#x27;),
SearchBy::userTaggedConceptID(&#x27;dog&#x27;)]<!-- -->)
-&gt;executeSync();
</em>/</p><p>if ($response-&gt;isSuccessful()) {
echo &quot;Response is successful.\n&quot;;</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/** @var SearchInputsResult $result */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $response-&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($result-&gt;searchHits() as $searchHit) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $searchHit-&gt;input()-&gt;id() . &#x27; &#x27; . $searchHit-&gt;score() . &quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>} else {
echo &quot;Response is not successful. Reason: \n&quot;;
echo $response-&gt;status()-&gt;description() . &quot;\n&quot;;
echo $response-&gt;status()-&gt;errorDetails() . &quot;\n&quot;;
echo &quot;Status code: &quot; . $response-&gt;status()-&gt;statusCode();
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;curl&quot; label=&quot;cURL&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Setting &quot;input&quot; indicates we search for images that have the concept(s) which we added to the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># input manually.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Value of 0 will search for images that don&#x27;t have the concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Instead of &quot;name&quot; you can search by &quot;id&quot; as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Key YOUR_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ands&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;input&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;concepts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;name&quot;:&quot;people&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;value&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://api.clarifai.com/v2/searches</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="by-clarifaimain-and-custom-concepts">By clarifai/main and custom concepts<a class="hash-link" href="#by-clarifaimain-and-custom-concepts" title="Direct link to heading">â€‹</a></h3><p>You can combine a search to find inputs that have concepts you have supplied as well as predictions from your model.</p><div><div value="grpc_java" label="gRPC Java">```java import com.clarifai.grpc.api.*; import com.clarifai.grpc.api.status.*;<p>// Insert here the initialization code as outlined on this page:
// <a href="https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions" target="_blank" rel="noopener noreferrer">https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</a></p><p>// Here we search for images which we labeled with &quot;cat&quot; and for which the General prediction model does not find
// a &quot;dog&quot; concept.
MultiSearchResponse postSearchesResponse = stub.postSearches(
PostSearchesRequest.newBuilder().setQuery(
Query.newBuilder()
.addAnds(
And.newBuilder().setInput( // Setting Input indicates we search for images that have the concept(s)
// which we added to the input manually.
Input.newBuilder().setData(
Data.newBuilder().addConcepts(
Concept.newBuilder()
.setName(&quot;cat&quot;)
.setValue(1f)
)
)
)
)
.addAnds(
And.newBuilder().setOutput(  // Setting Output indicates we search for images that have the concept(s)
// which were predicted by the General model.
Output.newBuilder().setData(
Data.newBuilder().addConcepts(
Concept.newBuilder()
.setName(&quot;dog&quot;)
.setValue(0f)  // Because of 0, the dog must not be present in the image.
)
)
)
)
)
.build()
);</p><p>if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {
throw new RuntimeException(&quot;Post searches failed, status: &quot; + postSearchesResponse.getStatus());
}</p><p>System.out.println(&quot;Found inputs &quot; + postSearchesResponse.getHitsCount() + &quot;:&quot;);
for (Hit hit : postSearchesResponse.getHitsList()) {
System.out.printf(&quot;\tScore %.2f for %s\n&quot;, hit.getScore(), hit.getInput().getId());
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;grpc_nodejs&quot; label=&quot;gRPC NodeJS&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Insert here the initialization code as outlined on this page:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Here we search for images which we labeled with &quot;cat&quot; and for which the General prediction model does not find</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// a &quot;dog&quot; concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stub.PostSearches(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ands: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    input: {  // Setting Input indicates we search for images that have the concept(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              // which we added to the input manually.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            concepts: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    name: &quot;cat&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    value: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    output: {  // Setting Output indicates we search for images that have the concept(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               // which were predicted by the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            concepts: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    name: &quot;dog&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    value: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (err, response) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (response.status.code !== 10000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&quot;Post searches failed, status: &quot; + response.status.description);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Found inputs:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const hit of response.hits) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&quot;\tScore &quot; + hit.score + &quot; for &quot; + hit.input.id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="grpc_python" label="gRPC Python">```python # Insert here the initialization code as outlined on this page: # https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions<header><h1>Here we search for images which we labeled with &quot;cat&quot; and for which the General prediction model does not find</h1></header><header><h1>a &quot;dog&quot; concept.</h1></header><p>post_searches_response = stub.PostSearches(
service_pb2.PostSearchesRequest(
query=resources_pb2.Query(
ands=[
resources_pb2.And(
input=resources_pb2.Input(  # Setting Input indicates we search for images that have the concept(s)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">                                            # which we added to the input manually.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    data=resources_pb2.Data(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        concepts=[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            resources_pb2.Concept(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                name=&quot;cat&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                value=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            resources_pb2.And(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                output=resources_pb2.Output(  # Setting Output indicates we search for images that have the concept(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                              # which were predicted by the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    data=resources_pb2.Data(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        concepts=[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            resources_pb2.Concept(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                name=&quot;dog&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                value=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata=metadata</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>)</p><p>if post_searches_response.status.code != status_code_pb2.SUCCESS:
raise Exception(&quot;Post searches failed, status: &quot; + post_searches_response.status.description)</p><p>print(&quot;Found inputs:&quot;)
for hit in post_searches_response.hits:
print(&quot;\tScore %.2f for %s&quot; % (hit.score, hit.input.id))</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;javascript&quot; label=&quot;Javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.inputs.search([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // this is the public concept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    concept: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &#x27;cat&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // this is the user-supplied concept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    concept: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: &#x27;input&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: &#x27;dog&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]).then(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there was an error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="python" label="Python">```python from clarifai.rest import ClarifaiApp, InputSearchTerm, OutputSearchTerm, SearchQueryBuilder app = ClarifaiApp(api_key=&#x27;YOUR_API_KEY&#x27;)<p>term1 = InputSearchTerm(concept=&#x27;cat&#x27;)
term2 = OutputSearchTerm(concept=&#x27;dog&#x27;, value=False)
query = SearchQueryBuilder()
query.add_term(term1)
query.add_term(term2)</p><p>app.inputs.search(query)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;java&quot; label=&quot;Java&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Matches images we tagged as &quot;cat&quot;, and that the API tagged as not having &quot;dog&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .ands(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SearchClause.matchUserTaggedConcept(Concept.forName(&quot;cat&quot;)),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SearchClause.matchConcept(Concept.forName(&quot;dog&quot;).withValue(false))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="csharp" label="C#">```csharp using System.Threading.Tasks; using Clarifai.API; using Clarifai.DTOs.Searches;<p>namespace YourNamespace
{
public class YourClassName
{
public static async Task Main()
{
var client = new ClarifaiClient(&quot;YOUR_API_KEY&quot;);</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.UserTaggedConceptName(&quot;cat&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.ConceptID(&quot;dog&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;objective-c&quot; label=&quot;Objective-C&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiConcept *conceptFromGeneralModel = [[ClarifaiConcept alloc] initWithConceptName:@&quot;fast&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiConcept *conceptFromTrainedCustomModel = [[ClarifaiConcept alloc] initWithConceptName:@&quot;dog&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiSearchTerm *term1 = [ClarifaiSearchTerm searchByPredictedConcept:conceptFromGeneralModel];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiSearchTerm *term2 = [ClarifaiSearchTerm searchByPredictedConcept:conceptFromTrainedCustomModel];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[_app search:@[term1, term2] page:@1 perPage:@20 completion:^(NSArray&lt;ClarifaiSearchResult *&gt; *results, NSError *error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Print output of first search result.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;inputID: %@&quot;, results[0].inputID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;URL: %@&quot;, results[0].mediaURL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;probability of input matching search query: %@&quot;, results[0].score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="php" label="PHP">```php use Clarifai\API\ClarifaiClient; use Clarifai\DTOs\Searches\SearchBy; use Clarifai\DTOs\Searches\SearchInputsResult;<p>$client = new ClarifaiClient(&#x27;YOUR_API_KEY&#x27;);</p><p>$response = $client-&gt;searchInputs(<!-- -->[SearchBy::userTaggedConceptName(&#x27;cat&#x27;),
SearchBy::conceptID(&#x27;dog&#x27;)]<!-- -->)
-&gt;executeSync();</p><p>if ($response-&gt;isSuccessful()) {
echo &quot;Response is successful.\n&quot;;</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/** @var SearchInputsResult $result */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $response-&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($result-&gt;searchHits() as $searchHit) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $searchHit-&gt;input()-&gt;id() . &#x27; &#x27; . $searchHit-&gt;score() . &quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>} else {
echo &quot;Response is not successful. Reason: \n&quot;;
echo $response-&gt;status()-&gt;description() . &quot;\n&quot;;
echo $response-&gt;status()-&gt;errorDetails() . &quot;\n&quot;;
echo &quot;Status code: &quot; . $response-&gt;status()-&gt;statusCode();
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;curl&quot; label=&quot;cURL&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Here we search for images which we labeled with &quot;cat&quot; and for which the General prediction model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># does not find a &quot;dog&quot; concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Key YOUR_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ands&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;input&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;concepts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;cat&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;value&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;output&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;concepts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;dog&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;value&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&#x27;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://api.clarifai.com/v2/searches</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="by-concept-in-another-language">By concept in another language<a class="hash-link" href="#by-concept-in-another-language" title="Direct link to heading">â€‹</a></h3><p>Concepts that have a translation into another langauge can be searched for in that language, even without having the default language for your app being in that language. This uses Clarifai&#x27;s knowledge graph to lookup the translation and then perform the search. For example, if you app is in english and you want to search for &quot;dog&quot; in Japanese, then you could search wiht <code>language=&quot;ja&quot;</code> and <code>name=&quot;çŠ¬&quot;</code>.</p><div><div value="grpc_java" label="gRPC Java">```java import com.clarifai.grpc.api.*; import com.clarifai.grpc.api.status.*;<p>// Insert here the initialization code as outlined on this page:
// <a href="https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions" target="_blank" rel="noopener noreferrer">https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</a></p><p>MultiSearchResponse postSearchesResponse = stub.postSearches(
PostSearchesRequest.newBuilder().setQuery(
Query.newBuilder().addAnds(
And.newBuilder().setOutput( // Setting Output indicates we search for images that have the concept(s)
// which were predicted by the General model.
Output.newBuilder().setData(
Data.newBuilder().addConcepts(  // You can search by multiple concepts.
Concept.newBuilder()
.setName(&quot;çŠ¬&quot;)  // You could search by concept ID as well.
.setLanguage(&quot;ja&quot;) // japanese
.setValue(1f)  // Value of 0 will search for images that don&#x27;t have the concept.
)
)
)
)
)
.build()
);</p><p>if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {
throw new RuntimeException(&quot;Post searches failed, status: &quot; + postSearchesResponse.getStatus());
}</p><p>System.out.println(&quot;Found inputs &quot; + postSearchesResponse.getHitsCount() + &quot;:&quot;);
for (Hit hit : postSearchesResponse.getHitsList()) {
System.out.printf(&quot;\tScore %.2f for %s\n&quot;, hit.getScore(), hit.getInput().getId());
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;grpc_nodejs&quot; label=&quot;gRPC NodeJS&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Insert here the initialization code as outlined on this page:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stub.PostSearches(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ands: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    output: {  // Setting Output indicates we search for images that have the concept(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               // which were predicted by the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            concepts: [  // You can search by multiple concepts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    name: &quot;çŠ¬&quot;,  // You could search by concept ID as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    language: &quot;ja&quot;, // japanese</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    value: 1  // Value of 0 will search for images that don&#x27;t have the concept</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (err, response) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (response.status.code !== 10000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&quot;Post searches failed, status: &quot; + response.status.description);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Found inputs:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const hit of response.hits) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&quot;\tScore &quot; + hit.score + &quot; for &quot; + hit.input.id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="grpc_python" label="gRPC Python">```python # Insert here the initialization code as outlined on this page: # https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions<p>post_searches_response = stub.PostSearches(
service_pb2.PostSearchesRequest(
query=resources_pb2.Query(
ands=[
resources_pb2.And(
output=resources_pb2.Output( # Setting Output indicates we search for images that have the concept(s)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">                                             # which were predicted by the General model.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    data=resources_pb2.Data(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        concepts=[  # You can search by multiple concepts.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            resources_pb2.Concept(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                name=&quot;çŠ¬&quot;,  # You could search by concept ID as well.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                language=&quot;ja&quot;, # japanese</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                value=1  # Value of 0 will search for images that don&#x27;t have the concept.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata=metadata</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>)</p><p>if post_searches_response.status.code != status_code_pb2.SUCCESS:
raise Exception(&quot;Post searches failed, status: &quot; + post_searches_response.status.description)</p><p>print(&quot;Found inputs:&quot;)
for hit in post_searches_response.hits:
print(&quot;\tScore %.2f for %s&quot; % (hit.score, hit.input.id))</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;curl&quot; label=&quot;cURL&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Key YOUR_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ands&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;output&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;concepts&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;name&quot;:&quot;çŠ¬&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;language&quot;: &quot;ja&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;value&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://api.clarifai.com/v2/searches</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="by-image">By Image<a class="hash-link" href="#by-image" title="Direct link to heading">â€‹</a></h2><p>You can use images to search through your collection. The API will return ranked results based on how similar the results are to the image you provided in your query.</p><div><div value="grpc_java" label="gRPC Java">```java import com.clarifai.grpc.api.*; import com.clarifai.grpc.api.status.*;<p>// Insert here the initialization code as outlined on this page:
// <a href="https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions" target="_blank" rel="noopener noreferrer">https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</a></p><p>MultiSearchResponse postSearchesResponse = stub.postSearches(
PostSearchesRequest.newBuilder().setQuery(
Query.newBuilder().addAnds(
And.newBuilder().setOutput(
Output.newBuilder().setInput(
Input.newBuilder().setData(
Data.newBuilder().setImage(
Image.newBuilder()
.setUrl(&quot;{YOUR_IMAGE_URL}&quot;)
)
)
)
)
)
)
.build()
);</p><p>if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {
throw new RuntimeException(&quot;Post searches failed, status: &quot; + postSearchesResponse.getStatus());
}</p><p>System.out.println(&quot;Found inputs &quot; + postSearchesResponse.getHitsCount() + &quot;:&quot;);
for (Hit hit : postSearchesResponse.getHitsList()) {
System.out.printf(&quot;\tScore %.2f for %s\n&quot;, hit.getScore(), hit.getInput().getId());
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;grpc_nodejs&quot; label=&quot;gRPC NodeJS&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Insert here the initialization code as outlined on this page:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stub.PostSearches(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ands: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    output: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        input: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                image: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    url: &quot;{YOUR_IMAGE_URL}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (err, response) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (response.status.code !== 10000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&quot;Post searches failed, status: &quot; + response.status.description);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Found inputs:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const hit of response.hits) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&quot;\tScore &quot; + hit.score + &quot; for &quot; + hit.input.id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="grpc_python" label="gRPC Python">```python # Insert here the initialization code as outlined on this page: # https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions<p>post_searches_response = stub.PostSearches(
service_pb2.PostSearchesRequest(
query=resources_pb2.Query(
ands=<!-- -->[
resources_pb2.And(
output=resources_pb2.Output(
input=resources_pb2.Input(
data=resources_pb2.Data(
image=resources_pb2.Image(
url=&quot;{YOUR_IMAGE_URL}&quot;
)
)
)
)
)
]<!-- -->
)
),
metadata=metadata
)</p><p>if post_searches_response.status.code != status_code_pb2.SUCCESS:
raise Exception(&quot;Post searches failed, status: &quot; + post_searches_response.status.description)</p><p>print(&quot;Found inputs:&quot;)
for hit in post_searches_response.hits:
print(&quot;\tScore %.2f for %s&quot; % (hit.score, hit.input.id))</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;javascript&quot; label=&quot;Javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.inputs.search(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      url: &#x27;https://samples.clarifai.com/puppy.jpeg&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">).then(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there was an error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="python" label="Python">```python from clarifai.rest import ClarifaiApp app = ClarifaiApp(api_key=&#x27;YOUR_CLARIFAI_KEY&#x27;)<header><h1>search by image url</h1></header><p>app.inputs.search_by_image(url=&quot;<a href="https://samples.clarifai.com/metro-north.jpg%22" target="_blank" rel="noopener noreferrer">https://samples.clarifai.com/metro-north.jpg&quot;</a>)</p><header><h1>search by existing input id</h1></header><p>input_id = &quot;some_existing_input_id&quot;
app.inputs.search_by_image(image_id=input_id)</p><header><h1>search by raw bytes</h1></header><p>data = &quot;image_raw_bytes&quot;
app.inputs.search_by_image(imgbytes=data)</p><header><h1>search by base64 bytes</h1></header><p>base64_data = &quot;image_bytes_encoded_in_base64&quot;
app.inputs.search_by_image(base64bytes=base64_data)</p><header><h1>search by local filename</h1></header><p>filename=&quot;filename_on_local_disk.jpg&quot;
app.inputs.search_by_image(filename=filename)</p><header><h1>search from fileio</h1></header><p>fio = open(&quot;filename_on_local_disk.jpg&quot;, &#x27;rb&#x27;)
app.inputs.search_by_image(fileobj=fio)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;java&quot; label=&quot;Java&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search by image URL (String or java.net.URL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchImageVisually(ClarifaiImage.of(&quot;https://samples.clarifai.com/metro-north.jpg&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Search by local image (java.io.File or byte[])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchImageVisually(ClarifaiImage.of(new File(&quot;image.png&quot;))))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="csharp" label="C#">```csharp using System.IO; using System.Threading.Tasks; using Clarifai.API; using Clarifai.DTOs.Searches;<p>namespace YourNamespace
{
public class YourClassName
{
public static async Task Main()
{
var client = new ClarifaiClient(&quot;YOUR_API_KEY&quot;);</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        // Search by image URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.ImageVisually(&quot;https://samples.clarifai.com/metro-north.jpg&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Search by local image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.ImageVisually(File.ReadAllBytes(&quot;image.png&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;objective-c&quot; label=&quot;Objective-C&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiSearchTerm *searchTerm = [ClarifaiSearchTerm searchVisuallyWithImageURL:@&quot;https://samples.clarifai.com/metro-north.jpg&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[app search:@[searchTerm] page:@1 perPage:@20 completion:^(NSArray&lt;ClarifaiSearchResult *&gt; *results, NSError *error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Print output of first search result.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;inputID: %@&quot;, results[0].inputID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;URL: %@&quot;, results[0].mediaURL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;probability of input matching search query: %@&quot;, results[0].score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="php" label="PHP">```php use Clarifai\API\ClarifaiClient; use Clarifai\DTOs\Searches\SearchBy; use Clarifai\DTOs\Searches\SearchInputsResult;<p>$client = new ClarifaiClient(&#x27;YOUR_API_KEY&#x27;);</p><p>$response = $client-&gt;searchInputs(
SearchBy::urlImageVisually(&#x27;<a href="https://samples.clarifai.com/metro-north.jpg&#x27;" target="_blank" rel="noopener noreferrer">https://samples.clarifai.com/metro-north.jpg&#x27;</a>))
-&gt;executeSync();</p><p>if ($response-&gt;isSuccessful()) {
echo &quot;Response is successful.\n&quot;;</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/** @var SearchInputsResult $result */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $response-&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($result-&gt;searchHits() as $searchHit) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $searchHit-&gt;input()-&gt;id() . &#x27; &#x27; . $searchHit-&gt;score() . &quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>} else {
echo &quot;Response is not successful. Reason: \n&quot;;
echo $response-&gt;status()-&gt;description() . &quot;\n&quot;;
echo $response-&gt;status()-&gt;errorDetails() . &quot;\n&quot;;
echo &quot;Status code: &quot; . $response-&gt;status()-&gt;statusCode();
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;curl&quot; label=&quot;cURL&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Key YOUR_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ands&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;output&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;input&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;image&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  &quot;url&quot;: &quot;{YOUR_IMAGE_URL}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://api.clarifai.com/v2/searches</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="by-url">By Url<a class="hash-link" href="#by-url" title="Direct link to heading">â€‹</a></h3><p>You can also search for an input by URL.</p><div><div value="grpc_java" label="gRPC Java">```java import com.clarifai.grpc.api.*; import com.clarifai.grpc.api.status.*;<p>// Insert here the initialization code as outlined on this page:
// <a href="https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions" target="_blank" rel="noopener noreferrer">https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</a></p><p>MultiSearchResponse postSearchesResponse = stub.postSearches(
PostSearchesRequest.newBuilder().setQuery(
Query.newBuilder().addAnds(
And.newBuilder().setInput(
Input.newBuilder().setData(
Data.newBuilder().setImage(
Image.newBuilder()
.setUrl(&quot;{YOUR_IMAGE_URL}&quot;)
)
)
)
)
)
.build()
);</p><p>if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {
throw new RuntimeException(&quot;Post searches failed, status: &quot; + postSearchesResponse.getStatus());
}</p><p>System.out.println(&quot;Found inputs &quot; + postSearchesResponse.getHitsCount() + &quot;:&quot;);
for (Hit hit : postSearchesResponse.getHitsList()) {
System.out.printf(&quot;\tScore %.2f for %s\n&quot;, hit.getScore(), hit.getInput().getId());
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;grpc_nodejs&quot; label=&quot;gRPC NodeJS&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Insert here the initialization code as outlined on this page:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stub.PostSearches(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ands: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    input: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            image: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                url: &quot;{YOUR_IMAGE_URL}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (err, response) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (response.status.code !== 10000) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&quot;Post searches failed, status: &quot; + response.status.description);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(&quot;Found inputs:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (const hit of response.hits) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(&quot;\tScore &quot; + hit.score + &quot; for &quot; + hit.input.id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="grpc_python" label="gRPC Python">```python # Insert here the initialization code as outlined on this page: # https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions<p>post_searches_response = stub.PostSearches(
service_pb2.PostSearchesRequest(
query=resources_pb2.Query(
ands=<!-- -->[
resources_pb2.And(
input=resources_pb2.Input(
data=resources_pb2.Data(
image=resources_pb2.Image(
url=&quot;{YOUR_IMAGE_URL}&quot;
)
)
)
)
]<!-- -->
)
),
metadata=metadata
)</p><p>if post_searches_response.status.code != status_code_pb2.SUCCESS:
raise Exception(&quot;Post searches failed, status: &quot; + post_searches_response.status.description)</p><p>print(&quot;Found inputs:&quot;)
for hit in post_searches_response.hits:
print(&quot;\tScore %.2f for %s&quot; % (hit.score, hit.input.id))</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;javascript&quot; label=&quot;Javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```javascript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.inputs.search(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: &#x27;input&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      url: &#x27;https://samples.clarifai.com/puppy.jpeg&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">).then(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(response) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // do something with response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function(err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // there was an error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="python" label="Python">```python from clarifai.rest import ClarifaiApp app = ClarifaiApp(api_key=&#x27;YOUR_API_KEY&#x27;)<p>meta = {&quot;url&quot;:&quot;<a href="https://samples.clarifai.com/metro-north.jpg%22%7D" target="_blank" rel="noopener noreferrer">https://samples.clarifai.com/metro-north.jpg&quot;}</a>
app.inputs.search_by_metadata(meta)</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;java&quot; label=&quot;Java&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Lookup images with this URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.searchInputs(SearchClause.matchImageURL(ClarifaiImage.of(&quot;https://samples.clarifai.com/puppy.jpeg&quot;)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .getPage(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .executeSync();</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="csharp" label="C#">```csharp using System.Threading.Tasks; using Clarifai.API; using Clarifai.DTOs.Searches;<p>namespace YourNamespace
{
public class YourClassName
{
public static async Task Main()
{
var client = new ClarifaiClient(&quot;YOUR_API_KEY&quot;);</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">        await client.SearchInputs(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SearchBy.ImageURL(&quot;https://samples.clarifai.com/metro-north.jpg&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Page(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .ExecuteAsync();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;objective-c&quot; label=&quot;Objective-C&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Lookup images with this URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClarifaiSearchTerm *term = [ClarifaiSearchTerm searchInputsWithImageURL:@&quot;https://samples.clarifai.com/metro-north.jpg&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[app search:@[term] page:@1 perPage:@20 completion:^(NSArray&lt;ClarifaiSearchResult *&gt; *results, NSError *error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Print output of first search result.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;inputID: %@&quot;, results[0].inputID);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;URL: %@&quot;, results[0].mediaURL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NSLog(@&quot;probability of input matching search query: %@&quot;, results[0].score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}];</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div value="php" label="PHP">```php use Clarifai\API\ClarifaiClient; use Clarifai\DTOs\Searches\SearchBy; use Clarifai\DTOs\Searches\SearchInputsResult;<p>$client = new ClarifaiClient(&#x27;YOUR_API_KEY&#x27;);</p><p>$response = $client-&gt;searchInputs(
SearchBy::imageURL(&#x27;<a href="https://samples.clarifai.com/metro-north.jpg&#x27;" target="_blank" rel="noopener noreferrer">https://samples.clarifai.com/metro-north.jpg&#x27;</a>))
-&gt;executeSync();</p><p>if ($response-&gt;isSuccessful()) {
echo &quot;Response is successful.\n&quot;;</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/** @var SearchInputsResult $result */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$result = $response-&gt;get();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach ($result-&gt;searchHits() as $searchHit) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $searchHit-&gt;input()-&gt;id() . &#x27; &#x27; . $searchHit-&gt;score() . &quot;\n&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>} else {
echo &quot;Response is not successful. Reason: \n&quot;;
echo $response-&gt;status()-&gt;description() . &quot;\n&quot;;
echo $response-&gt;status()-&gt;errorDetails() . &quot;\n&quot;;
echo &quot;Status code: &quot; . $response-&gt;status()-&gt;statusCode();
}</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/TabItem&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TabItem value=&quot;curl&quot; label=&quot;cURL&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Authorization: Key YOUR_API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ands&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;input&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;image&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;url&quot;: &quot;{YOUR_IMAGE_URL}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://api.clarifai.com/v2/searches</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api-guide/search/legacy-search/rank.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/api-guide/search/legacy-search/filter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Filter</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/api-guide/search/legacy-search/saved_searches"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Saved Searches</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#search-by-concept" class="table-of-contents__link toc-highlight">Search By Concept</a><ul><li><a href="#by-clarifaimain-app-concepts" class="table-of-contents__link toc-highlight">By clarifai/main App Concepts</a></li><li><a href="#by-custom-concepts" class="table-of-contents__link toc-highlight">By Custom Concepts</a></li><li><a href="#by-clarifaimain-and-custom-concepts" class="table-of-contents__link toc-highlight">By clarifai/main and custom concepts</a></li><li><a href="#by-concept-in-another-language" class="table-of-contents__link toc-highlight">By concept in another language</a></li></ul></li><li><a href="#by-image" class="table-of-contents__link toc-highlight">By Image</a><ul><li><a href="#by-url" class="table-of-contents__link toc-highlight">By Url</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a href="https://clarifai.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Clarifai Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/clarifai" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://communityinviter.com/apps/clarifaicommunity/clarifai-community" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/clarifai" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/company/clarifai" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/Clarifai/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Clarifai, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.65ef7579.js"></script>
<script src="/assets/js/main.b32fb425.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PLV65FL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>