"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[2117],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(96540);const s={},a=i.createContext(s);function o(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:t},e.children)}},34272:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/framing_right_problem_concepts-df3760de68b38de5ea018833eb247c5b.png"},42193:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"portal-guide/model/training-faqs","title":"Model Training FAQs","description":"Frequently asked questions on model training","source":"@site/docs/portal-guide/model/training-faqs.md","sourceDirName":"portal-guide/model","slug":"/portal-guide/model/training-faqs","permalink":"/portal-guide/model/training-faqs","draft":false,"unlisted":false,"editUrl":"https://github.com/Clarifai/docs/blob/main/docs/portal-guide/model/training-faqs.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"description":"Frequently asked questions on model training","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Training Basics","permalink":"/portal-guide/model/training-basics"},"next":{"title":"Model Types","permalink":"/portal-guide/model/model-types/"}}');var s=n(74848),a=n(28453);const o={description:"Frequently asked questions on model training",sidebar_position:4},r="Model Training FAQs",d={},l=[{value:"Framing the right problem: what should I predict?",id:"framing-the-right-problem-what-should-i-predict",level:2},{value:"What are the key steps in the model building process?",id:"what-are-the-key-steps-in-the-model-building-process",level:2},{value:"What are the differences between the various model types?",id:"what-are-the-differences-between-the-various-model-types",level:2},{value:"What is a \u201cgood\u201d training dataset, and how do data quality and quantity affect model performance?",id:"what-is-a-good-training-dataset-and-how-do-data-quality-and-quantity-affect-model-performance",level:2},{value:"What is the difference between bias and variance in model training?",id:"what-is-the-difference-between-bias-and-variance-in-model-training",level:2},{value:"Is there a checklist I can use for training custom models?",id:"is-there-a-checklist-i-can-use-for-training-custom-models",level:2},{value:"What is \u201cground truth\u201d and how do we use it to dictate model building?",id:"what-is-ground-truth-and-how-do-we-use-it-to-dictate-model-building",level:2},{value:"How do we train for closed-set and open-set recognition?",id:"how-do-we-train-for-closed-set-and-open-set-recognition",level:2}];function h(e){const t={a:"a",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"model-training-faqs",children:"Model Training FAQs"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Frequently asked questions on model training"})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(t.h2,{id:"framing-the-right-problem-what-should-i-predict",children:"Framing the right problem: what should I predict?"}),"\n",(0,s.jsx)(t.p,{children:"It\u2019s critical to create visually distinctive concepts with a curated taxonomy (aka oncology) based on the business problem, data collected, and success measures derived from model performance metrics."}),"\n",(0,s.jsx)(t.table,{children:(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:(0,s.jsx)(t.img,{alt:"framing the right problem",src:n(70170).A+"",width:"338",height:"334"})}),(0,s.jsx)(t.th,{children:(0,s.jsx)(t.img,{alt:"framing the right problem concepts",src:n(34272).A+"",width:"348",height:"532"})})]})})}),"\n",(0,s.jsx)(t.p,{children:"For example, if you take a look at the above image marked with client metadata, you can see that the data was labeled for the presence of something, rather than the subject of the entire image."}),"\n",(0,s.jsx)(t.p,{children:"This is perfect for humans, but definitely not a scenario in which a model would easily discern concepts."}),"\n",(0,s.jsx)(t.h2,{id:"what-are-the-key-steps-in-the-model-building-process",children:"What are the key steps in the model building process?"}),"\n",(0,s.jsx)(t.p,{children:"These are the six key steps in the process for building new models:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Gathering data"}),"\u2014Involves collecting data either from Clarifai\u2019s data reserves or collecting your own unique datasets."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Building a visual dictionary"}),"\u2014Involves defining the process and the success criteria."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Preparing or \u2018cleaning\u2019 the data"}),"\u2014This step prepares the data for use in training the model. You can recognize important variables or visual features, and check for data imbalances that could impact the predictions of your model."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Training the model"}),"\u2014Involves using a process called training to \u201cteach\u201d the model what it will eventually predict on, based on the data you prepared. This happens over many interactions, improving accuracy."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Evaluating or testing the model"}),"\u2014Similar to how someone learns any skill, practice makes perfect, and this step involves using evaluation data that the model has never seen before to test its effectiveness."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Tuning parameters"}),"\u2014Often considered more of an art than a hard-and-fast scientific or mathematical ruling, this step involves choosing the best prediction thresholds, or parameters, to determine what is a \u201ccorrect\u201d or \u201cincorrect\u201d prediction."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"what-are-the-differences-between-the-various-model-types",children:"What are the differences between the various model types?"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Visual classification model"}),"\u2014Predicts and then assigns classification of one or more objects | ",(0,s.jsx)(t.em,{children:"\u201cThis is an image of an eagle and an octopus.\u201d"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Visual detection model"}),"\u2014Given an image, allows a user to classify and find the location of an object | ",(0,s.jsx)(t.em,{children:"\u201cThe octopus is located at this bounding box in the image.\u201d"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Visual search model"}),"\u2014Allows a user to detect an object or subject in different scenarios and settings, and then define the object | ",(0,s.jsx)(t.em,{children:"\u201cI will use this image of an octopus to find other octopuses.\u201d"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Visual segmentation model"}),"\u2014Given an image, allows a user to find all pixels (instead of a bounding box in the case of detection model) | ",(0,s.jsx)(t.em,{children:"\u201cThe octopus\u2019s precise shape (aka mask) is defined by all pixels in the image.\u201d"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Visual anomaly model"}),"\u2014Allow users to find anomalous examples with only normal examples in training | ",(0,s.jsx)(t.em,{children:"\u201cI will find an octopus holding spaghetti and meatballs among all images of octopuses (with very similar ocean background).\u201d"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Text classification model"}),"\u2014Given a piece of a text passage, allows a user to classify one or more categories | ",(0,s.jsx)(t.em,{children:"\u201cOctopus is very intelligent\u201d = good; \u201cOctopus is very stupid\u201d = bad"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"what-is-a-good-training-dataset-and-how-do-data-quality-and-quantity-affect-model-performance",children:"What is a \u201cgood\u201d training dataset, and how do data quality and quantity affect model performance?"}),"\n",(0,s.jsx)(t.p,{children:"A training dataset refers to the data that is used as positive inputs for concepts in a model. A \u201cgood\u201d training dataset will set the model to make predictions as close to the world as a user would see it."}),"\n",(0,s.jsxs)(t.p,{children:["Data ",(0,s.jsx)(t.strong,{children:"quality"}),", in the context of machine learning, is data that:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"visually adheres to concept descriptions laid out in a taxonomy, and;"}),"\n",(0,s.jsx)(t.li,{children:"reflects the expected user\u2019s data for the model\u2019s intended use case."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Data ",(0,s.jsx)(t.strong,{children:"quantity"})," casts a wider net for model understanding. With more data, we can be more specific and more granular with our concepts."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example:"})}),"\n",(0,s.jsx)(t.p,{children:"For a Guinness beer\u2019s \u201cPerfect Pint\u201d model, the client had a few thousand images of professionally photographed pints of beer in different stages of pour appearance on bar tops taken in daylight. The model was meant to see a photo of a pint of beer, and return a judgment on how the pint of beer looks compared to the \u201cperfect\u201d looking pint of beer."}),"\n",(0,s.jsxs)(t.p,{children:["Unfortunately, because the images used to initially train the model did not look ",(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"qualitatively"})})," similar to the user-generated content (UGC), ",(0,s.jsx)(t.strong,{children:"and"})," the user data was photographed in ",(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"more"})})," scenarios than bars, the model needed improvement in the form of:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"more data to capture the breadth of scenarios, and;"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsx)(t.li,{children:"data that reflected the quality of smartphone cameras."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"After applying these changes, the model performance improved."}),"\n",(0,s.jsx)(t.h2,{id:"what-is-the-difference-between-bias-and-variance-in-model-training",children:"What is the difference between bias and variance in model training?"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Bias"})," occurs when the scope of your training data is ",(0,s.jsx)(t.em,{children:"too narrow."})," If you only see green apples, you\u2019ll assume that all apples are green and think red apples are another kind of fruit. If the training data contains only a small number of examples, it\u2019ll react accordingly, taking it as truth. Small datasets make for a smaller worldview."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Variance"}),", on the other hand, occurs when your training set is ",(0,s.jsx)(t.em,{children:"cast too wide."})," If you train a concept of too many different kinds of images, and they are all visually different, the training set will become noisy. This will make it difficult for the model to find visually distinct qualities to learn from."]}),"\n",(0,s.jsxs)(t.p,{children:["The key to avoiding both of these pitfalls is building a dataset with the quality ",(0,s.jsx)(t.em,{children:"and"})," quantity of content kept in mind."]}),"\n",(0,s.jsx)(t.h2,{id:"is-there-a-checklist-i-can-use-for-training-custom-models",children:"Is there a checklist I can use for training custom models?"}),"\n",(0,s.jsx)(t.p,{children:"Here is a checklist you can use to help you make the most out of training your own models."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{}),(0,s.jsx)(t.th,{})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"Are the images visually distinct?"})})}),(0,s.jsx)(t.td,{children:"Ensure the images have visually noticeable qualities. They should not be too subtle for humans to pick up on, and they should also be able to be picked up through the noise of a photo. Also, look for whether or not those noticeable qualities are distinct enough to be repeatable across inputs."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"Are the ideal/not ideal inputs defined?"})})}),(0,s.jsx)(t.td,{children:"Create a visual dictionary of what each concept\u2019s training data will and will not be trained for. Determine the best resolution and image size for optimal data throughput. Remember to set aside evaluation data at the start of each project. A split of 80% training data to 20% evaluation data should be good to start."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"Are the labels semantically clear?"})})}),(0,s.jsx)(t.td,{children:"Make sure the labels for concepts reflect what the photo is of, not just what is in the photo."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"Is the training data UGC optimized?"})})}),(0,s.jsx)(t.td,{children:"You need to ensure the training and test data match the reality of the use case appertaining to user-generated content (UGC). Your evaluation test set should reflect this."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"Do you have the assets ready?"})})}),(0,s.jsx)(t.td,{children:"Have model versions and API keys on-hand for testing and for running scripts, if applicable."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"Do you track labels?"})})}),(0,s.jsx)(t.td,{children:"Keep track of the number of images labeled, either via JIRA or any docs platform."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"what-is-ground-truth-and-how-do-we-use-it-to-dictate-model-building",children:"What is \u201cground truth\u201d and how do we use it to dictate model building?"}),"\n",(0,s.jsx)(t.p,{children:"Ground truth is the mutual understanding of a concept based solely on visual criteria. We work with clients to define ground truth early in the model building process in order to be sure that we are speaking the same language when it comes to choosing training data for a concept."}),"\n",(0,s.jsx)(t.p,{children:"We are asking not what the meaning of a concept is, but how a concept appears in the worldview of our models."}),"\n",(0,s.jsxs)(t.p,{children:["We will not be able to determine the accuracy of a model if we do not have ground truth. Once we know what a model ",(0,s.jsx)(t.em,{children:"should"})," be predicting, then we can move forward in determining the model\u2019s accuracy."]}),"\n",(0,s.jsx)(t.h2,{id:"how-do-we-train-for-closed-set-and-open-set-recognition",children:"How do we train for closed-set and open-set recognition?"}),"\n",(0,s.jsx)(t.p,{children:"When we have a multi-class recognition model, there is no hard and fast \u201crule\u201d as to how one should build its training set, but how one should approach training depends on the use-case of your model."}),"\n",(0,s.jsx)(t.p,{children:"In closed-set recognition, all concepts are known at training time. In open-set recognition, an incomplete knowledge of the world is present at the time of training your model, and unknown concepts can be submitted to the model during testing."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"closed-set and open-set recognition",src:n(88228).A+"",width:"1451",height:"1048"}),"\n",(0,s.jsxs)(t.em,{children:["From Statistical Methods for Open Set Recognition ",(0,s.jsx)(t.a,{href:"https://www.wjscheirer.com/misc/openset/cvpr2016-open-set-part1.pdf",children:"[1]"})]})]}),"\n",(0,s.jsx)(t.p,{children:"More often than not, open-set problems are found in nearly every case where visual recognition algorithms are used."})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},70170:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/framing_right_problem-1d609e37baa3209736bbb249f76def9d.png"},88228:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/negatives_and_positives-4eb0c6a1203142b6e14eeb3e4cb148a3.png"}}]);