"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[9031],{65537:(e,a,s)=>{s.d(a,{A:()=>v});var n=s(96540),t=s(18215),i=s(65627),r=s(56347),o=s(50372),l=s(30604),c=s(11861),u=s(78749);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:a,children:s}=e;return(0,n.useMemo)((()=>{const e=a??function(e){return h(e).map((e=>{let{props:{value:a,label:s,attributes:n,default:t}}=e;return{value:a,label:s,attributes:n,default:t}}))}(s);return function(e){const a=(0,c.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,s])}function p(e){let{value:a,tabValues:s}=e;return s.some((e=>e.value===a))}function f(e){let{queryString:a=!1,groupId:s}=e;const t=(0,r.W6)(),i=function(e){let{queryString:a=!1,groupId:s}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:a,groupId:s});return[(0,l.aZ)(i),(0,n.useCallback)((e=>{if(!i)return;const a=new URLSearchParams(t.location.search);a.set(i,e),t.replace({...t.location,search:a.toString()})}),[i,t])]}function g(e){const{defaultValue:a,queryString:s=!1,groupId:t}=e,i=d(e),[r,l]=(0,n.useState)((()=>function(e){let{defaultValue:a,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!p({value:a,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=s.find((e=>e.default))??s[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:i}))),[c,h]=f({queryString:s,groupId:t}),[g,m]=function(e){let{groupId:a}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(a),[t,i]=(0,u.Dv)(s);return[t,(0,n.useCallback)((e=>{s&&i.set(e)}),[s,i])]}({groupId:t}),y=(()=>{const e=c??g;return p({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{y&&l(y)}),[y]);return{selectedValue:r,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=s(9136);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=s(74848);function w(e){let{className:a,block:s,selectedValue:n,selectValue:r,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const a=e.currentTarget,s=l.indexOf(a),t=o[s].value;t!==n&&(c(a),r(t))},h=e=>{let a=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const s=l.indexOf(e.currentTarget)+1;a=l[s]??l[0];break}case"ArrowLeft":{const s=l.indexOf(e.currentTarget)-1;a=l[s]??l[l.length-1];break}}a?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},a),children:o.map((e=>{let{value:a,label:s,attributes:i}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:n===a?0:-1,"aria-selected":n===a,ref:e=>{l.push(e)},onKeyDown:h,onClick:u,...i,className:(0,t.A)("tabs__item",y.tabItem,i?.className,{"tabs__item--active":n===a}),children:s??a},a)}))})}function x(e){let{lazy:a,children:s,selectedValue:i}=e;const r=(Array.isArray(s)?s:[s]).filter(Boolean);if(a){const e=r.find((e=>e.props.value===i));return e?(0,n.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==i})))})}function j(e){const a=g(e);return(0,b.jsxs)("div",{className:(0,t.A)("tabs-container",y.tabList),children:[(0,b.jsx)(w,{...a,...e}),(0,b.jsx)(x,{...a,...e})]})}function v(e){const a=(0,m.A)();return(0,b.jsx)(j,{...e,children:h(e.children)},String(a))}},68129:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"product-updates/upcoming-api-changes/pat-api-keys","title":"Changes to Use of PATs and API Keys","description":"Learn about breaking changes to the use of PATs and API keys","source":"@site/docs/product-updates/upcoming-api-changes/pat-api-keys.md","sourceDirName":"product-updates/upcoming-api-changes","slug":"/product-updates/upcoming-api-changes/pat-api-keys","permalink":"/product-updates/upcoming-api-changes/pat-api-keys","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":-8,"frontMatter":{"description":"Learn about breaking changes to the use of PATs and API keys","sidebar_position":-8},"sidebar":"tutorialSidebar","previous":{"title":"Upcoming Platform Changes","permalink":"/product-updates/upcoming-api-changes/"},"next":{"title":"Enabling Secure Data Hosting","permalink":"/product-updates/upcoming-api-changes/secure-data-hosting"}}');var t=s(74848),i=s(28453);s(65537),s(79329),s(58069);const r={description:"Learn about breaking changes to the use of PATs and API keys",sidebar_position:-8},o="Changes to Use of PATs and API Keys",l={},c=[{value:"Change",id:"change",level:2},{value:"Details",id:"details",level:2},{value:"Terminology",id:"terminology",level:4},{value:"Why we are making this change",id:"why-we-are-making-this-change",level:4},{value:"What is changing",id:"what-is-changing",level:4}];function u(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"changes-to-use-of-pats-and-api-keys",children:"Changes to Use of PATs and API Keys"})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:"Learn about breaking changes to the use of PATs and API keys"})}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(a.h2,{id:"change",children:"Change"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Type of Change"})," \u2014 Important ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/product-updates/changelog/release-types#release-types",children:"breaking change"})," regarding the use of PATs and API keys."]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Implementation Date"})," \u2014 June 11th, 2025"]}),"\n"]}),"\n"]}),"\n","\n",(0,t.jsxs)(a.admonition,{title:"TL;DR",type:"info",children:[(0,t.jsx)(a.p,{children:"Previously, you could access Clarifai models like this:"}),(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:'curl -X POST "clarifai.com/api/_api/v2/users/$YOUR_USER_ID/apps/$YOUR_APP_ID/models/general-image-recognition/outputs" \\\n-H "Authorization: Key $YOUR_API_KEY" \\\n# ... (rest of your request)\n'})}),(0,t.jsx)(a.p,{children:"The above method will now fail."}),(0,t.jsx)(a.p,{children:"You must now specify Clarifai\u2019s user and app ID instead of your own, and authenticate using a PAT instead of an API key."}),(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:'curl -X POST "clarifai.com/api/_api/v2/users/clarifai/apps/main/models/general-image-recognition/outputs" \\\n-H "Authorization: Key $YOUR_PAT_TOKEN" \\\n# ... (rest of your request)\n'})})]}),"\n",(0,t.jsx)(a.h2,{id:"details",children:"Details"}),"\n",(0,t.jsxs)(a.p,{children:["An upcoming release of Clarifai\u2019s API, ",(0,t.jsx)(a.strong,{children:"11.6"}),", will significantly change how ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/authentication/personal-access-tokens/",children:"Personal Access Tokens (PATs)"})," and ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/authentication/app-specific-api-keys/",children:"API keys"})," work. We plan to implement this change on June 11th, 2025, providing sufficient notice to change the way your applications authenticate on our platform."]}),"\n",(0,t.jsx)(a.h4,{id:"terminology",children:"Terminology"}),"\n",(0,t.jsxs)(a.p,{children:["If any of the terms used here are unfamiliar, you can check them in our ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary",children:"glossary"}),". Specifically, we mention ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#model",children:"models"}),", ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#workflows",children:"workflows"}),", ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#public",children:"public"}),", ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#private",children:"private"}),", ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#collaboration",children:"collaboration"}),", ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#organization",children:"organization"}),", and ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/clarifai-basics/glossary/#community",children:"community"}),"."]}),"\n",(0,t.jsx)(a.h4,{id:"why-we-are-making-this-change",children:"Why we are making this change"}),"\n",(0,t.jsx)(a.p,{children:"With PATs you can access resources for which you\u2019re a collaborator or teammate. You can also access public content shared by any user, in addition to all your private content across all of your apps. This simplifies the use of all the resources you have access to unlike using API keys that are restricted to a single application. PAT provides a consistent, secure, and robust authentication method. Finally, for Enterprise clients, Org functionality is PAT only and this change creates a consistent method of authentication across the platform."}),"\n",(0,t.jsx)(a.h4,{id:"what-is-changing",children:"What is changing"}),"\n",(0,t.jsxs)(a.p,{children:["Previously, you could use API keys to access any model, concept, or workflow owned by the app scoped to the API key, as well as those owned by the user ",(0,t.jsx)(a.code,{children:"clarifai"})," in the application ",(0,t.jsx)(a.code,{children:"main"}),". Now, accessing models or workflows owned by ",(0,t.jsx)(a.code,{children:"clarifai"})," in the application ",(0,t.jsx)(a.code,{children:"main"})," can only be done with a PAT tied to your account."]}),"\n",(0,t.jsx)(a.p,{children:"To be specific:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["You must now use PATs to make API calls for resources that are outside the scope of your apps, such as Clarifai\u2019s models and workflows. While using a PAT, you must also specify the ",(0,t.jsx)(a.code,{children:"USER_ID"})," of the application owner, and the ",(0,t.jsx)(a.code,{children:"APP_ID"})," of the application that you\u2019re accessing. The legacy behavior allowed you to use the ",(0,t.jsx)(a.code,{children:"USER_ID"})," and ",(0,t.jsx)(a.code,{children:"APP_ID"}),' of any application on the platform to access Clarifai models and workflows in the app "main". This change requires you to specify the ',(0,t.jsx)(a.code,{children:"USER_ID"})," (clarifai) and ",(0,t.jsx)(a.code,{children:"APP_ID"})," (main) associated with the application containing the resource (model, concept, workflow, etc)."]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsxs)(a.p,{children:["You will no longer be able to use API keys to access resources outside the application the API key is created in. With a key, there is no need to specify the user_id or the app_id as they are already part of the key. API keys will function as normal when accessing resources within the application the key is created in, but will no longer allow access to resources owned by the user ",(0,t.jsx)(a.code,{children:"clarifai"})," in the application ",(0,t.jsx)(a.code,{children:"main"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"Since workflows are a collection of models, some of which may be references to models that are not in the same application as the workflow itself, you should also use PATs to interact with workflows. While API keys will still work for the time being for workflows in the same app as the API key that contains only models from that same app, this will be a very narrow use of workflows. Therefore, we recommend updating your code to use PATs when using workflows too."}),"\n"]}),"\n",(0,t.jsxs)(a.li,{children:["\n",(0,t.jsx)(a.p,{children:"The preferred method for accessing the Clarifai API moving forward is with a PAT. To avoid potential future breakage we recommend using a PAT. Of course, we will provide prior notice if additional behavior is going to change for API keys."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["We hope and expect that this will not be a significant change for you. In order to implement it, you will need to ensure that you set the ",(0,t.jsx)(a.code,{children:"PAT"}),", ",(0,t.jsx)(a.code,{children:"USER_ID"}),", and ",(0,t.jsx)(a.code,{children:"APP_ID"})," variables appropriately. There are examples using all of our supported languages on ",(0,t.jsx)(a.a,{href:"https://docs.clarifai.com/api-guide/predict/images",children:"this page"}),", and we are available at any time if you need assistance or have any questions."]}),"\n",(0,t.jsxs)(a.p,{children:["The best place to contact us for support questions is our ",(0,t.jsx)(a.a,{href:"https://discord.gg/WgUvPK4pVD",children:"Discord Server"}),", which is monitored by many of our support teams and is the fastest way to get help."]}),"\n",(0,t.jsx)(a.p,{children:"We do apologize for any inconvenience this causes; however, we are confident that this is a positive change that will simplify the usage of the platform going forward and make it easier to leverage AI created by other people on our platform!"}),"\n",(0,t.jsx)(a.p,{children:"Thank you for your understanding and please feel free to reach out for any help."})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},79329:(e,a,s)=>{s.d(a,{A:()=>r});s(96540);var n=s(18215);const t={tabItem:"tabItem_Ymn6"};var i=s(74848);function r(e){let{children:a,hidden:s,className:r}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.A)(t.tabItem,r),hidden:s,children:a})}}}]);