"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[9405],{19365:(e,n,t)=>{t.d(n,{A:()=>r});var a=t(96540),s=t(20053);const i={tabItem:"tabItem_Ymn6"};function r(e){let{children:n,hidden:t,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,r),hidden:t},n)}},11470:(e,n,t)=>{t.d(n,{A:()=>b});var a=t(58168),s=t(96540),i=t(20053),r=t(23104),o=t(56347),l=t(57485),u=t(31682),c=t(89466);function p(e){return function(e){return s.Children.map(e,(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:s}}=e;return{value:n,label:t,attributes:a,default:s}}))}function d(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??p(t);return function(e){const n=(0,u.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:t}=e;const a=(0,o.W6)(),i=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(i),(0,s.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(a.location.search);n.set(i,e),a.replace({...a.location,search:n.toString()})}),[i,a])]}function _(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,i=d(e),[r,o]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:i}))),[l,u]=g({queryString:t,groupId:a}),[p,_]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,i]=(0,c.Dv)(t);return[a,(0,s.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:a}),m=(()=>{const e=l??p;return h({value:e,tabValues:i})?e:null})();(0,s.useLayoutEffect)((()=>{m&&o(m)}),[m]);return{selectedValue:r,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),_(e)}),[u,_,i]),tabValues:i}}var m=t(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function E(e){let{className:n,block:t,selectedValue:o,selectValue:l,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,r.a_)(),d=e=>{const n=e.currentTarget,t=c.indexOf(n),a=u[t].value;a!==o&&(p(n),l(a))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return s.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},n)},u.map((e=>{let{value:n,label:t,attributes:r}=e;return s.createElement("li",(0,a.A)({role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,key:n,ref:e=>c.push(e),onKeyDown:h,onClick:d},r,{className:(0,i.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":o===n})}),t??n)})))}function T(e){let{lazy:n,children:t,selectedValue:a}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===a));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return s.createElement("div",{className:"margin-top--md"},i.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function I(e){const n=_(e);return s.createElement("div",{className:(0,i.A)("tabs-container",f.tabList)},s.createElement(E,(0,a.A)({},e,n)),s.createElement(T,(0,a.A)({},e,n)))}function b(e){const n=(0,m.A)();return s.createElement(I,(0,a.A)({key:String(n)},e))}},50146:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>R,contentTitle:()=>P,default:()=>N,frontMatter:()=>S,metadata:()=>w,toc:()=>D});var a=t(58168),s=(t(96540),t(15680)),i=t(11470),r=t(19365),o=t(77964);const l="################################################################\n# In this section, we set the user authentication and app ID. \n# Change these strings to run your own example.\n################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the Account's Security section\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\nfrom google.protobuf.struct_pb2 import Struct\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID) # The userDataObject is required when using a PAT\n\nsearch_metadata = Struct()\nsearch_metadata.update({\"type\": \"animal\"})\n\npost_searches_response = stub.PostSearches(\n    service_pb2.PostSearchesRequest(\n        user_app_id=userDataObject,\n        query=resources_pb2.Query(\n            ands=[\n                resources_pb2.And(\n                    input=resources_pb2.Input(\n                        data=resources_pb2.Data(\n                            metadata=search_metadata\n                        )\n                    )\n                )\n            ]\n        )\n    ),\n    metadata=metadata\n)\n\nif post_searches_response.status.code != status_code_pb2.SUCCESS:\n    print(post_searches_response.status)\n    raise Exception(\"Post searches failed, status: \" + post_searches_response.status.description)\n\nprint(\"Found inputs:\")\nfor hit in post_searches_response.hits:\n    print(\"\\tScore %.2f for %s\" % (hit.score, hit.input.id))    ",u="##################################################################################\n# In this section, we set the user authentication, app ID, and the input details \n# we want to add. Change these strings to run your own example.\n##################################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the Account's Security section\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change these to add your own input with longitude and latitude points\nIMAGE_URL = 'https://samples.clarifai.com/dog.tiff'\nLONGITUDE = -30.0\nLATITUDE = 40.0\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID) # The userDataObject is required when using a PAT\n\npost_inputs_response = stub.PostInputs(\n    service_pb2.PostInputsRequest(\n        user_app_id=userDataObject,\n        inputs=[\n            resources_pb2.Input(\n                data=resources_pb2.Data(\n                    image=resources_pb2.Image(\n                        url=IMAGE_URL,\n                        allow_duplicate_url=True\n                    ),\n                    geo=resources_pb2.Geo(\n                        geo_point=resources_pb2.GeoPoint(\n                            longitude=LONGITUDE,\n                            latitude=LATITUDE,\n                        )\n                    )\n                )\n            )\n        ]\n    ),\n    metadata=metadata\n)\n\nif post_inputs_response.status.code != status_code_pb2.SUCCESS:\n    print(post_inputs_response.status)\n    raise Exception(\"Post inputs failed, status: \" + post_inputs_response.status.description)\n    \n",c="#####################################################################################\n# In this section, we set the user authentication, app ID, and details of the point \n# we want to perform a search with. Change these strings to run your own example.\n#####################################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the Account's Security section\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change these to perform your own search\nLONGITUDE = -29.0\nLATITUDE = 40.0\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID) # The userDataObject is required when using a PAT\n\npost_searches_response = stub.PostSearches(\n    service_pb2.PostSearchesRequest(\n        user_app_id=userDataObject,\n        query=resources_pb2.Query(\n            ands=[\n                resources_pb2.And(\n                    input=resources_pb2.Input(\n                        data=resources_pb2.Data(\n                            geo=resources_pb2.Geo(\n                                geo_point=resources_pb2.GeoPoint(\n                                    longitude=LONGITUDE,\n                                    latitude=LATITUDE,\n                                ),\n                                geo_limit=resources_pb2.GeoLimit(\n                                    type=\"withinKilometers\",\n                                    value=150.0\n                                )\n                            )\n                        )\n                    )\n                )\n            ]\n        )\n    ),\n    metadata=metadata\n)\n\nif post_searches_response.status.code != status_code_pb2.SUCCESS:\n    print(post_searches_response)\n    raise Exception(\"Post searches failed, status: \" + post_searches_response.status.description)\n\nprint(\"Found inputs:\")\nfor hit in post_searches_response.hits:\n    print(\"\\tScore %.2f for %s\" % (hit.score, hit.input.id))\n",p="#####################################################################################\n# In this section, we set the user authentication, app ID, and details of the points \n# we want to perform a search with. Change these strings to run your own example.\n#####################################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the Account's Security section\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change these to perform your own search\nLONGITUDE_1 = -31.0\nLATITUDE_1 = 42.0\nLONGITUDE_2 = -29.0\nLATITUDE_2 = 39.0\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID) # The userDataObject is required when using a PAT\n\npost_searches_response = stub.PostSearches(\n    service_pb2.PostSearchesRequest(\n        user_app_id=userDataObject,\n        query=resources_pb2.Query(\n            ands=[\n                resources_pb2.And(\n                    input=resources_pb2.Input(\n                        data=resources_pb2.Data(\n                            geo=resources_pb2.Geo(\n                                geo_box=[\n                                    resources_pb2.GeoBoxedPoint(\n                                        geo_point=resources_pb2.GeoPoint(\n                                            longitude=LONGITUDE_1,\n                                            latitude=LATITUDE_1,\n                                        ),\n                                    ),\n                                    resources_pb2.GeoBoxedPoint(\n                                        geo_point=resources_pb2.GeoPoint(\n                                            longitude=LONGITUDE_2,\n                                            latitude=LATITUDE_2,\n                                        ),\n                                    ),\n                                ]\n                            )\n                        )\n                    )\n                )\n            ]\n        )\n    ),\n    metadata=metadata\n)\n\nif post_searches_response.status.code != status_code_pb2.SUCCESS:\n    print(post_searches_response.status)\n    raise Exception(\"Post searches failed, status: \" + post_searches_response.status.description)\n\nprint(\"Found inputs:\")\nfor hit in post_searches_response.hits:\n    print(\"\\tScore %.2f for %s\" % (hit.score, hit.input.id))\n",d='//index.js file\n\n///////////////////////////////////////////////////////////////////\n// In this section, we set the user authentication and app ID. \n// Change these strings to run your own example.\n////////////////////////////////////////////////////////////////////\n\nconst USER_ID = \'YOUR_USER_ID_HERE\';\n// Your PAT (Personal Access Token) can be found in the Account\'s Security section\nconst PAT = \'YOUR_PAT_HERE\';\nconst APP_ID = \'YOUR_APP_ID_HERE\';\n\n///////////////////////////////////////////////////////////////////////////////////\n// YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n///////////////////////////////////////////////////////////////////////////////////\n\nconst { ClarifaiStub, grpc } = require("clarifai-nodejs-grpc");\n\nconst stub = ClarifaiStub.grpc();\n\n// This will be used by every Clarifai endpoint call\nconst metadata = new grpc.Metadata();\nmetadata.set("authorization", "Key " + PAT);\n\nstub.PostSearches(\n    {\n        user_app_id: {\n            user_id: USER_ID,\n            app_id: APP_ID\n        },\n        query: {\n            ands: [\n                {\n                    input: {\n                        data: {\n                            metadata: {\n                                "type": "animal"\n                            }\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error("Post searches failed, status: " + response.status.description);\n        }\n\n        console.log("Found inputs:");\n        for (const hit of response.hits) {\n            console.log("\\tScore " + hit.score + " for " + hit.input.id);\n        }\n    }\n);\n',h="//index.js file\n\n////////////////////////////////////////////////////////////////////////////////////\n// In this section, we set the user authentication, app ID, and the input details \n// we want to add. Change these strings to run your own example.\n////////////////////////////////////////////////////////////////////////////////////\n\nconst USER_ID = 'YOUR_USER_ID_HERE';\n// Your PAT (Personal Access Token) can be found in the Account's Security section\nconst PAT = 'YOUR_PAT_HERE';\nconst APP_ID = 'YOUR_APP_ID_HERE';\n// Change these to add your own input with longitude and latitude points\nconst IMAGE_URL = 'https://samples.clarifai.com/dog.tiff';\nconst LONGITUDE = -30.0;\nconst LATITUDE = 40.0;\n\n///////////////////////////////////////////////////////////////////////////////////\n// YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n///////////////////////////////////////////////////////////////////////////////////\n\nconst { ClarifaiStub, grpc } = require(\"clarifai-nodejs-grpc\");\n\nconst stub = ClarifaiStub.grpc();\n\n// This will be used by every Clarifai endpoint call\nconst metadata = new grpc.Metadata();\nmetadata.set(\"authorization\", \"Key \" + PAT);\n\nstub.PostInputs(\n    {\n        user_app_id: {\n            user_id: USER_ID,\n            app_id: APP_ID\n        },\n        inputs: [\n            {\n                data: {\n                    image: { url: IMAGE_URL, allow_duplicate_url: true },\n                    geo: {\n                        geo_point: {\n                            longitude: LONGITUDE,\n                            latitude: LATITUDE\n                        }\n                    }\n                }\n            }\n        ]\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error(\"Post inputs failed, status: \" + response.status.description);\n        }\n    }\n);\n",g='//index.js file\n\n///////////////////////////////////////////////////////////////////////////////////////\n// In this section, we set the user authentication, app ID, and details of the point \n// we want to perform a search with. Change these strings to run your own example.\n///////////////////////////////////////////////////////////////////////////////////////\n\nconst USER_ID = \'YOUR_USER_ID_HERE\';\n// Your PAT (Personal Access Token) can be found in the Account\'s Security section\nconst PAT = \'YOUR_PAT_HERE\';\nconst APP_ID = \'YOUR_APP_ID_HERE\';\n// Change these to perform your own search\nconst LONGITUDE = -29.0;\nconst LATITUDE = 40.0;\n\n///////////////////////////////////////////////////////////////////////////////////\n// YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n///////////////////////////////////////////////////////////////////////////////////\n\nconst { ClarifaiStub, grpc } = require("clarifai-nodejs-grpc");\n\nconst stub = ClarifaiStub.grpc();\n\n// This will be used by every Clarifai endpoint call\nconst metadata = new grpc.Metadata();\nmetadata.set("authorization", "Key " + PAT);\n\nstub.PostSearches(\n    {\n        user_app_id: {\n            user_id: USER_ID,\n            app_id: APP_ID\n        },\n        query: {\n            ands: [\n                {\n                    input: {\n                        data: {\n                            geo: {\n                                geo_point: {\n                                    longitude: LONGITUDE,\n                                    latitude: LATITUDE\n                                },\n                                geo_limit: {\n                                    type: "withinKilometers",\n                                    value: 150.0\n                                }\n                            }\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error("Post searches failed, status: " + response.status.description);\n        }\n\n        console.log("Found inputs:");\n        for (const hit of response.hits) {\n            console.log("\\tScore " + hit.score + " for " + hit.input.id);\n        }\n    }\n);\n',_='//index.js file\n\n///////////////////////////////////////////////////////////////////////////////////////\n// In this section, we set the user authentication, app ID, and details of the points \n// we want to perform a search with. Change these strings to run your own example.\n///////////////////////////////////////////////////////////////////////////////////////\n\nconst USER_ID = \'YOUR_USER_ID_HERE\';\n// Your PAT (Personal Access Token) can be found in the Account\'s Security section\nconst PAT = \'YOUR_PAT_HERE\';\nconst APP_ID = \'YOUR_APP_ID_HERE\';\n// Change these to perform your own search\nconst LONGITUDE_1 = -31.0;\nconst LATITUDE_1 = 42.0;\nconst LONGITUDE_2 = -29.0;\nconst LATITUDE_2 = 39.0;\n\n///////////////////////////////////////////////////////////////////////////////////\n// YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n///////////////////////////////////////////////////////////////////////////////////\n\nconst { ClarifaiStub, grpc } = require("clarifai-nodejs-grpc");\n\nconst stub = ClarifaiStub.grpc();\n\n// This will be used by every Clarifai endpoint call\nconst metadata = new grpc.Metadata();\nmetadata.set("authorization", "Key " + PAT);\n\nstub.PostSearches(\n    {\n        user_app_id: {\n            user_id: USER_ID,\n            app_id: APP_ID\n        },\n        query: {\n            ands: [\n                {\n                    input: {\n                        data: {\n                            geo: {\n                                geo_box: [\n                                    {\n                                        geo_point: {\n                                            longitude: LONGITUDE_1,\n                                            latitude: LATITUDE_1\n                                        }\n                                    },\n                                    {\n                                        geo_point: {\n                                            longitude: LONGITUDE_2,\n                                            latitude: LATITUDE_2\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error("Post searches failed, status: " + response.status.description);\n        }\n\n        console.log("Found inputs:");\n        for (const hit of response.hits) {\n            console.log("\\tScore " + hit.score + " for " + hit.input.id);\n        }\n    }\n);\n',m='package com.clarifai.example;\n\nimport com.clarifai.channel.ClarifaiChannel;\nimport com.clarifai.credentials.ClarifaiCallCredentials;\nimport com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.StatusCode;\nimport com.google.protobuf.Struct;\nimport com.google.protobuf.Value;\n\npublic class ClarifaiExample {\n\n    ///////////////////////////////////////////////////////////////////\n    // In this section, we set the user authentication and app ID. \n    // Change these strings to run your own example.\n    ////////////////////////////////////////////////////////////////////\n\n    static final String USER_ID = "YOUR_USER_ID_HERE";\n    //Your PAT (Personal Access Token) can be found in the portal under Authentication\n    static final String PAT = "YOUR_PAT_HERE";\n    static final String APP_ID = "YOUR_APP_ID_HERE";\n\n    ///////////////////////////////////////////////////////////////////////////////////\n    // YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n    ///////////////////////////////////////////////////////////////////////////////////\n\n    public static void main(String[] args) {\n\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel())\n            .withCallCredentials(new ClarifaiCallCredentials(PAT));\n\n        MultiSearchResponse postSearchesResponse = stub.postSearches(\n            PostSearchesRequest.newBuilder()\n            .setUserAppId(UserAppIDSet.newBuilder().setUserId(USER_ID).setAppId(APP_ID))\n            .setQuery(\n                Query.newBuilder().addAnds(\n                    And.newBuilder().setInput(\n                        Input.newBuilder().setData(\n                            Data.newBuilder().setMetadata(\n                                Struct.newBuilder()\n                                .putFields("type", Value.newBuilder().setStringValue("animal").build())\n                            )\n                        )\n                    )\n                )\n            )\n            .build()\n        );\n\n        if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException("Post searches failed, status: " + postSearchesResponse.getStatus());\n        }\n\n        System.out.println("Found inputs " + postSearchesResponse.getHitsCount() + ":");\n        for (Hit hit: postSearchesResponse.getHitsList()) {\n            System.out.printf("\\tScore %.2f for %s\\n", hit.getScore(), hit.getInput().getId());\n        }\n\n    }\n\n}',f='package com.clarifai.example;\n\nimport com.clarifai.channel.ClarifaiChannel;\nimport com.clarifai.credentials.ClarifaiCallCredentials;\nimport com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.StatusCode;\n\npublic class ClarifaiExample {\n\n    ////////////////////////////////////////////////////////////////////////////////////\n    // In this section, we set the user authentication, app ID, and the input details \n    // we want to add. Change these strings to run your own example.\n    ////////////////////////////////////////////////////////////////////////////////////\n\n    static final String USER_ID = "YOUR_USER_ID_HERE";\n    //Your PAT (Personal Access Token) can be found in the portal under Authentication\t\n    static final String PAT = "YOUR_PAT_HERE";\n    static final String APP_ID = "YOUR_APP_ID_HERE";\n    // Change these to add your own input with longitude and latitude points\n    static final String IMAGE_URL = "https://samples.clarifai.com/dog.tiff";\n    static final float LONGITUDE = -30.0f;\n    static final float LATITUDE = 40.0f;\n\n    ///////////////////////////////////////////////////////////////////////////////////\n    // YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n    ///////////////////////////////////////////////////////////////////////////////////\n\n    public static void main(String[] args) {\n\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel())\n            .withCallCredentials(new ClarifaiCallCredentials(PAT));\n\n        MultiInputResponse postInputsResponse = stub.postInputs(\n            PostInputsRequest.newBuilder()\n            .setUserAppId(UserAppIDSet.newBuilder().setUserId(USER_ID).setAppId(APP_ID))\n            .addInputs(\n                Input.newBuilder().setData(\n                    Data.newBuilder()\n                    .setImage(\n                        Image.newBuilder()\n                        .setUrl(IMAGE_URL)\n                        .setAllowDuplicateUrl(true)\n                    )\n                    .setGeo(\n                        Geo.newBuilder().setGeoPoint(\n                            GeoPoint.newBuilder()\n                            .setLongitude(LONGITUDE)\n                            .setLatitude(LATITUDE)\n                        )\n                    )\n                )\n            ).build()\n        );\n\n        if (postInputsResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException("Post inputs failed, status: " + postInputsResponse.getStatus());\n        }\n\n    }\n\n}',E='package com.clarifai.example;\n\nimport com.clarifai.channel.ClarifaiChannel;\nimport com.clarifai.credentials.ClarifaiCallCredentials;\nimport com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.StatusCode;\n\npublic class ClarifaiExample {\n\n    ///////////////////////////////////////////////////////////////////////////////////////\n    // In this section, we set the user authentication, app ID, and details of the point \n    // we want to perform a search with. Change these strings to run your own example.\n    ///////////////////////////////////////////////////////////////////////////////////////\n\n    static final String USER_ID = "YOUR_USER_ID_HERE";\n    //Your PAT (Personal Access Token) can be found in the portal under Authentication\t\n    static final String PAT = "YOUR_PAT_HERE";\n    static final String APP_ID = "YOUR_APP_ID_HERE";\n    // Change these to perform your own search\n    static final float LONGITUDE = -29.0f;\n    static final float LATITUDE = 40.0f;\n\n    ///////////////////////////////////////////////////////////////////////////////////\n    // YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n    ///////////////////////////////////////////////////////////////////////////////////\n\n    public static void main(String[] args) {\n\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel())\n            .withCallCredentials(new ClarifaiCallCredentials(PAT));\n\n        MultiSearchResponse postSearchesResponse = stub.postSearches(\n            PostSearchesRequest.newBuilder()\n            .setUserAppId(UserAppIDSet.newBuilder().setUserId(USER_ID).setAppId(APP_ID))\n            .setQuery(\n                Query.newBuilder().addAnds(\n                    And.newBuilder().setInput(\n                        Input.newBuilder().setData(\n                            Data.newBuilder().setGeo(\n                                Geo.newBuilder()\n                                .setGeoPoint(\n                                    GeoPoint.newBuilder()\n                                    .setLongitude(LONGITUDE)\n                                    .setLatitude(LATITUDE)\n                                )\n                                .setGeoLimit(\n                                    GeoLimit.newBuilder()\n                                    .setType("withinKilometers")\n                                    .setValue(150.0f)\n                                )\n                            )\n                        )\n                    )\n                )\n            )\n            .build()\n        );\n\n        if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException("Post searches failed, status: " + postSearchesResponse.getStatus());\n        }\n\n        System.out.println("Found inputs " + postSearchesResponse.getHitsCount() + ":");\n        for (Hit hit : postSearchesResponse.getHitsList()) {\n            System.out.printf("\\tScore %.2f for %s\\n", hit.getScore(), hit.getInput().getId());\n        }\n\n    }\n\n}',T='package com.clarifai.example;\n\nimport com.clarifai.channel.ClarifaiChannel;\nimport com.clarifai.credentials.ClarifaiCallCredentials;\nimport com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.StatusCode;\n\npublic class ClarifaiExample {\n\n    ///////////////////////////////////////////////////////////////////////////////////////\n    // In this section, we set the user authentication, app ID, and details of the points \n    // we want to perform a search with. Change these strings to run your own example.\n    ///////////////////////////////////////////////////////////////////////////////////////\n\n    static final String USER_ID = "YOUR_USER_ID_HERE";\n    //Your PAT (Personal Access Token) can be found in the portal under Authentication\t\n    static final String PAT = "YOUR_PAT_HERE";\n    static final String APP_ID = "YOUR_APP_ID_HERE";\n    // Change these to perform your own search\n    static final float LONGITUDE_1 = -31.0f;\n    static final float LATITUDE_1 = 42.0f;\n    static final float LONGITUDE_2 = -29.0f;\n    static final float LATITUDE_2 = 39.0f;\n\n    ///////////////////////////////////////////////////////////////////////////////////\n    // YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n    ///////////////////////////////////////////////////////////////////////////////////\n\n    public static void main(String[] args) {\n\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel())\n            .withCallCredentials(new ClarifaiCallCredentials(PAT));\n\n        MultiSearchResponse postSearchesResponse = stub.postSearches(\n            PostSearchesRequest.newBuilder()\n            .setUserAppId(UserAppIDSet.newBuilder().setUserId(USER_ID).setAppId(APP_ID))\n            .setQuery(\n                Query.newBuilder().addAnds(\n                    And.newBuilder().setInput(\n                        Input.newBuilder().setData(\n                            Data.newBuilder().setGeo(\n                                Geo.newBuilder()\n                                .addGeoBox(\n                                    GeoBoxedPoint.newBuilder().setGeoPoint(\n                                        GeoPoint.newBuilder()\n                                        .setLongitude(LONGITUDE_1)\n                                        .setLatitude(LATITUDE_1)\n                                    )\n                                )\n                                .addGeoBox(\n                                    GeoBoxedPoint.newBuilder().setGeoPoint(\n                                        GeoPoint.newBuilder()\n                                        .setLongitude(LONGITUDE_2)\n                                        .setLatitude(LATITUDE_2)\n                                    ).build()\n                                )\n                            )\n                        )\n                    )\n                )\n            )\n            .build()\n        );\n\n        if (postSearchesResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException("Post searches failed, status: " + postSearchesResponse.getStatus());\n        }\n\n        System.out.println("Found inputs " + postSearchesResponse.getHitsCount() + ":");\n        for (Hit hit : postSearchesResponse.getHitsList()) {\n            System.out.printf("\\tScore %.2f for %s\\n", hit.getScore(), hit.getInput().getId());\n        }\n\n    }\n\n}',I='curl -X POST "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/apps/YOUR_APP_ID_HERE/searches" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": {\n      "ands": [\n        {\n          "input":{\n            "data": {\n              "metadata": {\n                "type": "animal"\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\'',b='curl -X POST "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/apps/YOUR_APP_ID_HERE/inputs" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n  -H "Content-Type: application/json" \\\n  -d \'\n  {\n    "inputs": [\n      {\n        "data": {\n          "image": {\n            "url": "https://samples.clarifai.com/dog.tiff",\n            "allow_duplicate_url": true\n          },\n          "geo": {\n            "geo_point": {\n              "longitude": -30,\n              "latitude": 40\n            }\n          }\n        }\n      }\n    ]\n  }\'',y='curl -X POST "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/apps/YOUR_APP_ID_HERE/searches" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": {\n      "ands": [\n        {\n          "input": {\n            "data": {\n              "geo": {\n                "geo_point": {\n                  "longitude": -29.0,\n                  "latitude": 40.0\n                },\n                "geo_limit": {\n                  "type": "withinKilometers",\n                  "value": 150\n                }\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\'',A='curl -X POST "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/apps/YOUR_APP_ID_HERE/searches" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": {\n      "ands": [\n        {\n          "input": {\n            "data": {\n              "geo": {\n                "geo_box": [\n                  {\n                    "geo_point": {\n                      "latitude": 42,\n                      "longitude": -31\n                    }\n                  },\n                  {\n                    "geo_point": {\n                      "latitude": 39,\n                      "longitude": -29\n                    }\n                  }\n                ]\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\'',S={description:"Select a subset of your data based on useful filters.",sidebar_position:2},P="Filter",w={unversionedId:"api-guide/search/legacy-search/filter",id:"api-guide/search/legacy-search/filter",title:"Filter",description:"Select a subset of your data based on useful filters.",source:"@site/docs/api-guide/search/legacy-search/filter.md",sourceDirName:"api-guide/search/legacy-search",slug:"/api-guide/search/legacy-search/filter",permalink:"/api-guide/search/legacy-search/filter",draft:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/api-guide/search/legacy-search/filter.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{description:"Select a subset of your data based on useful filters.",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Combine or Negate",permalink:"/api-guide/search/legacy-search/combine-or-negate"},next:{title:"Rank",permalink:"/api-guide/search/legacy-search/rank"}},R={},D=[{value:"By Custom Metadata",id:"by-custom-metadata",level:2},{value:"By Geo Location",id:"by-geo-location",level:2},{value:"Add Inputs With Longitude and Latitude Points",id:"add-inputs-with-longitude-and-latitude-points",level:3},{value:"Perform a Search With One Geo Point and Radius in Kilometers",id:"perform-a-search-with-one-geo-point-and-radius-in-kilometers",level:3},{value:"Perform a Search With Two Geo Points",id:"perform-a-search-with-two-geo-points",level:3}],C={toc:D},U="wrapper";function N(e){let{components:n,...t}=e;return(0,s.yg)(U,(0,a.A)({},C,t,{components:n,mdxType:"MDXLayout"}),(0,s.yg)("h1",{id:"filter"},"Filter"),(0,s.yg)("p",null,(0,s.yg)("strong",{parentName:"p"},"Select a subset of your data based on useful filters")),(0,s.yg)("hr",null),(0,s.yg)("admonition",{type:"info"},(0,s.yg)("p",{parentName:"admonition"},"The initialization code used in the following example is outlined in detail on the ",(0,s.yg)("a",{parentName:"p",href:"https://docs.clarifai.com/api-guide/api-overview/api-clients/#client-installation-instructions"},"client installation page."))),(0,s.yg)("h2",{id:"by-custom-metadata"},"By Custom Metadata"),(0,s.yg)("p",null,"After you have added inputs with custom metadata, you can search by that metadata."),(0,s.yg)("p",null,"Below is an example of searching over custom metadata. You can exact match any ",(0,s.yg)("inlineCode",{parentName:"p"},"key"),": ",(0,s.yg)("inlineCode",{parentName:"p"},"value")," pair no matter how nested it is. "),(0,s.yg)("p",null,"For example, if the metadata on an input is:"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "keyname": "value1",\n  "somelist": [1,2,3],\n  "somenesting": {\n     "keyname2":"value2",\n     "list2":[4,5]\n   }\n}\n')),(0,s.yg)("p",null,"Then the following searches will find this:"),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "keyname": "value1"\n}\n')),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "somelist": [1,2,3]\n}\n')),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "somelist": [1,2]\n}\n')),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "somenesting": {"keyname2":"value2"}\n}\n')),(0,s.yg)("pre",null,(0,s.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "somenesting": {"list2":[5]}\n}\n')),(0,s.yg)("p",null,"How to perform searches:"),(0,s.yg)(i.A,{mdxType:"Tabs"},(0,s.yg)(r.A,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-python",mdxType:"CodeBlock"},l)),(0,s.yg)(r.A,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-javascript",mdxType:"CodeBlock"},d)),(0,s.yg)(r.A,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-java",mdxType:"CodeBlock"},m)),(0,s.yg)(r.A,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-bash",mdxType:"CodeBlock"},I))),(0,s.yg)("h2",{id:"by-geo-location"},"By Geo Location"),(0,s.yg)("p",null,"Search by geo location allows you to restrict your search results to a bounding box based on longitude and latitude points. There are two ways you can provide longitude/latitude points. You can provide one point and a radius or you can provide two points."),(0,s.yg)("p",null,"It is important to note that a search by geo location acts as a filter and returns results ranked by any other provided search criteria, whether that is a visual search, concept search, or something else. If no other criteria is provided, results will return in the order the inputs were created, NOT by their distance to the center of the search area."),(0,s.yg)("p",null,'If you are providing one point and a radius, the radius can be in "mile", "kilometer", "degree", or "radian", marked by keywords ',(0,s.yg)("inlineCode",{parentName:"p"},"withinMiles"),", ",(0,s.yg)("inlineCode",{parentName:"p"},"withinKilometers"),", ",(0,s.yg)("inlineCode",{parentName:"p"},"withinDegrees"),", or ",(0,s.yg)("inlineCode",{parentName:"p"},"withinRadians")," respectively."),(0,s.yg)("p",null,"If you are providing two points, a box will be drawn from the uppermost point to the lowermost point, and the leftmost point to the rightmost point."),(0,s.yg)("p",null,"Before you perform a search by geo location, make sure you have added inputs with longitude and latitude points."),(0,s.yg)("h3",{id:"add-inputs-with-longitude-and-latitude-points"},"Add Inputs With Longitude and Latitude Points"),(0,s.yg)("p",null,"Provide a geo point to an input. The geo point is a JSON object consisting of a longitude and a latitude in GPS coordinate system ","(","SRID 4326",")",". There can be at most one single geo point associated with each input."),(0,s.yg)(i.A,{mdxType:"Tabs"},(0,s.yg)(r.A,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-python",mdxType:"CodeBlock"},u)),(0,s.yg)(r.A,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-javascript",mdxType:"CodeBlock"},h)),(0,s.yg)(r.A,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-java",mdxType:"CodeBlock"},f)),(0,s.yg)(r.A,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-bash",mdxType:"CodeBlock"},b))),(0,s.yg)("h3",{id:"perform-a-search-with-one-geo-point-and-radius-in-kilometers"},"Perform a Search With One Geo Point and Radius in Kilometers"),(0,s.yg)(i.A,{mdxType:"Tabs"},(0,s.yg)(r.A,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-python",mdxType:"CodeBlock"},c)),(0,s.yg)(r.A,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-javascript",mdxType:"CodeBlock"},g)),(0,s.yg)(r.A,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-java",mdxType:"CodeBlock"},E)),(0,s.yg)(r.A,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-bash",mdxType:"CodeBlock"},y))),(0,s.yg)("h3",{id:"perform-a-search-with-two-geo-points"},"Perform a Search With Two Geo Points"),(0,s.yg)(i.A,{mdxType:"Tabs"},(0,s.yg)(r.A,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-python",mdxType:"CodeBlock"},p)),(0,s.yg)(r.A,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-javascript",mdxType:"CodeBlock"},_)),(0,s.yg)(r.A,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-java",mdxType:"CodeBlock"},T)),(0,s.yg)(r.A,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,s.yg)(o.A,{className:"language-bash",mdxType:"CodeBlock"},A))))}N.isMDXComponent=!0}}]);