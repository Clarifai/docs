"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[8409],{84343:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>a});var i=o(74848),t=o(28453);const s={description:"Learn about updates to model and model version endpoints",sidebar_position:-3},d="Updates to Model and Model Version Endpoints",l={id:"product-updates/upcoming-api-changes/model-version-endpoints",title:"Updates to Model and Model Version Endpoints",description:"Learn about updates to model and model version endpoints",source:"@site/docs/product-updates/upcoming-api-changes/model-version-endpoints.md",sourceDirName:"product-updates/upcoming-api-changes",slug:"/product-updates/upcoming-api-changes/model-version-endpoints",permalink:"/product-updates/upcoming-api-changes/model-version-endpoints",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/product-updates/upcoming-api-changes/model-version-endpoints.md",tags:[],version:"current",sidebarPosition:-3,frontMatter:{description:"Learn about updates to model and model version endpoints",sidebar_position:-3},sidebar:"tutorialSidebar",previous:{title:"Deprecation of closed_environment in favor of enrich_dataset",permalink:"/product-updates/upcoming-api-changes/closed-environment"},next:{title:"Changes to PostModelOutputs and PostWorkflowResults Responses",permalink:"/product-updates/upcoming-api-changes/postmodeloutputs-responses"}},r={},a=[{value:"Date",id:"date",level:2},{value:"Change",id:"change",level:2},{value:"Details",id:"details",level:2},{value:"Old Behavior",id:"old-behavior",level:4},{value:"New Behavior",id:"new-behavior",level:4}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"updates-to-model-and-model-version-endpoints",children:"Updates to Model and Model Version Endpoints"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Learn about updates to model and model version endpoints"})}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(n.h2,{id:"date",children:"Date"}),"\n",(0,i.jsx)(n.p,{children:"January 20th, 2023"}),"\n",(0,i.jsx)(n.h2,{id:"change",children:"Change"}),"\n",(0,i.jsx)(n.p,{children:"Critical updates to model and model version endpoints"}),"\n",(0,i.jsx)(n.h2,{id:"details",children:"Details"}),"\n",(0,i.jsx)(n.h4,{id:"old-behavior",children:"Old Behavior"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Previously, using the ",(0,i.jsx)(n.strong,{children:"PostModels"})," endpoint to create a new model also created a placeholder version of the model with user-provided fields. And if the ",(0,i.jsx)(n.code,{children:"model_type_id"})," of the model was trainable, then a new ModelVersion was created with UNTRAINED status by default. Otherwise, if the ",(0,i.jsx)(n.code,{children:"model_type_id"})," was not trainable, then a new ModelVersion was created with TRAINED status."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Modifying a model's config settings requires using the ",(0,i.jsx)(n.strong,{children:"PatchModels"})," endpoint. It's how you previously changed the info fields, descriptions, notes, metadata for both models and model versions. If you were only patching fields that are informational about the model, and not the model version, a model version was not created. If you were patching a trainable model where the latest model version was trained, and you were only changing the ",(0,i.jsx)(n.code,{children:"output_info"}),", a new trained model version was created with the new info. Otherwise, if you were patching a trainable model where the latest model version had not been trained, the created model version was marked as untrained by default. If you were patching an untrainable model type, the new created model version was marked as trained."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Previously, using the ",(0,i.jsx)(n.strong,{children:"PostModelVersions"})," endpoint automatically, by default, kicked off training the latest untrained model version\u2014even though a user may not intend to train the latest version, which could unnecessarily incur training costs."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Previously, using the ",(0,i.jsx)(n.strong,{children:"PatchModelVersions"})," endpoint only patched a model versions' visibility, metadata, license, or description\u2014while maintaining the model version's status."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"new-behavior",children:"New Behavior"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PostModels"})," will create new models but not create new model versions. This means trainable models that have not yet been trained will require the additional step of calling ",(0,i.jsx)(n.strong,{children:"PostModelVersions"}),"\u2014while providing the ",(0,i.jsx)(n.code,{children:"*_info"})," fields in the model version\u2014to effect training."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PostModelVersions"})," will allow users to give information specific to a model version. All the ",(0,i.jsx)(n.code,{children:"*_info"})," fields\u2014such as ",(0,i.jsx)(n.code,{children:"output_info"}),", ",(0,i.jsx)(n.code,{children:"input_info"}),", ",(0,i.jsx)(n.code,{children:"train_info"}),", and ",(0,i.jsx)(n.code,{children:"import_info"}),"\u2014will be migrated to the endpoint. This would minimize the confusion and difficulty of maintaining these endpoints. Users will be able patch model specific fields without worrying about model version fields being affected."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PatchModels"})," will allow users to patch only the model level fields, nothing in the model version. Unnecessary model versions will no longer be created. This allows users to easily track persisted versions."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PatchModelVersions"})," will be the new way to change most of the model version fields like gettable, metadata, license, description, notes, and ",(0,i.jsx)(n.code,{children:"output_info"})," (not including concepts)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If users used ",(0,i.jsx)(n.code,{children:"model.output_info.output_config"})," when inferencing, they will have to change that to ",(0,i.jsx)(n.code,{children:"model.model_version.output_info.output_config"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>d,x:()=>l});var i=o(96540);const t={},s=i.createContext(t);function d(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);