"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[1751],{19051:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>h});var n=s(74848),o=s(28453);const i={description:"Learn about our push operators",sidebar_position:4},a="Push",r={id:"portal-guide/agent-system-operators/push",title:"Push",description:"Learn about our push operators",source:"@site/docs/portal-guide/agent-system-operators/push.md",sourceDirName:"portal-guide/agent-system-operators",slug:"/portal-guide/agent-system-operators/push",permalink:"/portal-guide/agent-system-operators/push",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/portal-guide/agent-system-operators/push.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{description:"Learn about our push operators",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Edit",permalink:"/portal-guide/agent-system-operators/edit"},next:{title:"Aggregate",permalink:"/portal-guide/agent-system-operators/aggregate"}},c={},h=[{value:"Annotation Writer",id:"annotation-writer",level:2},{value:"How to Annotate Text Inputs",id:"how-to-annotate-text-inputs",level:3},{value:"How to Annotate Image Inputs",id:"how-to-annotate-image-inputs",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"push",children:"Push"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Learn about our push operators"})}),"\n",(0,n.jsx)("hr",{}),"\n",(0,n.jsx)(t.p,{children:"Push operators help you to automate processes. You can trigger a wide variety of actions based on predictions made by models in your workflow. For example, you can automatically add a label to an image based on predicted concepts."}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:['Since the push operators can be "chained" together with models to automate tasks in a workflow, you can learn how to create workflows ',(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/workflows/input-nodes#create-your-workflow",children:"here"}),"."]})}),"\n",(0,n.jsx)(t.h2,{id:"annotation-writer",children:"Annotation Writer"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Input"}),": Any"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Output"}),": Any"]}),"\n",(0,n.jsx)(t.p,{children:"Annotation Writer allows you to write the input data to the database in the form of an annotation with a specified status as if a specific user created the annotation."}),"\n",(0,n.jsx)(t.p,{children:"We'll demonstrate how to use the Annotation Writer to automatically annotate text and image inputs in your app."}),"\n",(0,n.jsx)(t.h3,{id:"how-to-annotate-text-inputs",children:"How to Annotate Text Inputs"}),"\n",(0,n.jsxs)(t.p,{children:["Let's start by demonstrating how you can use an Annotation Writer, alongside a ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/agent-system-operators/algorithmic-predict#regex-based-classifier",children:"Regex-Based Classifier"}),", to automatically label text inputs."]}),"\n",(0,n.jsxs)(t.admonition,{title:"Regex-Based Classifier",type:"caution",children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Input"}),": Text"]}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Output"}),": Concepts"]}),(0,n.jsx)(t.p,{children:"This operator allows you to classify text using regular expressions. When the specified regex pattern matches the text, the text is assigned to one of the predefined concepts."})]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"1."})," Create a concept that you want to be automatically assigned to your input. You can learn how to create concepts ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/concepts/create-get-update-delete",children:"here"}),". For this demonstration, let's create the ",(0,n.jsx)(t.code,{children:"bucket"})," concept."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"2."})," Create a ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/annotate/create-a-task",children:"labeling task"}),". Remember to choose ",(0,n.jsx)(t.code,{children:"Classification"})," as the modeling objective. Then, go to the ",(0,n.jsx)(t.strong,{children:"Tasks"})," listing page and copy the ID of the task."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(38726).A+"",width:"1916",height:"832"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"3."})," Go to the ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/workflows/workflow-builder/",children:"workflow builder"})," page. Search for the ",(0,n.jsx)(t.code,{children:"regex-based-classifier"})," node in the left-hand sidebar and drag and drop it onto the empty workspace."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(49330).A+"",width:"1908",height:"899"})}),"\n",(0,n.jsxs)(t.p,{children:["In the right-hand sidebar, click the ",(0,n.jsx)(t.strong,{children:"SELECT CONCEPTS"})," button and use the pop-up that appears to select the relevant concept(s) already existing in your application. For this example, we select the ",(0,n.jsx)(t.code,{children:"bucket"})," concept."]}),"\n",(0,n.jsxs)(t.p,{children:["In the ",(0,n.jsx)(t.strong,{children:"regex"})," field, provide the regex pattern that will be used to classify the text. If the pattern matches, the text will be classified as the selected concept. For this example, we provide ",(0,n.jsx)(t.code,{children:"\\bbucket\\b"}),', which would match the word "bucket" in instances where it appears as a whole word, surrounded by word boundaries.']}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"4."})," Search for the ",(0,n.jsx)(t.strong,{children:"annotation-writer"})," node in the left-hand sidebar and drag and drop it onto the workspace. Within the right-hand sidebar, specify the output configuration values:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(22493).A+"",width:"1911",height:"856"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Set the ",(0,n.jsx)(t.code,{children:"annotation_status"})," as ",(0,n.jsx)(t.code,{children:"ANNOTATION_SUCCESS"}),". This will write the annotations with the annotation success status."]}),"\n",(0,n.jsxs)(t.li,{children:["Set the ",(0,n.jsx)(t.code,{children:"annotation_user_id"}),". This is the ",(0,n.jsx)(t.code,{children:"user_id"})," for which to write the annotations on their behalf as if they manually did the work themselves. You could also choose your own ",(0,n.jsx)(t.code,{children:"user_id"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["For this example, let's leave the ",(0,n.jsx)(t.code,{children:"annotation_info"})," field empty."]}),"\n",(0,n.jsxs)(t.li,{children:["Set the ",(0,n.jsx)(t.code,{children:"task_id"}),". This is the ID the task annotation work belongs to. You can retrieve it from the ",(0,n.jsx)(t.strong,{children:"Tasks"})," listing page \u2014 as mentioned earlier."]}),"\n"]}),"\n",(0,n.jsxs)(t.admonition,{title:"Annotation Status",type:"warning",children:[(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"annotation_status"})," field lets you specify the ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/api-guide/advanced-topics/status-codes#annotation-related-codes-24xxx",children:"status of the annotation"})," that will be created. These are the possible values:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"ANNOTATION_SUCCESS"})," (code 24150) \u2014 The annotation is created successfully."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"ANNOTATION_PENDING"})," (code 24151) \u2014 The annotation status is pending."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"ANNOTATION_AWAITING_REVIEW"})," (code 24157) \u2014 Annotation is still waiting for review before it's finalized."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"ANNOTATION_AWAITING_CONSENSUS_REVIEW"})," (code 24159) \u2014 Annotation is still waiting for a consensus review before it's finalized."]}),"\n"]})]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"5."})," Connect the operators and save your workflow."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"6."})," Go to your app's settings page and change the ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/workflows/base-workflows/#how-to-change-a-base-workflow",children:"Base Workflow"})," to the workflow you just created."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"7."})," ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/data/#upload-inputs",children:"Upload a text input"})," into your app, such as ",(0,n.jsx)(t.code,{children:"I'm looking for a bucket list"}),". If you go to the Input-Viewer page, you'll notice that the text input has been automatically labeled with the ",(0,n.jsx)(t.code,{children:"bucket"})," concept."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(1364).A+"",width:"1917",height:"764"})}),"\n",(0,n.jsx)(t.p,{children:"The Regex-Based Classifier successfully classified the input and forwarded it to the Annotation Writer for labeling."}),"\n",(0,n.jsxs)(t.p,{children:["You can try this workflow ",(0,n.jsx)(t.a,{href:"https://clarifai.com/clarifai/Sample-Workflows-for-Docs/workflows/Annotation-Writer?version=2c31251b6b524a308d723310137a9670",children:"here"}),"."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["Before trying to access the workflow, please make sure that you have a Clarifai account and are logged in to the Clarifai platform to access the example workflow. If you do not have clarifai account you can\xa0signup\xa0",(0,n.jsx)(t.a,{href:"https://clarifai.com/explore",children:"here"}),"."]})}),"\n",(0,n.jsx)(t.h3,{id:"how-to-annotate-image-inputs",children:"How to Annotate Image Inputs"}),"\n",(0,n.jsx)(t.p,{children:"Next, let's demonstrate how you can use an Annotation Writer to automatically label image inputs. For this demonstration, we'll create a workflow that automatically classifies images of dogs and cats, assigning them the appropriate labels."}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"1."})," Create the concepts that you want to be automatically assigned to your input. You can learn how to create concepts ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/concepts/create-get-update-delete",children:"here"}),". For this demonstration, let's create ",(0,n.jsx)(t.code,{children:"cat"})," and ",(0,n.jsx)(t.code,{children:"dog"})," concepts."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"2."})," Create a ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/model/model-types/visual-classifier",children:"visual classification"})," model and train it with the ",(0,n.jsx)(t.code,{children:"cat"})," and ",(0,n.jsx)(t.code,{children:"dog"})," concepts. You can learn how to create the model ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/model/deep-training/#how-to-fine-tune-a-model",children:"here"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"3."})," Create a ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/annotate/create-a-task",children:"labeling task"}),". Remember to choose ",(0,n.jsx)(t.code,{children:"Classification"})," as the modeling objective. Then, go to the ",(0,n.jsx)(t.strong,{children:"Tasks"})," listing page and copy the ID of the task \u2014 as mentioned earlier."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"4."}),"  Go to the ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/workflows/workflow-builder/",children:"workflow builder"})," page. Search for the ",(0,n.jsx)(t.code,{children:"visual-classifier"})," node in the left-hand sidebar and drag and drop it onto the empty workspace. Connect it to the ",(0,n.jsx)(t.code,{children:"IN"})," element."]}),"\n",(0,n.jsxs)(t.admonition,{title:"visual classifier",type:"caution",children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Input"}),": Image"]}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Output"}),": Concepts"]}),(0,n.jsx)(t.p,{children:"It allows you to classify images into a set of concepts."})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(77003).A+"",width:"1913",height:"889"})}),"\n",(0,n.jsx)(t.p,{children:"Use the pop-up that appears in the right sidebar to search for the classification model you created and add it to the node. After selecting the model, we'll use the default settings of the other output configuration options for the purpose of this illustration."}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"5."})," Search for the ",(0,n.jsx)(t.code,{children:"concept-thresholder"})," node in the left sidebar and drag it onto the workspace. Connect it to the ",(0,n.jsx)(t.code,{children:"visual-classifier"})," node."]}),"\n",(0,n.jsxs)(t.admonition,{title:"concept-thresholder",type:"caution",children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Input"}),": Concepts"]}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Output"}),": Concepts"]}),(0,n.jsxs)(t.p,{children:['This operator allows you to threshold input concepts according to both a threshold and an overall operator (>, >=, =, <=, or <). For this example, we use the " > " (GREATER_THAN) threshold type. Thus, only the ',(0,n.jsx)(t.code,{children:"cat"})," and ",(0,n.jsx)(t.code,{children:"dog"})," concepts outputted by the visual classifier model above a certain threshold will be processed further downstream."]})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(13346).A+"",width:"1910",height:"889"})}),"\n",(0,n.jsxs)(t.p,{children:["Click the ",(0,n.jsx)(t.strong,{children:"SELECT CONCEPTS"})," button in the right sidebar."]}),"\n",(0,n.jsxs)(t.p,{children:["In the window that appears, select the relevant concepts already existing in your application. For this example, let's select the ",(0,n.jsx)(t.code,{children:"cat"})," and ",(0,n.jsx)(t.code,{children:"dog"})," concepts, and use the slider to set their threshold values to 0.80 each. This threshold will determine which concepts are accepted to be used for the auto-annotation."]}),"\n",(0,n.jsxs)(t.p,{children:["Click the ",(0,n.jsx)(t.strong,{children:"OK"})," button to save the changes. You'll see the selected concepts highlighted in the right sidebar, along with their threshold values."]}),"\n",(0,n.jsxs)(t.p,{children:["Lastly, select the ",(0,n.jsx)(t.code,{children:"concept_threshold_type"})," as ",(0,n.jsx)(t.code,{children:"GREATER_THAN"}),". Keep the other configuration options set to their default values."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"6."})," Search for the ",(0,n.jsx)(t.strong,{children:"annotation-writer"})," node in the left-hand sidebar and drag and drop it onto the workspace. Within the right-hand sidebar, specify the output configuration values:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(43705).A+"",width:"1898",height:"912"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Set the ",(0,n.jsx)(t.code,{children:"annotation_status"})," as ",(0,n.jsx)(t.code,{children:"ANNOTATION_SUCCESS"}),". This will write the annotations with the annotation success status."]}),"\n",(0,n.jsxs)(t.li,{children:["Set the ",(0,n.jsx)(t.code,{children:"annotation_user_id"}),". This is the ",(0,n.jsx)(t.code,{children:"user_id"})," for which to write the annotations on their behalf as if they manually did the work themselves. You could also choose your own ",(0,n.jsx)(t.code,{children:"user_id"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["For this example, let's leave the ",(0,n.jsx)(t.code,{children:"annotation_info"})," field empty."]}),"\n",(0,n.jsxs)(t.li,{children:["Set the ",(0,n.jsx)(t.code,{children:"task_id"}),". This is the ID the task annotation work belongs to. You can retrieve it from the ",(0,n.jsx)(t.strong,{children:"Tasks"})," listing page \u2014 as mentioned earlier."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"7."})," Click the ",(0,n.jsx)(t.strong,{children:"Save Workflow"})," button to save your workflow."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"8."})," Go to your app's settings page and change the ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/workflows/base-workflows/#how-to-change-a-base-workflow",children:"Base Workflow"})," to the workflow you just created."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"9."})," ",(0,n.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/data/#upload-inputs",children:"Upload an image input"})," into your app, such as ",(0,n.jsx)(t.a,{href:"https://samples.clarifai.com/cat1.jpeg",children:"this image"})," of a cat. If you go to the Input-Viewer page, you'll notice that the image input has been automatically labeled with the ",(0,n.jsx)(t.code,{children:"cat"})," concept."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:s(11600).A+"",width:"1904",height:"915"})}),"\n",(0,n.jsx)(t.p,{children:"The model successfully classified the input, the thresholder filtered the concepts, and the filtered concept was forwarded to the Annotation Writer for automatic labeling."})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},38726:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_1-2a4b764160cba2cb6627b08ab50f4bb7.png"},49330:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_1_1-4fedd52f558aacd7aab5ff5989fce924.png"},22493:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_2-74459f3479afd4ff6ede1c86ce665f19.png"},1364:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_3-aae607b42d0933a7add5066515eff25d.png"},77003:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_4-db80b55fb9872eba93b330d2a5677467.png"},13346:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_5-35f801fe65c5b93732287d27d2dd2484.png"},43705:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_6-05ee06562f227641ed75763694439161.png"},11600:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/annotation_writer_7-ad22c6efd28e4fac64148ca974c35cb3.png"},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>r});var n=s(96540);const o={},i=n.createContext(o);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);