"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[9522],{37394:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var s=t(74848),n=t(28453);const o={description:"Learn how to evaluate detection models",sidebar_position:3},a="Visual Detection Models",r={id:"portal-guide/evaluate/detection",title:"Visual Detection Models",description:"Learn how to evaluate detection models",source:"@site/docs/portal-guide/evaluate/detection.md",sourceDirName:"portal-guide/evaluate",slug:"/portal-guide/evaluate/detection",permalink:"/portal-guide/evaluate/detection",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/portal-guide/evaluate/detection.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{description:"Learn how to evaluate detection models",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Visual Classification Models",permalink:"/portal-guide/evaluate/interpreting-evaluations"},next:{title:"LLM Evaluation",permalink:"/portal-guide/evaluate/llms"}},l={},c=[{value:"Evaluation Highlights",id:"evaluation-highlights",level:2},{value:"Intersection Over Union (IoU)",id:"intersection-over-union-iou",level:2},{value:"Precision",id:"precision",level:2},{value:"Recall",id:"recall",level:2},{value:"F1 Score",id:"f1-score",level:2},{value:"Precision-Recall Curve",id:"precision-recall-curve",level:2},{value:"Average Precision (AP)",id:"average-precision-ap",level:2},{value:"Mean Average Precision (mAP)",id:"mean-average-precision-map",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"visual-detection-models",children:"Visual Detection Models"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Learn how to evaluate detection models"})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsxs)(i.p,{children:["Once the evaluation process is complete, the ",(0,s.jsx)(i.strong,{children:"Calculate"})," button will become a ",(0,s.jsx)(i.strong,{children:"View Results"})," button. You can click the ",(0,s.jsx)(i.strong,{children:"View Results"})," button to see and interpret the evaluation results of your detection model."]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{src:t(13965).A+"",width:"1792",height:"476"})}),"\n",(0,s.jsxs)(i.p,{children:["You will then be redirected to the ",(0,s.jsx)(i.strong,{children:"Evaluation results"})," page, where you can analyze the outcomes of the evaluation process."]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{src:t(71460).A+"",width:"1772",height:"783"})}),"\n",(0,s.jsx)(i.h2,{id:"evaluation-highlights",children:"Evaluation Highlights"}),"\n",(0,s.jsx)(i.p,{children:"At the top of the page, you will find details about the evaluated model, including:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Version of the model evaluated"}),"\n",(0,s.jsx)(i.li,{children:"Evaluation date"}),"\n",(0,s.jsx)(i.li,{children:"Number of concepts used for evaluation"}),"\n",(0,s.jsx)(i.li,{children:"App name"}),"\n",(0,s.jsx)(i.li,{children:"Dataset name"}),"\n",(0,s.jsx)(i.li,{children:"Dataset version ID"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.strong,{children:"Evaluation highlights"})," section provides key numerical metrics that offer an overview of the model's prediction performance, allowing you to assess the model's effectiveness at a glance."]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(i.p,{children:"Let\u2019s talk about the crucial metrics used in the evaluation of object detection models."}),"\n",(0,s.jsx)(i.h2,{id:"intersection-over-union-iou",children:"Intersection Over Union (IoU)"}),"\n",(0,s.jsx)(i.p,{children:"Intersection over Union (IoU) measures the degree of overlap between two bounding boxes: the predicted bounding box and the ground truth bounding box. It is defined as the ratio of the area of overlap to the area of union between the two intersecting boxes."}),"\n",(0,s.jsxs)(i.p,{children:["It is calculated as: ",(0,s.jsx)(i.code,{children:"Area of Overlap / Area of Union"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"Here is an image that demonstrates the IoU between a ground truth bounding box (in green) and a detected bounding box (in red):"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{src:t(15528).A+"",width:"464",height:"193"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsxs)(i.em,{children:["Image source: ",(0,s.jsx)(i.a,{href:"https://github.com/rafaelpadilla/Object-Detection-Metrics",children:"GitHub"})]})}),"\n",(0,s.jsx)(i.p,{children:"The IoU score provides a numerical value indicating how well the model\u2019s predictions align with the actual object locations. A higher IoU score signifies a better match between the predicted and ground truth bounding boxes, indicating superior localization accuracy. The values range from 0 to 1, where 1 indicates perfect overlap, and 0 indicates no overlap."}),"\n",(0,s.jsx)(i.p,{children:"IoU can be used to determine the following concepts:"}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsx)(i.p,{children:"For each predicted bounding box, IoU is calculated with respect to the ground truth bounding boxes. A predicted bounding box is considered a true positive if its IoU with a ground truth bounding box exceeds a predefined threshold (such as 0.5). Otherwise, it is considered a false positive."})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"True Positive"})," \u2013 a correct detection where IoU is greater than the threshold."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"False Positive"})," \u2013 an incorrect detection where IoU is less than the threshold."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"False Negative"})," \u2013 occurs when a ground truth is not detected."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"True Negative"})," \u2013 not applicable for object detection tasks, as it would represent a corrected misdetection."]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Different IoU thresholds can be applied to assess the model's performance at varying levels of strictness."}),"\n",(0,s.jsxs)(i.p,{children:["This is how the metrics are displayed on the ",(0,s.jsx)(i.strong,{children:"Evaluation Summary"})," table:"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{src:t(803).A+"",width:"1645",height:"580"})}),"\n",(0,s.jsx)(i.h2,{id:"precision",children:"Precision"}),"\n",(0,s.jsx)(i.p,{children:"Precision measures the accuracy of the model\u2019s positive predictions. It quantifies the model's ability to identify only the relevant objects, specifically assessing how well the model distinguishes true positives from false positives."}),"\n",(0,s.jsx)(i.p,{children:"A high precision score implies that the model effectively avoids false positives, providing reliable positive predictions."}),"\n",(0,s.jsxs)(i.p,{children:["It is calculated as: ",(0,s.jsx)(i.code,{children:"True Positives / (True Positives + False Positives (all detections))"}),"."]}),"\n",(0,s.jsx)(i.h2,{id:"recall",children:"Recall"}),"\n",(0,s.jsx)(i.p,{children:"Recall, also known as sensitivity or the true positive rate, measures a model's ability to correctly identify all relevant objects in the image (all ground truth bounding boxes). It specifically measures the model\u2019s completeness in detecting objects of interest."}),"\n",(0,s.jsx)(i.p,{children:"A high recall score implies that the model effectively identifies most of the relevant objects in the data."}),"\n",(0,s.jsxs)(i.p,{children:["It is calculated as: ",(0,s.jsx)(i.code,{children:"True Positives / (True Positives + False Negatives (all ground truths))"}),"."]}),"\n",(0,s.jsx)(i.h2,{id:"f1-score",children:"F1 Score"}),"\n",(0,s.jsx)(i.p,{children:"The F1 score offers an overall assessment of a model's ability to balance precision and recall. It is the harmonic mean of precision and recall, providing a balanced measure of a model's performance in relation to both false positives and false negatives."}),"\n",(0,s.jsxs)(i.p,{children:["It is calculated as: ",(0,s.jsx)(i.code,{children:"2 * (Precision * Recall) / (Precision + Recall)"})]}),"\n",(0,s.jsx)(i.p,{children:"The F1 score ranges from 0 to 1, with 1 being the best possible score. A high F1 score indicates that the model has both high precision and high recall, meaning it accurately identifies most positive instances in the dataset while minimizing false positives."}),"\n",(0,s.jsx)(i.h2,{id:"precision-recall-curve",children:"Precision-Recall Curve"}),"\n",(0,s.jsx)(i.p,{children:"The Precision-Recall (PR) curve is an effective tool for evaluating the performance of an object detector as the confidence threshold is varied. This curve is plotted for each object class and provides insights into the trade-off between precision and recall."}),"\n",(0,s.jsx)(i.p,{children:"An object detector for a particular class is considered good if its precision remains high as recall increases. This means that even when varying the confidence threshold, both precision and recall values stay high. High precision indicates that the detector identifies only relevant objects (few to no false positives), while high recall means it finds all ground truth objects (few to no false negatives)."}),"\n",(0,s.jsx)(i.p,{children:"On the other hand, a poor object detector increases the number of detected objects (resulting in more false positives and thus lower precision) to achieve high recall. This is why the PR curve typically starts with high precision values (y-axis) that decrease as recall (x-axis) increases."}),"\n",(0,s.jsx)(i.p,{children:"A good object detector will have a PR curve that maintains a high precision level across a broad range of recall values, indicating balanced performance in detecting relevant objects while minimizing false positives."}),"\n",(0,s.jsx)(i.p,{children:"This is how the curve is displayed on the page:"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{src:t(70636).A+"",width:"1693",height:"788"})}),"\n",(0,s.jsx)(i.h2,{id:"average-precision-ap",children:"Average Precision (AP)"}),"\n",(0,s.jsx)(i.p,{children:"By varying the confidence score threshold for detections, different sets of true positives and false positives are obtained, which are used to plot the precision-recall curve. The area under this curve (AUC), which often exhibits a zigzag pattern, represents the Average Precision (AP) for each class. Higher AUC values indicate superior model performance."}),"\n",(0,s.jsx)(i.p,{children:"AP is a single value that is crucial in capturing a harmonious balance between false positives and false negatives, which encapsulates the complexities of the model\u2019s performance."}),"\n",(0,s.jsx)(i.h2,{id:"mean-average-precision-map",children:"Mean Average Precision (mAP)"}),"\n",(0,s.jsx)(i.p,{children:"Mean Average Precision (mAP) extends the concept of Average Precision (AP). Instead of assessing the model\u2019s performance at a single confidence threshold, mAP calculates the average AP values across multiple IoU thresholds."}),"\n",(0,s.jsx)(i.p,{children:"It summarizes the detection and classification performance of an object detection model across all classes. Localization establishes the location of an instance (such as bounding box coordinates), and classification identifies what it is (such as a cat or a dog)."}),"\n",(0,s.jsx)(i.p,{children:"mAP is a single number that represents the tradeoff between precision and recall in order to maximize the effect of both metrics. Higher mAP values indicate better overall performance."}),"\n",(0,s.jsx)(i.p,{children:"This approach ensures that the model performs well not only with loose bounding boxes (low IoU) but also with tighter, more accurate detections (high IoU). By averaging the precision across various IoU thresholds, mAP provides a comprehensive performance profile."}),"\n",(0,s.jsx)(i.admonition,{type:"tip",children:(0,s.jsxs)(i.p,{children:["Learn how to use the Prediction Threshold slider tool ",(0,s.jsx)(i.a,{href:"https://docs.clarifai.com/portal-guide/evaluate/interpreting-evaluations#prediction-threshold",children:"here"}),"."]})})]})}function h(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},15528:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/evaluate_10-e5f7dc40ccf4e7240528b25f285f5a7e.png"},803:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/evaluate_13-77ebd51d660952d755c1d532fbbd0eb3.png"},70636:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/evaluate_14-58cb53bbbdf9407950c1c4b14181f87b.png"},13965:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/evaluate_6-70eddbcbdc778531de50a2c1c80fc498.png"},71460:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/evaluate_7-9cac1b0571955d0d455928241926b4b8.png"},28453:(e,i,t)=>{t.d(i,{R:()=>a,x:()=>r});var s=t(96540);const n={},o=s.createContext(n);function a(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);