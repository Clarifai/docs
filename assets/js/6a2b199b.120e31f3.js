"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[5227],{22153:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"sdk/node-js-installation","title":"Node.js Installation Guide","description":"npm","source":"@site/docs/sdk/node-js-installation.md","sourceDirName":"sdk","slug":"/sdk/node-js-installation","permalink":"/sdk/node-js-installation","draft":false,"unlisted":false,"editUrl":"https://github.com/Clarifai/docs/blob/main/docs/sdk/node-js-installation.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Node.js Installation Guide","sidebar_label":"Node.js SDK Installation Guide","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Python API Reference","permalink":"/sdk/api-reference"},"next":{"title":"Node.js API Reference","permalink":"/sdk/node-api-reference/"}}');var a=s(74848),o=s(28453);const t={title:"Node.js Installation Guide",sidebar_label:"Node.js SDK Installation Guide",sidebar_position:3},r="Clarifai Node.js SDK",l={},c=[{value:"Installation",id:"installation",level:2},{value:"Next.js Server Components",id:"nextjs-server-components",level:3},{value:"Usage",id:"usage",level:2},{value:"Using Models",id:"using-models",level:3},{value:"Using Workflows",id:"using-workflows",level:3},{value:"Listing available apps in an user account",id:"listing-available-apps-in-an-user-account",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://www.npmjs.com/package/clarifai-nodejs",children:(0,a.jsx)(n.img,{src:"https://img.shields.io/npm/v/clarifai-nodejs",alt:"npm"})}),"\n",(0,a.jsx)(n.a,{href:"https://github.com/Clarifai/clarifai-nodejs/actions/workflows/build.yml",children:(0,a.jsx)(n.img,{src:"https://github.com/Clarifai/clarifai-nodejs/actions/workflows/build.yml/badge.svg",alt:"Build"})}),"\n",(0,a.jsx)(n.a,{href:"https://discord.com/invite/26upV8Y4Nd",children:(0,a.jsx)(n.img,{src:"https://img.shields.io/discord/1145701543228735582",alt:"Discord"})})]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"This library is currently in developer preview, any improvements & feedback welcome!"}),"\n"]}),"\n",(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"clarifai-nodejs-sdk",children:"Clarifai Node.js SDK"})}),"\n",(0,a.jsxs)(n.p,{children:["This is the official Node.js client for interacting with our powerful ",(0,a.jsx)(n.a,{href:"https://docs.clarifai.com",children:"API"}),". The Clarifai Node.js SDK offers a comprehensive set of tools to integrate Clarifai's AI platform to leverage computer vision capabilities like classification, detection, segmentation and natural language capabilities like classification, summarisation, generation, Q&A, etc into your applications. With just a few lines of code, you can leverage cutting-edge artificial intelligence to unlock valuable insights from visual and textual content."]}),"\n",(0,a.jsxs)(n.p,{children:["Give the ",(0,a.jsx)(n.a,{href:"https://github.com/Clarifai/clarifai-nodejs",children:"repo a star \u2b50"})]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sh",children:"npm install clarifai-nodejs\n"})}),"\n",(0,a.jsx)(n.h3,{id:"nextjs-server-components",children:"Next.js Server Components"}),"\n",(0,a.jsxs)(n.p,{children:["To use Clarifai Node.js in Next.js App Directory with server components, you will need to add ",(0,a.jsx)(n.a,{href:"https://github.com/Clarifai/clarifai-nodejs-grpc",children:"clarifai-nodejs-grpc"})," package (which is one of the primary dependency of Clarifai Node.js SDK) to the ",(0,a.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/next-config-js/serverComponentsExternalPackages",children:"serverComponentsExternalPackages"})," config of ",(0,a.jsx)(n.code,{children:"next.config.js"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  experimental: {\n    serverComponentsExternalPackages: ['clarifai-nodejs-grpc'],\n  },\n}\n\nmodule.exports = nextConfig\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(n.p,{children:["Clarifai uses ",(0,a.jsx)(n.strong,{children:"Personal Access Tokens(PATs)"})," to validate requests. You can create and manage PATs under your Clarifai account security settings."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\ud83d\udd17 ",(0,a.jsx)(n.a,{href:"https://docs.clarifai.com/clarifai-basics/authentication/personal-access-tokens/",children:"Create PAT:"})," ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"Log into Portal \u2192 Profile Icon \u2192 Security Settings \u2192 Create Personal Access Token \u2192 Set the scopes \u2192 Confirm"})})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Export your PAT as an environment variable. Then, import and initialize the API Client."}),"\n",(0,a.jsx)(n.p,{children:"Set PAT as environment variable through terminal:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmd",children:"export CLARIFAI_PAT={your personal access token}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["or use ",(0,a.jsx)(n.a,{href:"https://www.npmjs.com/package/dotenv",children:"dotenv"})," to load environment variables via a ",(0,a.jsx)(n.code,{children:".env"})," file"]}),"\n",(0,a.jsx)(n.h3,{id:"using-models",children:"Using Models"}),"\n",(0,a.jsxs)(n.p,{children:["Using the celebrity face recognition model to predict the celebrity in a given picture. For list of all available models visit ",(0,a.jsx)(n.a,{href:"https://clarifai.com/explore/models",children:"clarifai models page"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { Input, Model } from "clarifai-nodejs";\n\nconst input = Input.getInputFromUrl({\n  inputId: "test-image",\n  imageUrl:\n    "https://samples.clarifai.com/celebrity.jpeg",\n});\n\nconst model = new Model({\n  authConfig: {\n    pat: process.env.CLARIFAI_PAT!,\n    userId: process.env.CLARIFAI_USER_ID!,\n    appId: process.env.CLARIFAI_APP_ID!\n  },\n  modelId: "celebrity-face-recognition",\n});\n\nmodel\n  .predict({\n    inputs: [input],\n  })\n  .then((response) => {\n    const result = response?.[0].data?.conceptsList[0].name ?? "unrecognized";\n    console.log(result);\n  })\n  .catch(console.error);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"using-workflows",children:"Using Workflows"}),"\n",(0,a.jsxs)(n.p,{children:["Using a custom workflow built on ",(0,a.jsx)(n.a,{href:"https://docs.clarifai.com/portal-guide/workflows/",children:"clarifai.com"})," to analyze sentiment of a given image. For list of all available workflows visit ",(0,a.jsx)(n.a,{href:"https://clarifai.com/explore/workflows",children:"clarifai workflows page"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { Input, Workflow } from "clarifai-nodejs";\n\nconst input = Input.getInputFromUrl({\n  inputId: "test-image",\n  imageUrl:\n    "https://samples.clarifai.com/celebrity.jpeg",\n});\n\nconst workflow = new Workflow({\n  authConfig: {\n    pat: process.env.CLARIFAI_PAT!,\n    userId: process.env.CLARIFAI_USER_ID!,\n    appId: process.env.CLARIFAI_APP_ID!\n  },\n  workflowId: "workflow-238a93",\n});\n\nworkflow\n  .predict({\n    inputs: [input],\n  })\n  .then((response) => {\n    const result =\n      response.resultsList[0].outputsList[0].data?.regionsList[0].data\n        ?.conceptsList[0].name ?? "unrecognized";\n    console.log(result);\n  })\n  .catch(console.error);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"listing-available-apps-in-an-user-account",children:"Listing available apps in an user account"}),"\n",(0,a.jsxs)(n.p,{children:["On Clarifai, apps act as a central repository for models, datasets, inputs and other resources and information. Checkout how to create apps on ",(0,a.jsx)(n.a,{href:"https://docs.clarifai.com/clarifai-basics/applications/create-an-application/",children:"clarifai portal"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { User } from "clarifai-nodejs";\n\nexport const user = new User({\n  pat: process.env.CLARIFAI_PAT!,\n  userId: process.env.CLARIFAI_USER_ID!,\n  appId: process.env.CLARIFAI_APP_ID!,\n});\n\nconst list = await user\n  .listApps({\n    pageNo: 1,\n    perPage: 20,\n    params: {\n      sortAscending: true,\n    },\n  })\n  .next();\n\nconst apps = list.value;\nconsole.log(apps);\n'})}),"\n",(0,a.jsxs)(n.p,{children:["For full usage details, checkout our ",(0,a.jsx)(n.a,{href:"https://docs.clarifai.com/nodejs-sdk/installation-guide/modules",children:"API Reference docs"})]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>r});var i=s(96540);const a={},o=i.createContext(a);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);