"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[4705],{20456:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"sdk/advanced-concept-management","title":"Advanced Concept Management","description":"Manage your concepts","source":"@site/docs/sdk/advanced-concept-management.md","sourceDirName":"sdk","slug":"/sdk/advanced-concept-management","permalink":"/sdk/advanced-concept-management","draft":false,"unlisted":false,"editUrl":"https://github.com/Clarifai/docs/blob/main/docs/sdk/advanced-concept-management.md","tags":[],"version":"current","sidebarPosition":4.2,"frontMatter":{"description":"Manage your concepts","sidebar_position":4.2},"sidebar":"tutorialSidebar","previous":{"title":"Data Ingestion Pipelines","permalink":"/sdk/data-utils/ingestion-pipelines"},"next":{"title":"Managing Inputs","permalink":"/sdk/managing-inputs"}}');var a=t(74848),r=t(28453);const s={description:"Manage your concepts",sidebar_position:4.2},c="Advanced Concept Management",o={},l=[{value:"Applications",id:"applications",level:2},{value:"Types:",id:"types",level:2},{value:"Managing Concepts Relations in the Clarifai App",id:"managing-concepts-relations-in-the-clarifai-app",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Initialize the App",id:"initialize-the-app",level:3},{value:"Add concepts",id:"add-concepts",level:3},{value:"Add concept relations",id:"add-concept-relations",level:3},{value:"Search Concept Relations",id:"search-concept-relations",level:3},{value:"Search for all concept relations",id:"search-for-all-concept-relations",level:4},{value:"Search for specific concept relations",id:"search-for-specific-concept-relations",level:4},{value:"Display Concept Relation in Tree Structure",id:"display-concept-relation-in-tree-structure",level:4},{value:"Concept-Based Input Search",id:"concept-based-input-search",level:3},{value:"Search for Inputs Related to &quot;dog&quot; Concept",id:"search-for-inputs-related-to-dog-concept",level:4},{value:"Using And/Or Operations in Filters",id:"using-andor-operations-in-filters",level:4}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"advanced-concept-management",children:"Advanced Concept Management"})}),"\n",(0,a.jsx)("hr",{}),"\n",(0,a.jsx)(n.p,{children:"Concept relations in the Clarifai platform allow you to establish hierarchical and semantic relationships between your concepts. These relationships are essential for building robust knowledge graphs and enabling more advanced computer vision and natural language processing capabilities."}),"\n",(0,a.jsx)(n.p,{children:"By defining how concepts interact\u2014whether as synonyms, hyponyms, or hypernyms\u2014you can build a more intelligent, context-aware system that delivers accurate, relevant results."}),"\n",(0,a.jsx)(n.p,{children:"Whether you are managing a product database, building a search engine, or organizing large datasets, leveraging concept relations will significantly enhance your ability to structure, search, and retrieve data, making your AI-driven applications smarter and more effective."}),"\n",(0,a.jsx)(n.h2,{id:"applications",children:"Applications"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Enhanced Search and Retrieval"}),": Concept relations allow for more refined searches. For example, when searching for \u201cAnimal\u201d, the system can automatically include results for all hyponyms like \u201cDog\u201d or \u201cCat\u201d, providing a broader and more relevant result set."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Improved Data Organization"}),": Establishing hierarchical relationships can organize data more effectively. This is especially useful in complex datasets, where understanding the structure and relationships between concepts is crucial for accurate data retrieval."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Contextual Understanding"}),': Models that understand the relationships between concepts can better interpret context, improving the accuracy of classifications and predictions. For instance, recognizing that "Puppy" is a synonym for "Dog" ensures that all relevant data is considered during processing.']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Dynamic Content Delivery"}),": In scenarios like personalized content or targeted advertising, concept relations can help in delivering more relevant results by understanding the user's intent better"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"types",children:"Types:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Hyponym (Subtype Relation)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Definition"}),': Represents a "kind of" relationship. For example, "Dog" is a kind of "Animal". This hierarchical relationship allows models to generalize or specialize when identifying concepts.']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Usage"}),': Hyponyms help refine search results, where a search for "Animal" may include results for "Dog", "Cat", and other animals.']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Code Example"}),":\n",(0,a.jsx)(n.code,{children:'app.create_concept_relations("dog", ["animal"], predicates=["hyponym"])'})]}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Hypernym (Supertype Relation)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Definition"}),': The opposite of a hyponym, it represents a broader category or parent concept. For example, "Animal" is a hypernym for "Dog".']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Usage"}),": Hypernyms allow models to group specific entities under broader categories, improving organizational structures."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Code Example"}),":\n",(0,a.jsx)(n.code,{children:'app.create_concept_relations("animal", ["dog"], predicates=["hypernym"])'})]}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Synonym (Equivalent Relation)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Definition"}),': Links concepts that have the same or very similar meanings, such as "Puppy" and "Pup".']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Usage"}),": Synonyms ensure that different terms referring to the same concept are recognized as equivalent, enhancing search and retrieval accuracy."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Code Example"}),":\n",(0,a.jsx)(n.code,{children:'app.create_concept_relations("puppy", ["pup"], predicates=["synonym"])'})]}),"\n",(0,a.jsx)(n.h2,{id:"managing-concepts-relations-in-the-clarifai-app",children:"Managing Concepts Relations in the Clarifai App"}),"\n",(0,a.jsx)(n.p,{children:"Let's dive into some code examples to see how you can create and manage concept relations in the Clarifai platform."}),"\n",(0,a.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(n.p,{children:"Initialize the Clarifai App"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"!pip install -U clarifai\nimport os\n#Replace your PAT\nos.environ['CLARIFAI_PAT'] = \"YOUR_PAT\"\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can get help from here to get your ",(0,a.jsx)(n.a,{href:"https://docs.clarifai.com/clarifai-basics/authentication/personal-access-tokens/",children:"PAT"})]}),"\n",(0,a.jsx)(n.h3,{id:"initialize-the-app",children:"Initialize the App"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Initialize the Clarifai App\nfrom clarifai.client.app import App\n\napp = App(user_id="user_id", app_id="app_id")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"add-concepts",children:"Add concepts"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'app.create_concepts(concept_ids=["cat", "kitten", "animal"])\n'})}),"\n",(0,a.jsx)(n.h3,{id:"add-concept-relations",children:"Add concept relations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'app.create_concept_relations("cat", ["animal", "kitten"], ["hyponym", "synonym"])\n'})}),"\n",(0,a.jsx)(n.p,{children:'In the above example, we first create three concepts: "cat", "kitten", and "animal". Then, we establish two concept relations:'}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:'A hyponym relation between "cat" and "animal", indicating that "cat" is a kind of "animal".'}),"\n",(0,a.jsx)(n.li,{children:'A synonym relation between "cat" and "kitten", suggests that these two concepts are essentially the same.'}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"search-concept-relations",children:"Search Concept Relations"}),"\n",(0,a.jsxs)(n.p,{children:["You can then search for and retrieve the concept relations using the ",(0,a.jsx)(n.code,{children:"search_concept_relations()"})," method:"]}),"\n",(0,a.jsx)(n.h4,{id:"search-for-all-concept-relations",children:"Search for all concept relations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"concept_relations = list(app.search_concept_relations())\nfor relation in concept_relations:\n    print(\"Subject_concept:\", relation.subject_concept.id)\n    print('\\t' \"Object_concept:\", relation.object_concept.id)\n    print('\\t' \"Predicate:\", relation.predicate, '\\n')\n"})}),"\n",(0,a.jsx)(n.h4,{id:"search-for-specific-concept-relations",children:"Search for specific concept relations"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'concept_relations = list(app.search_concept_relations(concept_id="cat", predicate="synonym"))\nfor relation in concept_relations:\n    print("Subject_concept:", relation.subject_concept.id)\n    print(\'\\t\' "Object_concept:", relation.object_concept.id)\n    print(\'\\t\' "Predicate:", relation.predicate, \'\\n\')\n'})}),"\n",(0,a.jsx)(n.p,{children:"This will output the concept relations we previously created, showing the subject concept, object concept, and the predicate (relation type) for each."}),"\n",(0,a.jsx)(n.h4,{id:"display-concept-relation-in-tree-structure",children:"Display Concept Relation in Tree Structure"}),"\n",(0,a.jsxs)(n.p,{children:["To display the concept relations in a rich Tree structure, we have added True to the ",(0,a.jsx)(n.strong,{children:"show_tree"})," argument of ",(0,a.jsx)(n.strong,{children:"search_concept_relations"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"concept_relations = list(app.search_concept_relations(show_tree=True))\nfor relation in concept_relations:\nprint(\"Subject_concept:\",relation.subject_concept.id)\nprint('\\t'\"Oject_concept:\",relation.object_concept.id)\nprint('\\t'\"Predicate:\",relation.predicate,'\\n')\n"})}),"\n",(0,a.jsx)(n.h3,{id:"concept-based-input-search",children:"Concept-Based Input Search"}),"\n",(0,a.jsx)(n.p,{children:"You can also use the concept relations to filter your input search queries, allowing you to find images or text related to specific concepts and their relationships:"}),"\n",(0,a.jsx)(n.h4,{id:"search-for-inputs-related-to-dog-concept",children:'Search for Inputs Related to "dog" Concept'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'search = app.search(top_k=2, metric="euclidean")\nsearch.query(filters=[{\n    "concepts": [{\n        "name": "dog",\n       "value": 1\n    }]\n}])\n'})}),"\n",(0,a.jsx)(n.h4,{id:"using-andor-operations-in-filters",children:"Using And/Or Operations in Filters"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'#OR\nsearch.query(filters=[{ \n    "concepts": [{\n        "name": "cat",\n        "value": 1\n    }, {\n        "name": "dog",\n        "value": 1\n    }]\n}])\n\n#AND\nsearch.query(filters=[\n    {\n        "concepts": [{\n            "name": "dog",\n            "value": 1\n        }]\n    },\n    {\n        "concepts": [{\n            "name": "cat",\n            "value": 1\n     }]\n    }\n])\n'})}),"\n",(0,a.jsx)(n.p,{children:"By leveraging concept relations, your Clarifai-powered applications can gain a deeper understanding of the world, enabling more accurate and contextual predictions, recommendations, and search capabilities."})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var i=t(96540);const a={},r=i.createContext(a);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);