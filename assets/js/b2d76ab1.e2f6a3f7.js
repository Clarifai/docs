"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[2640],{85162:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(67294),i=t(86010);const r={tabItem:"tabItem_Ymn6"};function o(e){let{children:n,hidden:t,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(r.tabItem,o),hidden:t},n)}},74866:(e,n,t)=>{t.d(n,{Z:()=>k});var a=t(87462),i=t(67294),r=t(86010),o=t(12466),l=t(16550),s=t(91980),c=t(67392),d=t(50012);function u(e){return function(e){return i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:i}}=e;return{value:n,label:t,attributes:a,default:i}}))}function p(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??u(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const a=(0,l.k6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,s._X)(r),(0,i.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(a.location.search);n.set(r,e),a.replace({...a.location,search:n.toString()})}),[r,a])]}function h(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,r=p(e),[o,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:r}))),[s,c]=f({queryString:t,groupId:a}),[u,h]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,r]=(0,d.Nk)(t);return[a,(0,i.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:a}),_=(()=>{const e=s??u;return m({value:e,tabValues:r})?e:null})();(0,i.useLayoutEffect)((()=>{_&&l(_)}),[_]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),h(e)}),[c,h,r]),tabValues:r}}var _=t(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:n,block:t,selectedValue:l,selectValue:s,tabValues:c}=e;const d=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.o5)(),p=e=>{const n=e.currentTarget,t=d.indexOf(n),a=c[t].value;a!==l&&(u(n),s(a))},m=e=>{let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}n?.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},n)},c.map((e=>{let{value:n,label:t,attributes:o}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,key:n,ref:e=>d.push(e),onKeyDown:m,onClick:p},o,{className:(0,r.Z)("tabs__item",g.tabItem,o?.className,{"tabs__item--active":l===n})}),t??n)})))}function y(e){let{lazy:n,children:t,selectedValue:a}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},r.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function v(e){const n=h(e);return i.createElement("div",{className:(0,r.Z)("tabs-container",g.tabList)},i.createElement(b,(0,a.Z)({},e,n)),i.createElement(y,(0,a.Z)({},e,n)))}function k(e){const n=(0,_.Z)();return i.createElement(v,(0,a.Z)({key:String(n)},e))}},85044:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>h,default:()=>k,frontMatter:()=>f,metadata:()=>_,toc:()=>b});var a=t(87462),i=(t(67294),t(3905)),r=t(74866),o=t(85162),l=t(90814);const s='from clarifai.client.input import Inputs\nfrom clarifai.client.model import Model\n\nmodel_url = "https://clarifai.com/clarifai/main/models/general-image-recognition"\nimage_url = "https://samples.clarifai.com/metro-north.jpg"\n\n# here is an example of creating an input proto list of size 128\nproto_list=[]\nfor i in range(0,128):\n    proto_list.append(Inputs.get_input_from_url(input_id = f\'demo_{i}\', image_url=image_url))\n\n# passthe input proto as paramater to the predict function\nmodel_prediction = Model(url=model_url).predict(\n    proto_list\n)\n\n# Check the length of predictions to see if all inputs were passed successfully\n\nprint(len(model_prediction.outputs))\n',c='from clarifai.client.model import Model\n\n# Your PAT (Personal Access Token) can be found in the Account\'s Security section\n# Specify the correct user_id/app_id pairings\n# Since you\'re making inferences outside your app\'s scope\n#USER_ID = "cohere"\n#APP_ID = "embed"\n\n# You can set the model using model URL or model ID.\n# Change these to whatever model you want to use\n# eg : MODEL_ID = \'cohere-embed-english-v3_0\'\n# You can also set a particular model version by specifying the  version ID\n# eg: MODEL_VERSION_ID = \'model_version\'\n#  Model class objects can be inititalised by providing its URL or also by defining respective user_id, app_id and model_id\n\n# eg : model = Model(user_id="clarifai", app_id="main", model_id=MODEL_ID)\n\ninput_text = """In India Green Revolution commenced in the early 1960s that led to an increase in food grain production, especially in Punjab, Haryana, and Uttar Pradesh. Major milestones in this undertaking were the development of high-yielding varieties of wheat. The Green revolution is revolutionary in character due to the introduction of new technology, new ideas, the new application of inputs like HYV seeds, fertilizers, irrigation water, pesticides, etc. As all these were brought suddenly and spread quickly to attain dramatic results thus it is termed as a revolution in green agriculture.\n"""\n# The predict API gives the flexibility to generate predictions for data provided through URL, Filepath and bytes format.\n\n# Example for prediction through URL:\n# model_prediction = model.predict_by_url(URL ,input_type="text")\n\n\n# Example for prediction through Filepath:\n# model_prediction = Model(model_url).predict_by_filepath(image_filepath, input_type="text")\n\n\nmodel_url = "https://clarifai.com/cohere/embed/models/cohere-embed-english-v3_0"\n\n# You can pass the new base url as paramater while initializing the Model object\nmodel_prediction = Model(url=model_url, pat="YOUR_PAT",base_url="New Base URL").predict_by_bytes(\n    input_text, "text"\n)\n\nembeddings = model_prediction.outputs[0].data.embeddings[0].vector\n\nnum_dimensions = model_prediction.outputs[0].data.embeddings[0].num_dimensions\n\nprint(embeddings[:10])\n',d='from clarifai.client.model import Model\n\n# Your PAT (Personal Access Token) can be found in the Account\'s Security section\n# Specify the correct user_id/app_id pairings\n# Since you\'re making inferences outside your app\'s scope\n#USER_ID = "clarifai"\n#APP_ID = "main"\n\n# You can set the model using model URL or model ID.\n# Change these to whatever model you want to use\n# eg : MODEL_ID = "general-image-recognition"\n# You can also set a particular model version by specifying the  version ID\n# eg: MODEL_VERSION_ID = "aa7f35c01e0642fda5cf400f543e7c40"\n#  Model class objects can be inititalised by providing its URL or also by defining respective user_id, app_id and model_id\n\n# eg : model = Model(user_id="clarifai", app_id="main", model_id=MODEL_ID)\n\nmodel_url = "https://clarifai.com/clarifai/main/models/general-image-recognition"\nimage_url = "https://samples.clarifai.com/metro-north.jpg"\n\n# The predict API gives flexibility to generate predictions for data provided through URL,Filepath and bytes format.\n\n\n# Example for prediction through Bytes:\n# model_prediction = model.predict_by_bytes(input_bytes, input_type="image")\n\n\n# Example for prediction through Filepath:\n# model_prediction = Model(model_url).predict_by_filepath(filepath, input_type="image")\n\nmodel_prediction = Model(url=model_url, pat="YOUR_PAT",root_certificates_path="PATH_TO_ROOT_CERTIFICATE").predict_by_url(\n    image_url, input_type="image"\n)\n\n# Get the output\nprint(model_prediction.outputs[0].data)';var u=t(67424);const p="128",m='concepts {\n\n  id: "ai_HLmqFqBf"\n\n  name: "train"\n\n  value: 0.999604881\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_fvlBqXZR"\n\n  name: "railway"\n\n  value: 0.999297619\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_SHNDcmJ3"\n\n  name: "subway system"\n\n  value: 0.99825567\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_6kTjGfF6"\n\n  name: "station"\n\n  value: 0.998010933\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_RRXLczch"\n\n  name: "locomotive"\n\n  value: 0.997254908\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_Xxjc3MhT"\n\n  name: "transportation system"\n\n  value: 0.996976852\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_VRmbGVWh"\n\n  name: "travel"\n\n  value: 0.988967717\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_jlb9q33b"\n\n  name: "commuter"\n\n  value: 0.98089534\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_2gkfMDsM"\n\n  name: "platform"\n\n  value: 0.980635285\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_n9vjC1jB"\n\n  name: "light"\n\n  value: 0.974186838\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_sQQj52KZ"\n\n  name: "train station"\n\n  value: 0.96878773\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_l4WckcJN"\n\n  name: "blur"\n\n  value: 0.967302203\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_WBQfVV0p"\n\n  name: "city"\n\n  value: 0.96151042\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_TZ3C79C6"\n\n  name: "road"\n\n  value: 0.961382031\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_CpFBRWzD"\n\n  name: "urban"\n\n  value: 0.960375667\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_tr0MBp64"\n\n  name: "traffic"\n\n  value: 0.959969819\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_GjVpxXrs"\n\n  name: "street"\n\n  value: 0.947492182\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_mcSHVRfS"\n\n  name: "public"\n\n  value: 0.934322\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_J6d1kV8t"\n\n  name: "tramway"\n\n  value: 0.931958199\n\n  app_id: "main"\n\n}\n\nconcepts {\n\n  id: "ai_6lhccv44"\n\n  name: "business"\n\n  value: 0.929547548\n\n  app_id: "main"\n\n}',f={sidebar_position:5},h="Advanced Inference Options",_={unversionedId:"python-sdk/Inference-from-AI-Models/Advance-Inference-Options",id:"python-sdk/Inference-from-AI-Models/Advance-Inference-Options",title:"Advanced Inference Options",description:"Learn how to perform advance inference operations using  Clarifai Python SDK",source:"@site/docs/python-sdk/Inference-from-AI-Models/Advance-Inference-Options.md",sourceDirName:"python-sdk/Inference-from-AI-Models",slug:"/python-sdk/Inference-from-AI-Models/Advance-Inference-Options",permalink:"/python-sdk/Inference-from-AI-Models/Advance-Inference-Options",draft:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/python-sdk/Inference-from-AI-Models/Advance-Inference-Options.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"MultiModal as Input",permalink:"/python-sdk/Inference-from-AI-Models/Multimodal-as-Input"},next:{title:"Building Workflow Graphs",permalink:"/python-sdk/Building-Workflow-Graphs/"}},g={},b=[{value:"Batch Predict",id:"batch-predict",level:2},{value:"Different Base_URL",id:"different-base_url",level:2},{value:"Adding Root Certificate",id:"adding-root-certificate",level:2},{value:"Prediction Paramaters",id:"prediction-paramaters",level:2}],y={toc:b},v="wrapper";function k(e){let{components:n,...t}=e;return(0,i.kt)(v,(0,a.Z)({},y,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"advanced-inference-options"},"Advanced Inference Options"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Learn how to perform advance inference operations using  Clarifai Python SDK")),(0,i.kt)("hr",null),(0,i.kt)("p",null,"The inference API contains certain features that provides more flexibility while running predictions on inputs. This can help the end users to manipulate the outputs required for their tasks."),(0,i.kt)("h2",{id:"batch-predict"},"Batch Predict"),(0,i.kt)("p",null,"Efficiently process multiple inputs in a single request by leveraging the Predict API's batch prediction feature. This allows you to streamline the prediction process, saving time and resources. Simply submit a batch of inputs to the model, and receive comprehensive predictions in return."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The batch size should not exceed 128.")),(0,i.kt)(r.Z,{mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},s))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)(l.Z,{className:"language-text",mdxType:"CodeBlock"},p)),(0,i.kt)("h2",{id:"different-base_url"},"Different Base_URL"),(0,i.kt)("p",null,"Use the flexibility of the Predict API to obtain model predictions by tailoring the base_url. Customize your endpoint to seamlessly integrate with different environments, ensuring a versatile and adaptable approach to accessing model predictions."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"This feature is for Enteprise that use on-prem deployments. So the base_url can be used to point to the respective servers.")),(0,i.kt)(r.Z,{mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},c))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)(l.Z,{className:"language-text",mdxType:"CodeBlock"},u.Z)),(0,i.kt)("h2",{id:"adding-root-certificate"},"Adding Root Certificate"),(0,i.kt)("p",null,"A root certificate is considered as an extra level of security when communicating through API's. It's a self-signed certificate that verifies the legitimacy of other certificates. This establishes a chain of trust, ensuring you connect to real API's and your data is encrypted. The Clarifai Python SDK allows users to add their own root certificates to enhance data security and privacy."),(0,i.kt)("p",null,"Visit ",(0,i.kt)("a",{parentName:"p",href:"https://www.pandasecurity.com/en/mediacenter/what-is-a-root-certificate/"},"this")," page to learn more about root certificates."),(0,i.kt)(r.Z,{mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},d))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Output"),(0,i.kt)(l.Z,{className:"language-text",mdxType:"CodeBlock"},m)),(0,i.kt)("h2",{id:"prediction-paramaters"},"Prediction Paramaters"),(0,i.kt)("p",null,"These parameters play a crucial role in configuring and customizing your prediction requests, ensuring accurate and tailored results based on your specific use case. Understanding and appropriately setting these prediction parameters will enhance your experience and enable you to extract meaningful insights from the Clarifai platform. The below parameters allows users to modify the predictions received from the model according to their needs."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Param Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Param Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Usage example"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"temperature"),(0,i.kt)("td",{parentName:"tr",align:null},"Temperature is a parameter of OpenAI ChatGPT, GPT-3 and GPT-4 models that governs the randomness and thus the creativity of the responses. It is always a number between 0 and 1."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"inference_params = dict(temperature=0.2) Model(model_url).predict(inputs,inference_params=inference_params)"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"max_tokens"),(0,i.kt)("td",{parentName:"tr",align:null},"Max_tokens is a parameter for GPT models. This parameter shows the maximum number of tokens that can be processed inorder to get the response to your needs."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"inference_params = dict(max_tokens=100) Model(model_url).predict(inputs,inference_params=inference_params)"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"min_value"),(0,i.kt)("td",{parentName:"tr",align:null},"The minimum value of the prediction confidence to filter."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"output_config = dict(min_value=0.6) Model(model_url).predict(inputs,output_config=output_config)"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"max_concepts"),(0,i.kt)("td",{parentName:"tr",align:null},"The maximum number of concepts to return."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"output_config = dict(max_concepts=3) Model(model_url).predict(inputs,output_config=output_config)"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"select_concepts"),(0,i.kt)("td",{parentName:"tr",align:null},"The concepts to select."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'output_config = dict(select_concepts=["concept_name"]) Model(model_url).predict(inputs,output_config=output_config)'))))))}k.isMDXComponent=!0},67424:(e,n,t)=>{t.d(n,{Z:()=>a});const a="[-0.02596100978553295,\n\n 0.023946398869156837,\n\n -0.07173235714435577,\n\n 0.032294824719429016,\n\n 0.020313993096351624,\n\n -0.026998838409781456,\n\n 0.008684193715453148,\n\n -0.016651064157485962,\n\n -0.012316598556935787,\n\n 0.00042328768176957965]"}}]);