"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[564],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=o,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},52991:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(67294),o=n(86010),i=n(53438),r=n(39960),l=n(13919),s=n(95999);const p={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function d(e){let{href:t,children:n}=e;return a.createElement(r.Z,{href:t,className:(0,o.Z)("card padding--lg",p.cardContainer)},n)}function c(e){let{href:t,icon:n,title:i,description:r}=e;return a.createElement(d,{href:t},a.createElement("h2",{className:(0,o.Z)("text--truncate",p.cardTitle),title:i},n," ",i),r&&a.createElement("p",{className:(0,o.Z)("text--truncate",p.cardDescription),title:r},r))}function u(e){let{item:t}=e;const n=(0,i.Wl)(t);return n?a.createElement(c,{href:n,icon:"\ud83d\uddc3\ufe0f",title:t.label,description:t.description??(0,s.I)({message:"{count} items",id:"theme.docs.DocCard.categoryDescription",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t.items.length})}):null}function m(e){let{item:t}=e;const n=(0,l.Z)(t.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",o=(0,i.xz)(t.docId??void 0);return a.createElement(c,{href:t.href,icon:n,title:t.label,description:t.description??o?.description})}function h(e){let{item:t}=e;switch(t.type){case"link":return a.createElement(m,{item:t});case"category":return a.createElement(u,{item:t});default:throw new Error(`unknown item type ${JSON.stringify(t)}`)}}function g(e){let{className:t}=e;const n=(0,i.jA)();return a.createElement(f,{items:n.items,className:t})}function f(e){const{items:t,className:n}=e;if(!t)return a.createElement(g,e);const r=(0,i.MN)(t);return a.createElement("section",{className:(0,o.Z)("row",n)},r.map(((e,t)=>a.createElement("article",{key:t,className:"col col--6 margin-bottom--lg"},a.createElement(h,{item:e})))))}},60582:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>c});var a=n(87462),o=(n(67294),n(3905)),i=n(52991),r=n(53438);const l={description:"Train the entire graph of your custom model"},s="Deep Fine-Tuning Templates",p={unversionedId:"portal-guide/model/deep-training/README",id:"portal-guide/model/deep-training/README",title:"Deep Fine-Tuning Templates",description:"Train the entire graph of your custom model",source:"@site/docs/portal-guide/model/deep-training/README.mdx",sourceDirName:"portal-guide/model/deep-training",slug:"/portal-guide/model/deep-training/",permalink:"/portal-guide/model/deep-training/",draft:!1,tags:[],version:"current",frontMatter:{description:"Train the entire graph of your custom model"},sidebar:"tutorialSidebar",previous:{title:"Text-to-Text",permalink:"/portal-guide/model/model-types/text-to-text"},next:{title:"Visual Classification Templates",permalink:"/portal-guide/model/deep-training/visual-classification-templates"}},d={},c=[{value:"Template Types",id:"template-types",level:2},{value:"Create Your Deep Fine-Tuned Model",id:"create-your-deep-fine-tuned-model",level:2},{value:"Create App and Upload Inputs",id:"create-app-and-upload-inputs",level:4},{value:"Create Concepts and Label Inputs",id:"create-concepts-and-label-inputs",level:4},{value:"Model Mode",id:"model-mode",level:4},{value:"Create the Custom Model you Need",id:"create-the-custom-model-you-need",level:4},{value:"Configure Your Model",id:"configure-your-model",level:4},{value:"Train Your Model",id:"train-your-model",level:4},{value:"Job Cancellation",id:"job-cancellation",level:4}],u={toc:c},m="wrapper";function h(e){let{components:t,...l}=e;return(0,o.kt)(m,(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"deep-fine-tuning-templates"},"Deep Fine-Tuning Templates"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Train the entire graph of your custom model")),(0,o.kt)("hr",null),(0,o.kt)("p",null,"Clarifai offers a variety of pre-built models that are designed to help you create AI solutions quickly and efficiently."),(0,o.kt)("p",null,"Clarifai models are the recommended starting point for many users because they offer incredibly fast training times, especially when you customize them using the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.clarifai.com/portal-guide/model/model-types/transfer-learning"},"transfer learning")," model type."),(0,o.kt)("p",null,"But there are many cases where accuracy and the ability to carefully target solutions takes priority over speed and ease of use. Additionally, you may need a model to learn new features not recognized by existing ",(0,o.kt)("a",{parentName:"p",href:"https://docs.clarifai.com/portal-guide/model/clarifai-models#clarifai-models-1"},"Clarifai models"),". "),(0,o.kt)("p",null,'For such cases, it is possible to "deep fine-tune" your custom models and integrate them directly within your workflows.'),(0,o.kt)("p",null,"You might consider deep fine-tuning if:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You have a custom tailored dataset. This will help you to tailor the model to a specific application or domain, such as customizing it with proprietary data from a private company."),(0,o.kt)("li",{parentName:"ul"},"You have accurate labels. This provides a strong foundation for training your models, resulting in improved performance, reduced errors, and better alignment with the desired task or domain."),(0,o.kt)("li",{parentName:"ul"},"You have the expertise and time to fine-tune models. So, you can modify the model's behavior to eliminate unwanted traits and instill desired ones."),(0,o.kt)("li",{parentName:"ul"},"You want to reduce hallucinations, especially when presenting the model with questions or prompts it hasn't encountered during its initial training.")),(0,o.kt)("h2",{id:"template-types"},"Template Types"),(0,o.kt)("p",null,"You can take advantage of a variety of templates when building your deep fine-tuned models. Templates give you the control to choose the specific architecture used by your neural network, and also define a set of hyperparameters that you can use to fine-tune the way that your model learns."),(0,o.kt)("p",null,"Here are the template types we offer:"),(0,o.kt)(i.Z,{items:(0,r.jA)().items,mdxType:"DocCardList"}),(0,o.kt)("h2",{id:"create-your-deep-fine-tuned-model"},"Create Your Deep Fine-Tuned Model"),(0,o.kt)("p",null,"Creating and working with deep fine-tuned models is very similar to working with Clarifai models."),(0,o.kt)("p",null,"Let's demonstrate how you can create a deep fine-tuned model. "),(0,o.kt)("h4",{id:"create-app-and-upload-inputs"},"Create App and Upload Inputs"),(0,o.kt)("p",null,"Get started by creating your app and uploading inputs."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In general, deep trained models need more data than the ones trained on top of Clarifai models. For most applications, you\u2019ll need at least 1000 training inputs, but it could be much more than this depending on your specific use case.")),(0,o.kt)("p",null,"Click the ",(0,o.kt)("strong",{parentName:"p"},"Create an App")," button and provide the information required to create a new application."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"create an app",src:n(15961).Z,width:"1889",height:"935"})),(0,o.kt)("p",null,"To upload inputs into your app, select the ",(0,o.kt)("strong",{parentName:"p"},"Inputs")," option on the collapsible left sidebar. Next, click the ",(0,o.kt)("strong",{parentName:"p"},"Upload Inputs")," button and upload the inputs you want to add to the app."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"upload inputs",src:n(1452).Z,width:"1917",height:"863"})),(0,o.kt)("p",null,"The small window that pops up allows you to upload inputs."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"upload inputs window",src:n(36244).Z,width:"1301",height:"805"})),(0,o.kt)("h4",{id:"create-concepts-and-label-inputs"},"Create Concepts and Label Inputs"),(0,o.kt)("p",null,"The process of creating concepts and labeling inputs is the same for deep trained models as for other Clarifai models."),(0,o.kt)("p",null,"Clicking the ",(0,o.kt)("strong",{parentName:"p"},"Show Upload Settings")," button on the small window that pops up when uploading inputs exposes a section that lets you create concepts and label inputs."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Show Upload Settings",src:n(24595).Z,width:"1235",height:"691"})),(0,o.kt)("p",null,"The section allows you to add the following to your inputs:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Datasets"),"\u2014A dataset is a set of data input examples for actions like training and evaluation. You can select a previously created dataset or create a new one. For this example, you may not provide it."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Concepts"),"\u2014Adding concepts help in training your model. You can select a previously created concept or create a new one. For this example, create new concepts and label your image inputs with them."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Metadata"),"\u2014You can also add inputs with custom metadata, which can be searched or filtered. Metadata can be any arbitrary JSON. For this example, you may not provide it.")),(0,o.kt)("p",null,"Click the ",(0,o.kt)("strong",{parentName:"p"},"Upload inputs")," button at the button of the pop-up window to finalize uploading your inputs."),(0,o.kt)("h4",{id:"model-mode"},"Model Mode"),(0,o.kt)("p",null,"Next, select the ",(0,o.kt)("strong",{parentName:"p"},"App Models")," option on the collapsible left sidebar to enter the model mode."),(0,o.kt)("h4",{id:"create-the-custom-model-you-need"},"Create the Custom Model you Need"),(0,o.kt)("p",null,"On the ensuing page, click the ",(0,o.kt)("strong",{parentName:"p"},"Create Model")," button on the top-right corner of the page."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"create app models",src:n(95532).Z,width:"1883",height:"593"})),(0,o.kt)("p",null,"Next, on the page for choosing the type of model you want to create, select a ",(0,o.kt)("inlineCode",{parentName:"p"},"Visual Classifier"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Visual Embedder"),", or ",(0,o.kt)("inlineCode",{parentName:"p"},"Visual Detector"),"."),(0,o.kt)("p",null,"For this example, let\u2019s choose a ",(0,o.kt)("inlineCode",{parentName:"p"},"Visual Classifier"),", which would classify images into set of concepts."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"choose visual classifier",src:n(26853).Z,width:"1539",height:"913"})),(0,o.kt)("h4",{id:"configure-your-model"},"Configure Your Model"),(0,o.kt)("p",null,"On the ensuing page, provide the details required to create the deep trained model."),(0,o.kt)("p",null,"For this example, let's provide the model id, select the concepts we created previously, and select a template name. You can also fill the other fields if you want to."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"configure model",src:n(31417).Z,width:"1471",height:"915"})),(0,o.kt)("p",null,"The pre-configured model template is essential for training with on your data. When you choose your deep training template, you will see the hyperparameters that are available within that template populated with default values. You can adjust these values as desired."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"template configuration",src:n(23421).Z,width:"1499",height:"885"})),(0,o.kt)("p",null,"After configuring the model, click the ",(0,o.kt)("strong",{parentName:"p"},"Create Model")," button at the bottom of the page."),(0,o.kt)("h4",{id:"train-your-model"},"Train Your Model"),(0,o.kt)("p",null,"Next, train your model by clicking the ",(0,o.kt)("strong",{parentName:"p"},"Train Model")," button on the upper right-hand corner of the created model's page."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"train model",src:n(72101).Z,width:"1889",height:"563"})),(0,o.kt)("p",null,"Deep training can take much longer time than custom training a model. Many hours are required to deep train models with large numbers of inputs and complex taxonomies. You can check the progress in the model details view and monitor the training as it continues."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"model training progress",src:n(16780).Z,width:"1570",height:"452"})),(0,o.kt)("p",null,"Once you've created and trained your new model, you can put it to work, such as by adding it to a workflow and using it in your app."),(0,o.kt)("h4",{id:"job-cancellation"},"Job Cancellation"),(0,o.kt)("p",null,"You can cancel a deep training job at any time by deleting the model version that you are training. "),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"delete model version",src:n(15037).Z,width:"1541",height:"309"})),(0,o.kt)("p",null,"Deep training is billed at an hourly rate and for cancelled jobs, you will be charged for the time that you've used to train your model. "),(0,o.kt)("p",null,"You can learn more about deep training pricing ",(0,o.kt)("a",{parentName:"p",href:"https://www.clarifai.com/pricing"},"here"),"."))}h.isMDXComponent=!0},26853:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/choose_visual_classifier-a97c936e4afbf27ec4a2745fa986e1fa.png"},95532:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/custom_model_create_model-5e2cf374cb72e96f06006713444b62d9.png"},15961:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/custom_model_create_new_app-2cb7644e0c0ab6a0a29d4ca8545902c9.png"},24595:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/custom_model_show_upload_settings-a983621643bece404140bf3be2152e94.png"},1452:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/custom_model_upload_inputs-c396077c3018aecdcdffb645c2a110f1.png"},36244:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/custom_models_upload_inputs_window-94431637f720d8794b43cb98ef5a5426.png"},31417:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/deep_training_create_model-f37b65bdfd9831d71d61907325c16db1.png"},72101:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/deep_training_train_model-7854028c8cacc492c419b777129f8746.png"},15037:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/delete_model_version-966b342d63d90ab0474fd7cee4407f36.png"},16780:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/model_training_progress-660cca43282cbd594cc50fe4ef02d3b1.png"},23421:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/template_configuration-32839484a23610f58485c45a6077a84c.png"}}]);