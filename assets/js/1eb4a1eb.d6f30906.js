"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[4460],{63194:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>x,contentTitle:()=>f,default:()=>b,frontMatter:()=>m,metadata:()=>g,toc:()=>y});var r=n(74848),a=n(28453),i=n(11470),s=n(19365),o=n(21432);const l='compute_cluster:\n  id: "test-compute-cluster"\n  description: "My AWS compute cluster"\n  cloud_provider:\n      id: "aws"\n  region: "us-east-1"\n  managed_by: "clarifai"\n  cluster_type: "dedicated"\n  visibility:\n    gettable: 10',c='nodepool:\n  id: "test-nodepool"\n  compute_cluster:\n    id: "test-compute-cluster"\n  description: "First nodepool in AWS in a proper compute cluster"\n  instance_types:\n    - id: "g5.xlarge"\n      compute_info:\n        cpu_limit: "8"\n        cpu_memory: "16Gi"\n        accelerator_type:\n          - "a10"\n        num_accelerators: 1\n        accelerator_memory: "40Gi"\n  node_capacity_type:\n    capacity_types:\n      - 1\n      - 2\n  max_instances: 1',u='deployment:\n id: "test-deployment"\n description: "some random deployment"\n autoscale_config:\n   min_replicas: 0\n   max_replicas: 1\n   traffic_history_seconds: 100\n   scale_down_delay_seconds: 30\n   scale_up_delay_seconds: 30\n   disable_packing: false\n worker:\n   model:\n     id: "apparel-clusterering"\n     model_version:\n       id: "cc911f6b0ed748efb89e3d1359c146c4"\n     user_id: "clarifai"\n     app_id: "main"\n scheduling_choice: 4\n nodepools:\n   - id: "test-nodepool"\n     compute_cluster:\n         id: "test-compute-cluster"\n',d='user_id: "YOUR_USER_ID_HERE"\npat: "YOUR_PAT_HERE"  ';var h=n(3514),p=n(84142);const m={description:"Train and deploy any model on any compute infrastructure, at any scale",pagination_prev:null},f="Compute Orchestration",g={id:"sdk/compute-orchestration/README",title:"Compute Orchestration",description:"Train and deploy any model on any compute infrastructure, at any scale",source:"@site/docs/sdk/compute-orchestration/README.mdx",sourceDirName:"sdk/compute-orchestration",slug:"/sdk/compute-orchestration/",permalink:"/sdk/compute-orchestration/",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/sdk/compute-orchestration/README.mdx",tags:[],version:"current",frontMatter:{description:"Train and deploy any model on any compute infrastructure, at any scale",pagination_prev:null},sidebar:"tutorialSidebar",next:{title:"Upload Custom Models",permalink:"/sdk/compute-orchestration/model-upload"}},x={},y=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:3},{value:"Get a PAT",id:"get-a-pat",level:3},{value:"Set up Project Directory",id:"set-up-project-directory",level:3}];function j(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"compute-orchestration",children:"Compute Orchestration"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Train and deploy any model on any compute infrastructure, at any scale"})}),"\n",(0,r.jsx)("hr",{}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["Compute Orchestration is currently in ",(0,r.jsx)(t.a,{href:"https://docs.clarifai.com/product-updates/changelog/release-types",children:"Public Preview"}),". To request access, please contact us ",(0,r.jsx)(t.a,{href:"https://www.clarifai.com/explore/contact-us-co",children:"here"}),"."]})}),"\n",(0,r.jsx)(t.p,{children:"Clarifai\u2019s Compute Orchestration offers a streamlined solution for managing the infrastructure required for training, deploying, and scaling machine learning models and workflows."}),"\n",(0,r.jsx)(t.p,{children:"These flexible capabilities support any compute instance \u2014 across various hardware providers and deployment methods \u2014 and provide automatic scaling to match workload demands."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"https://docs.clarifai.com/portal-guide/compute-orchestration",children:"Click here"})," to learn more about our Compute Orchestration capabilities."]}),"\n",(0,r.jsx)(t.admonition,{title:"Tips",type:"tip",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Run the following command to clone the ",(0,r.jsx)(t.a,{href:"https://github.com/Clarifai/examples/tree/main",children:"repository"})," containing various Compute Orchestration examples: ",(0,r.jsx)(t.code,{children:"git clone https://github.com/Clarifai/examples.git"}),". After cloning, navigate to the ",(0,r.jsx)(t.code,{children:"ComputeOrchestration"})," folder to follow along with this tutorial."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["For a step-by-step tutorial, see the ",(0,r.jsx)(t.a,{href:"https://github.com/Clarifai/examples/blob/main/ComputeOrchestration/crud_operations.ipynb",children:"CRUD operations notebook"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Clarifai provides a user-friendly ",(0,r.jsx)(t.a,{href:"https://docs.clarifai.com/sdk/cli/",children:"command line interface"})," (CLI) that simplifies Compute Orchestration tasks. You can follow its step-by-step tutorial provided ",(0,r.jsx)(t.a,{href:"https://github.com/Clarifai/clarifai-python/blob/master/clarifai/cli/README.md",children:"here"}),"."]}),"\n"]}),"\n"]})}),"\n","\n","\n",(0,r.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(t.p,{children:["To begin, install the latest version of the ",(0,r.jsx)(t.code,{children:"clarifai"})," Python package."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",children:"pip install --upgrade clarifai\n"})}),"\n",(0,r.jsx)(t.h3,{id:"get-a-pat",children:"Get a PAT"}),"\n",(0,r.jsxs)(t.p,{children:["You need a PAT (Personal Access Token) key to authenticate your connection to the Clarifai platform. You can generate it in your Personal Settings page by navigating to the ",(0,r.jsx)(t.a,{href:"https://clarifai.com/settings/security",children:"Security section"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Then, set it as an environment variable in your script."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",children:'import os\nos.environ["CLARIFAI_PAT"] = "YOUR_PAT_HERE" # replace with your own PAT key \n'})}),"\n",(0,r.jsx)(t.h3,{id:"set-up-project-directory",children:"Set up Project Directory"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Create a directory to store your project files."}),"\n",(0,r.jsx)(t.li,{children:"Inside this directory, create a Python file for your Compute Orchestration code."}),"\n",(0,r.jsxs)(t.li,{children:["Create a ",(0,r.jsx)(t.code,{children:"configs"})," folder to store your YAML configuration files for clusters, nodepools, and deployments."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Then, create the following files in the ",(0,r.jsx)(t.code,{children:"configs"})," folder:"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"1."})," ",(0,r.jsx)(t.code,{children:"compute_cluster_config.yaml"}),":"]}),"\n",(0,r.jsx)(i.A,{children:(0,r.jsx)(s.A,{value:"yaml",label:"YAML",children:(0,r.jsx)(o.A,{className:"language-yaml",children:l})})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"2."})," ",(0,r.jsx)(t.code,{children:"nodepool_config.yaml"}),":"]}),"\n",(0,r.jsx)(i.A,{children:(0,r.jsx)(s.A,{value:"yaml",label:"YAML",children:(0,r.jsx)(o.A,{className:"language-yaml",children:c})})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"3."})," ",(0,r.jsx)(t.code,{children:"deployment_config.yaml"}),":"]}),"\n",(0,r.jsx)(i.A,{children:(0,r.jsx)(s.A,{value:"yaml",label:"YAML",children:(0,r.jsx)(o.A,{className:"language-yaml",children:u})})}),"\n",(0,r.jsx)(t.p,{children:"Optionally, if you want to use the Clarifai CLI, create a login configuration file for storing your account credentials:"}),"\n",(0,r.jsx)(i.A,{children:(0,r.jsx)(s.A,{value:"yaml",label:"YAML",children:(0,r.jsx)(o.A,{className:"language-yaml",children:d})})}),"\n",(0,r.jsx)(t.p,{children:"Then, authenticate your CLI session with Clarifai using the stored credentials in the configuration file:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"$ clarifai login --config <config-filepath>\n"})}),"\n","\n",(0,r.jsx)(h.A,{items:(0,p.$S)().items})]})}function b(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},3514:(e,t,n)=>{n.d(t,{A:()=>y});n(96540);var r=n(18215),a=n(84142),i=n(28774),s=n(53465),o=n(16654),l=n(21312),c=n(51107);const u={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var d=n(74848);function h(e){let{href:t,children:n}=e;return(0,d.jsx)(i.A,{href:t,className:(0,r.A)("card padding--lg",u.cardContainer),children:n})}function p(e){let{href:t,icon:n,title:a,description:i}=e;return(0,d.jsxs)(h,{href:t,children:[(0,d.jsxs)(c.A,{as:"h2",className:(0,r.A)("text--truncate",u.cardTitle),title:a,children:[n," ",a]}),i&&(0,d.jsx)("p",{className:(0,r.A)("text--truncate",u.cardDescription),title:i,children:i})]})}function m(e){let{item:t}=e;const n=(0,a.Nr)(t),r=function(){const{selectMessage:e}=(0,s.W)();return t=>e(t,(0,l.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return n?(0,d.jsx)(p,{href:n,icon:"\ud83d\uddc3\ufe0f",title:t.label,description:t.description??r(t.items.length)}):null}function f(e){let{item:t}=e;const n=(0,o.A)(t.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",r=(0,a.cC)(t.docId??void 0);return(0,d.jsx)(p,{href:t.href,icon:n,title:t.label,description:t.description??r?.description})}function g(e){let{item:t}=e;switch(t.type){case"link":return(0,d.jsx)(f,{item:t});case"category":return(0,d.jsx)(m,{item:t});default:throw new Error(`unknown item type ${JSON.stringify(t)}`)}}function x(e){let{className:t}=e;const n=(0,a.$S)();return(0,d.jsx)(y,{items:n.items,className:t})}function y(e){const{items:t,className:n}=e;if(!t)return(0,d.jsx)(x,{...e});const i=(0,a.d1)(t);return(0,d.jsx)("section",{className:(0,r.A)("row",n),children:i.map(((e,t)=>(0,d.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,d.jsx)(g,{item:e})},t)))})}},19365:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);var r=n(18215);const a={tabItem:"tabItem_Ymn6"};var i=n(74848);function s(e){let{children:t,hidden:n,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,s),hidden:n,children:t})}},11470:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(96540),a=n(18215),i=n(23104),s=n(56347),o=n(205),l=n(57485),c=n(31682),u=n(70679);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,c.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=h(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[c,d]=m({queryString:n,groupId:a}),[f,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,u.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),x=(()=>{const e=c??f;return p({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{x&&l(x)}),[x]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,i]),tabValues:i}}var g=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=n(74848);function j(e){let{className:t,block:n,selectedValue:r,selectValue:s,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const t=e.currentTarget,n=l.indexOf(t),a=o[n].value;a!==r&&(c(t),s(a))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:o.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:d,onClick:u,...i,className:(0,a.A)("tabs__item",x.tabItem,i?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function b(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function v(e){const t=f(e);return(0,y.jsxs)("div",{className:(0,a.A)("tabs-container",x.tabList),children:[(0,y.jsx)(j,{...t,...e}),(0,y.jsx)(b,{...t,...e})]})}function _(e){const t=(0,g.A)();return(0,y.jsx)(v,{...e,children:d(e.children)},String(t))}},53465:(e,t,n)=>{n.d(t,{W:()=>c});var r=n(96540),a=n(44586);const i=["zero","one","two","few","many","other"];function s(e){return i.filter((t=>e.includes(t)))}const o={locale:"en",pluralForms:s(["one","other"]),select:e=>1===e?"one":"other"};function l(){const{i18n:{currentLocale:e}}=(0,a.A)();return(0,r.useMemo)((()=>{try{return function(e){const t=new Intl.PluralRules(e);return{locale:e,pluralForms:s(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}(e)}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${t.message}\n`),o}}),[e])}function c(){const e=l();return{selectMessage:(t,n)=>function(e,t,n){const r=e.split("|");if(1===r.length)return r[0];r.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${r.length}: ${e}`);const a=n.select(t),i=n.pluralForms.indexOf(a);return r[Math.min(i,r.length-1)]}(n,t,e)}}}}]);