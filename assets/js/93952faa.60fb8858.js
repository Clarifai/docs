"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[4387],{15635:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>d});var i=r(74848),s=r(28453);const t={description:"Keep your credentials secure and build powerful modules",sidebar_position:4},l="OCR Evaluation Module",o={id:"portal-guide/modules/ocr-evaluation-module",title:"OCR Evaluation Module",description:"Keep your credentials secure and build powerful modules",source:"@site/docs/portal-guide/modules/ocr-evaluation-module.md",sourceDirName:"portal-guide/modules",slug:"/portal-guide/modules/ocr-evaluation-module",permalink:"/portal-guide/modules/ocr-evaluation-module",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/portal-guide/modules/ocr-evaluation-module.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{description:"Keep your credentials secure and build powerful modules",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Environment Variables and Secrets",permalink:"/portal-guide/modules/secrets-management"},next:{title:"Collectors",permalink:"/portal-guide/modules/collectors"}},a={},d=[{value:"<strong>Getting Started</strong>",id:"getting-started",level:2},{value:"GT (Ground Truth) Upload",id:"gt-ground-truth-upload",level:3},{value:"OCR Eval",id:"ocr-eval",level:3},{value:"<strong>Understanding Evaluation Metrics</strong>",id:"understanding-evaluation-metrics",level:2},{value:"<strong>1. Semantic Similarity</strong>",id:"1-semantic-similarity",level:3},{value:"<strong>2. Word Error Rate (WER)</strong>",id:"2-word-error-rate-wer",level:3},{value:"<strong>3. Character Error Rate (CER)</strong>",id:"3-character-error-rate-cer",level:3},{value:"<strong>4. Word Information Loss (WIL)</strong>",id:"4-word-information-loss-wil",level:3},{value:"<strong>5. Precision and Recall Metrics</strong>",id:"5-precision-and-recall-metrics",level:3}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"ocr-evaluation-module",children:"OCR Evaluation Module"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Learn how to evaluate OCR model performance effectively."})}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(n.p,{children:"The OCR (Optical Character Recognition) Evaluation Module is a powerful tool designed to assess the performance of OCR workflows in Clarifai. It enables users to measure the accuracy and effectiveness of their OCR workflows by comparing model outputs against known ground truth data."}),"\n",(0,i.jsx)(n.p,{children:"Key features of the evaluation module include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ground truth data management"}),"\n",(0,i.jsx)(n.li,{children:"Comprehensive OCR performance metrics"}),"\n",(0,i.jsx)(n.li,{children:"Multiple evaluation methods"}),"\n",(0,i.jsx)(n.li,{children:"Detailed performance reports"}),"\n",(0,i.jsx)(n.li,{children:"Support for various OCR workflows"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:(0,i.jsx)(n.strong,{children:"Getting Started"})}),"\n",(0,i.jsxs)(n.p,{children:["Before you start using the OCR evaluation module in your app, ensure that you have installed the module. You can learn how to install modules in the app ",(0,i.jsx)(n.a,{href:"https://docs.clarifai.com/portal-guide/modules/create-install/#install-the-created-module-version",children:"here"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["There are two components of this ",(0,i.jsx)(n.a,{href:"https://clarifai.com/mogith-p-n/OCR-ground-truth",children:"module"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"GT Upload"}),"\n",(0,i.jsx)(n.li,{children:"OCR Eval"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Let's discuss and understand the usage of both of them one by one."}),"\n",(0,i.jsx)(n.h3,{id:"gt-ground-truth-upload",children:"GT (Ground Truth) Upload"}),"\n",(0,i.jsx)(n.p,{children:"The GT Upload component allows users to upload and manage ground truth data that will be used to evaluate OCR model performance. This interface provides a streamlined process for data ingestion and dataset selection."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt_text",src:r(38287).A+"",width:"3018",height:"1584"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Follow the steps below to access GT upload and upload data:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Accessing GT Upload:"})," Navigate to the '",(0,i.jsx)(n.strong,{children:"GT Upload"}),"' section within the OCR Evaluation Module on your Clarifai dashboard."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Uploading Files:"})," Click on '",(0,i.jsx)(n.strong,{children:"Browse Files"}),"' to upload your CSV file containing ground truth data. Ensure the data is formatted as required by the evaluation tool."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"CSV Data Format Requirements:"})}),"\n",(0,i.jsx)(n.p,{children:"Required columns - image_id,ground_truth_text,bounding_box"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"image_id"}),": Unique identifier for each image"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ground_truth_text"}),": Actual text present in the image"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"bounding_box"}),": Coordinates of text location (if applicable)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important"}),": Ensure your CSV file:"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Is UTF-8 encoded"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Contains no empty rows"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Has consistent column naming"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Is under 200MB in size"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can also refer to this ",(0,i.jsx)(n.a,{href:"https://github.com/mogith-pn/Assests/blob/main/gt.csv",children:"file"})," to see an example of a correctly formatted CSV file."]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Selecting Dataset:"})," From the '",(0,i.jsx)(n.strong,{children:"Select dataset"}),"' dropdown, choose the dataset that aligns with your ground truth for precise evaluation."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Uploading Data:"})," After selecting your file and dataset, click '",(0,i.jsx)(n.strong,{children:"Upload data'"})," to ingest the ground truth into the platform."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ocr-eval",children:"OCR Eval"}),"\n",(0,i.jsx)(n.p,{children:"The OCR Workflow Evaluation interface within the Clarifai platform allows users to assess the performance of their Optical Character Recognition (OCR) or Visual Language Model (VLM) workflows by comparing predicted outputs against pre-established ground truth data."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt_text",src:r(47444).A+"",width:"3018",height:"1584"})}),"\n",(0,i.jsx)(n.p,{children:"After uploading the ground truth data, this component evaluates the OCR model's performance based on the uploaded data."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Follow the steps below for OCR Eval:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Access the Module:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Navigate to the OCR Evaluation Module in your Clarifai application dashboard."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Model Description Configuration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Eval Dataset:"})," Select the dataset against which the model will be evaluated from the dropdown menu."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Workflow URL:"})," Enter the URL of the OCR or VLM workflow that you wish to evaluate."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Model Type Selection:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Choose between OCR and VLM, depending on the nature of the workflow you are testing."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Evaluate Workflow:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Once the dataset and workflow URL are configured and the model type is selected, click on the \u2018Evaluate Workflow\u2019 button to start the evaluation process."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Viewing Results:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"After the evaluation is completed, the interface will display key performance metrics such as Semantic Similarity, Word Error Rate (WER), Character Error Rate (CER), Word Information Loss (WIL), Precision, Recall, and F1 Score."}),"\n",(0,i.jsx)(n.li,{children:"Each metric is clickable for a detailed explanation on what it measures and how to interpret the results."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt_text",src:r(80477).A+"",width:"3018",height:"1706"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Download Evaluation Results:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"There is an option to download the complete evaluation report, which includes detailed metric scores and comparative analysis."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The CSV file downloaded after evaluating the OCR workflow in provides a comprehensive breakdown of the OCR model's performance against the ground truth data. Each row corresponds to a data entry evaluated by the model. Here\u2019s a breakdown of typical columns you might find in this CSV:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Input ID"}),": Unique identifier for each input or image evaluated."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ground Truth Text"}),": The correct text as per the ground truth data."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Predicted Text"}),": The text that the OCR model extracted from the input."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Accuracy"}),": A percentage indicating the exact match accuracy between the predicted text and the ground truth."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Word Error Rate (WER)"}),": A metric that shows the percentage of words incorrectly predicted."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Character Error Rate (CER)"}),": Measures the percentage of characters that were incorrectly predicted."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Confidence Score"}),": Reflects the confidence of the OCR model in its predictions for each input."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"understanding-evaluation-metrics",children:(0,i.jsx)(n.strong,{children:"Understanding Evaluation Metrics"})}),"\n",(0,i.jsx)(n.h3,{id:"1-semantic-similarity",children:(0,i.jsx)(n.strong,{children:"1. Semantic Similarity"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Measures how closely the OCR output matches the ground truth in terms of meaning"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scale"}),": 0 to 1 (higher is better)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Implementation Methods"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TF-IDF vectorization with cosine similarity"}),"\n",(0,i.jsx)(n.li,{children:"LLM-based semantic comparison"}),"\n",(0,i.jsx)(n.li,{children:"Embedding model comparison"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-word-error-rate-wer",children:(0,i.jsx)(n.strong,{children:"2. Word Error Rate (WER)"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Measures the minimum number of word-level operations needed to transform OCR output into ground truth"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Calculation: ",(0,i.jsx)(n.br,{}),"\n","WER = (Number of word transformations) / (Total number of words in ground truth) \\"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Ground Truth: "Lion is a wild animal"'}),"\n",(0,i.jsx)(n.li,{children:'OCR Output: "Lion iz wild animol"'}),"\n",(0,i.jsx)(n.li,{children:"Transformations: 3 (is\u2192iz, missing 'a', animol\u2192animal)"}),"\n",(0,i.jsx)(n.li,{children:"WER = 3/6 = 50%"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-character-error-rate-cer",children:(0,i.jsx)(n.strong,{children:"3. Character Error Rate (CER)"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Measures character-level accuracy using Levenshtein distance"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Calculation: ",(0,i.jsx)(n.br,{}),"\n","CER = (Number of character transformations) / (Total characters in ground truth) \\"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Ground Truth: "619375128"'}),"\n",(0,i.jsx)(n.li,{children:'OCR Output: "61g375Z8"'}),"\n",(0,i.jsx)(n.li,{children:"Transformations: 3 (g\u21929, missing 1, Z\u21922)"}),"\n",(0,i.jsx)(n.li,{children:"CER = 3/9 = 33.33%"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-word-information-loss-wil",children:(0,i.jsx)(n.strong,{children:"4. Word Information Loss (WIL)"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Indicates the percentage of words incorrectly predicted"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scale"}),": 0 to 1 (lower is better)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Factors"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Number of correct words"}),"\n",(0,i.jsx)(n.li,{children:"Total words in reference"}),"\n",(0,i.jsx)(n.li,{children:"Total words in prediction"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"5-precision-and-recall-metrics",children:(0,i.jsx)(n.strong,{children:"5. Precision and Recall Metrics"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Precision:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Measures accuracy of recognized text"}),"\n",(0,i.jsx)(n.li,{children:"Formula: True Positives / (True Positives + False Positives)"}),"\n",(0,i.jsx)(n.li,{children:"Scale: 0 to 1 (higher is better)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Recall:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Measures completeness of text recognition"}),"\n",(0,i.jsx)(n.li,{children:"Formula: True Positives / (True Positives + False Negatives)"}),"\n",(0,i.jsx)(n.li,{children:"Scale: 0 to 1 (higher is better)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["F1 Score:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Harmonic mean of precision and recall"}),"\n",(0,i.jsx)(n.li,{children:"Formula: 2 * (Precision * Recall) / (Precision + Recall)"}),"\n",(0,i.jsx)(n.li,{children:"Provides a balanced measure of model performance"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},38287:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/ocr_1-d2ea067b734afdbcbb60cbd503360083.png"},47444:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/ocr_2-bf44dd2f5633121d01991b8f15498d1d.png"},80477:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/ocr_3-76c67552dbc0fcebe4a826a410104abb.png"},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var i=r(96540);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);