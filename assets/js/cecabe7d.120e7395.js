"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[7053],{5801:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/third_party_key_3-3c2158a5285e317853851f0d0b60d413.png"},11470:(e,n,t)=>{t.d(n,{A:()=>v});var r=t(96540),s=t(18215),a=t(17559),i=t(23104),l=t(56347),c=t(205),o=t(57485),d=t(31682),u=t(70679);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r}))}(t);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function _({value:e,tabValues:n}){return n.some(n=>n.value===e)}function f({queryString:e=!1,groupId:n}){const t=(0,l.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(s),(0,r.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})},[s,t])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,a=p(e),[i,l]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!_({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a})),[o,d]=f({queryString:t,groupId:s}),[h,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,u.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),m=(()=>{const e=o??h;return _({value:e,tabValues:a})?e:null})();(0,c.A)(()=>{m&&l(m)},[m]);return{selectedValue:i,selectValue:(0,r.useCallback)(e=>{if(!_({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),x(e)},[d,x,a]),tabValues:a}}var m=t(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function A({className:e,block:n,selectedValue:t,selectValue:r,tabValues:a}){const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),o=e=>{const n=e.currentTarget,s=l.indexOf(n),i=a[s].value;i!==t&&(c(n),r(i))},d=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:r})=>(0,g.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:o,...r,className:(0,s.A)("tabs__item",y.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function j({lazy:e,children:n,selectedValue:t}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===t);return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function b(e){const n=x(e);return(0,g.jsxs)("div",{className:(0,s.A)(a.G.tabs.container,"tabs-container",y.tabList),children:[(0,g.jsx)(A,{...n,...e}),(0,g.jsx)(j,{...n,...e})]})}function v(e){const n=(0,m.A)();return(0,g.jsx)(b,{...e,children:h(e.children)},String(n))}},19365:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var r=t(18215);const s={tabItem:"tabItem_Ymn6"};var a=t(74848);function i({children:e,hidden:n,className:t}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,t),hidden:n,children:e})}},48659:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>I,contentTitle:()=>v,default:()=>S,frontMatter:()=>b,metadata:()=>r,toc:()=>E});const r=JSON.parse('{"id":"control/authentication/environment-secrets","title":"Environment Secrets","description":"Learn about secrets for the Clarifai platform","source":"@site/docs/control/authentication/environment-secrets.md","sourceDirName":"control/authentication","slug":"/control/authentication/environment-secrets","permalink":"/control/authentication/environment-secrets","draft":false,"unlisted":true,"tags":[],"version":"current","sidebarPosition":2.1,"frontMatter":{"description":"Learn about secrets for the Clarifai platform","sidebar_position":2.1,"unlisted":true,"toc_max_heading_level":4},"sidebar":"tutorialSidebar"}');var s=t(74848),a=t(28453),i=t(11470),l=t(19365),c=t(88149);const o='curl -X POST "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/secrets" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "secrets": [\n      {\n        "id": "OPENAI_KEY_2025",        \n        "value": "your_super_secret_api_key_here",\n        "description": "My OpenAI key for experiments"  \n      }\n    ]\n  }\'\n',d="[INFO] 12:18:09.938891 Secrets created successfully:\ncode: SUCCESS\ndescription: \"Ok\"\nreq_id: \"sdk-python-11.8.2-8839a40ace044545a2a1f7b803d60719\"\n |  thread=8800297152 \nCreated Secrets: [{'auth': <clarifai.client.auth.helper.ClarifaiAuthHelper object at 0x104692720>, 'value': 'your_super_secret_api_key_here', 'version': 1, 'description': 'My OpenAI key for experiments', 'created_at': seconds: 1759483090\n, 'modified_at': seconds: 1759483090\n, 'expires_at': '1970-01-01T00:00:00Z', 'user_id': 'alfrick', 'secret_id': 'OPENAI_KEY_20251'}]",u='curl -X GET "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/secrets/YOUR_SECRET_ID_HERE" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n  -H "Content-Type: application/json"\n',h="Secret Info: {'auth': <clarifai.client.auth.helper.ClarifaiAuthHelper object at 0x105512840>, 'value': 'your_super_secret_api_key_here', 'version': 1, 'description': 'My OpenAI key for experiments', 'created_at': seconds: 1759480228\n, 'modified_at': seconds: 1759480228\n, 'expires_at': '1970-01-01T00:00:00Z', 'user_id': 'alfrick', 'secret_id': 'OPENAI_KEY_2025'}",p='from clarifai.client.user import User\n\n# Set PAT as an environment variable before running this snippet:\n#   export CLARIFAI_PAT=YOUR_PAT_HERE # Unix-Like Systems\n#   set CLARIFAI_PAT=YOUR_PAT_HERE  # Windows\n\n# # Initialize User client\nclient = User(user_id="YOUR_USER_ID")\n\n# Create one or more secrets\nsecrets = [\n    {\n        "id": "OPENAI_KEY_2025",\n        "value": "your_super_secret_api_key_here",\n        "description": "My OpenAI key for experiments"\n    }\n]\n\ncreated_secrets = client.create_secrets(secrets)\nprint("Created Secrets:", created_secrets)\n',_='from clarifai.client.user import User\n\n# Initialize the client\nclient = User(user_id="YOUR_USER_ID")\n\n# Update an existing secret\'s description or value\npatched_secrets = client.patch_secrets(\n    secrets=[\n        {\n            "id": "OPENAI_KEY_2025",\n            "value": "new_secret_value",\n            "description": "Updated Secret Description"\n        }\n    ],\n    action="overwrite"  # Can also be "remove"\n)\n\nprint("Patched Secrets:", patched_secrets)\n',f='from clarifai.client.user import User\n\n# Set PAT as an environment variable before running this snippet:\n#   export CLARIFAI_PAT=YOUR_PAT_HERE # Unix-Like Systems\n#   set CLARIFAI_PAT=YOUR_PAT_HERE  # Windows\n\n# Initialize User client\nclient = User(user_id="YOUR_USER_ID")\n\n# Retrieve a specific secret by its ID\nsecret_info = client.get_secret(secret_id="OPENAI_KEY_2025")\nprint("Secret Info:", secret_info)\n',x='from clarifai.client.user import User\n\nclient = User(user_id="YOUR_USER_ID")\n\n# Delete one or more secrets\nclient.delete_secrets(secret_ids=["OPENAI_KEY_2025"])',m='from clarifai.client.user import User\n\n# Set PAT as an environment variable before running this snippet:\n#   export CLARIFAI_PAT=YOUR_PAT_HERE # Unix-Like Systems\n#   set CLARIFAI_PAT=YOUR_PAT_HERE  # Windows\n\n# Initialize User client\nclient = User(user_id="YOUR_USER_ID")\n\n# List all secrets\nall_secrets = list(client.list_secrets(page_no=1))\n\nprint("Secrets:")\nfor secret in all_secrets:\n    print(secret)',y='curl -X GET "https://api.clarifai.com/v2/users/YOUR_USER_ID_HERE/secrets" \\\n  -H "Authorization: Key YOUR_PAT_HERE" \\\n\n',g="Secrets:\n{'auth': <clarifai.client.auth.helper.ClarifaiAuthHelper object at 0x10436aff0>, 'value': 'your_super_secret_api_key_here', 'version': 1, 'description': 'My OpenAI key for experiments', 'created_at': seconds: 1759483090\n, 'modified_at': seconds: 1759483090\n, 'expires_at': '1970-01-01T00:00:00Z', 'user_id': 'alfrick', 'secret_id': 'OPENAI_KEY_20251'}\n{'auth': <clarifai.client.auth.helper.ClarifaiAuthHelper object at 0x10436aff0>, 'value': 'your_super_secret_api_key_here', 'version': 1, 'description': 'My OpenAI key for experiments', 'created_at': seconds: 1759492357\n, 'modified_at': seconds: 1759492357\n, 'expires_at': '1970-01-01T00:00:00Z', 'user_id': 'alfrick', 'secret_id': 'OPENAI_KEY_2025'}",A="[INFO] 14:36:12.091449 Secrets patched successfully:\ncode: SUCCESS\ndescription: \"Ok\"\nreq_id: \"sdk-python-11.8.2-56d27720c1d7481ea77f3e8b617ead90\"\n |  thread=8800297152 \nPatched Secrets: [{'auth': <clarifai.client.auth.helper.ClarifaiAuthHelper object at 0x107dcd370>, 'value': 'new_secret_value', 'version': 1, 'description': 'Updated Secret Description', 'created_at': seconds: 1759480228\n, 'modified_at': seconds: 1759480228\n, 'expires_at': '1970-01-01T00:00:00Z', 'user_id': 'alfrick', 'secret_id': 'OPENAI_KEY_2025'}]",j='[INFO] 14:47:45.514014 \nSecrets Deleted\ncode: SUCCESS\ndescription: "Ok"\nreq_id: "sdk-python-11.8.2-4274906bf01b4cbc91295a51de29aa2f"\n |  thread=8800297152 ',b={description:"Learn about secrets for the Clarifai platform",sidebar_position:2.1,unlisted:!0,toc_max_heading_level:4},v="Environment Secrets",I={},E=[{value:"Via the UI",id:"via-the-ui",level:2},{value:"Via the API",id:"via-the-api",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install Python SDK",id:"install-python-sdk",level:4},{value:"Get Credentials",id:"get-credentials",level:4},{value:"Create",id:"create",level:3},{value:"Get",id:"get",level:3},{value:"List",id:"list",level:3},{value:"Update",id:"update",level:3},{value:"Delete",id:"delete",level:3}];function P(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"environment-secrets",children:"Environment Secrets"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Securely connect external services with secrets"})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsxs)(n.p,{children:["Third-Party API Keys are a type of secret used to authenticate and authorize external applications or services, enabling them to securely interact with your Clarifai data without exposing your primary credentials, such as your ",(0,s.jsx)(n.a,{href:"/control/authentication/pat",children:"Personal Access Token"})," (PAT)."]}),"\n",(0,s.jsx)(n.h2,{id:"via-the-ui",children:"Via the UI"}),"\n",(0,s.jsx)(n.p,{children:"The Clarifai platform offers an intuitive interface for creating, managing, and securing your third-party API keys."}),"\n",(0,s.jsxs)(n.p,{children:["To create a third-party API key, ",(0,s.jsx)(n.a,{href:"https://clarifai.com/login",children:"log in"})," to the Clarifai platform. Then, in the collapsible left sidebar, select ",(0,s.jsx)(n.strong,{children:"Settings"})," and choose ",(0,s.jsx)(n.strong,{children:"Secrets"})," from the dropdown list."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(62811).A+"",width:"4200",height:"2050"})}),"\n",(0,s.jsxs)(n.p,{children:["On the ensuing ",(0,s.jsx)(n.strong,{children:"Secrets"})," page, click the ",(0,s.jsx)(n.strong,{children:"Create Third-Party API Key"})," button."]}),"\n",(0,s.jsx)(n.p,{children:"Next, on the form that pops up, enter a required name for your API key, an optional short description, and the required API key from your third-party provider."}),"\n",(0,s.jsxs)(n.p,{children:["Lastly, click the ",(0,s.jsx)(n.strong,{children:"Create Third-Party API Key"})," button."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(81600).A+"",width:"4200",height:"1986"})}),"\n",(0,s.jsxs)(n.p,{children:["The new PAT will be listed in the ",(0,s.jsx)(n.strong,{children:"Third-Party API Keys"})," section, where you can copy, view, edit, or delete it."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"listed pat",src:t(5801).A+"",width:"4200",height:"2002"})}),"\n",(0,s.jsx)(n.admonition,{title:"note",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Third-Party API keys do not expire. In case your key gets compromised, you should delete it, and create a new one."}),"\n",(0,s.jsxs)(n.li,{children:["We recommend that you do ",(0,s.jsx)(n.strong,{children:"not"})," share your keys with other users."]}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"via-the-api",children:"Via the API"}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.h4,{id:"install-python-sdk",children:"Install Python SDK"}),"\n",(0,s.jsxs)(n.p,{children:["Install the latest version of the Clarifai ",(0,s.jsx)(n.a,{href:"https://github.com/Clarifai/clarifai-python/",children:"Python"})," SDK package."]}),"\n",(0,s.jsx)(i.A,{groupId:"code",children:(0,s.jsx)(l.A,{value:"bash",label:"Bash",children:(0,s.jsx)(c.A,{className:"language-bash",children:" pip install --upgrade clarifai "})})}),"\n",(0,s.jsx)(n.h4,{id:"get-credentials",children:"Get Credentials"}),"\n",(0,s.jsx)(n.p,{children:"Go to your Clarifai account and retrieve the following credentials:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User ID"})," \u2013 In the collapsible left sidebar, select ",(0,s.jsx)(n.strong,{children:"Settings"})," and choose ",(0,s.jsx)(n.strong,{children:"Account"})," from the dropdown list. Then, locate your user ID."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PAT"})," \u2013 From the same ",(0,s.jsx)(n.strong,{children:"Settings"})," option, choose ",(0,s.jsx)(n.strong,{children:"Secrets"})," to generate or copy your ",(0,s.jsx)(n.a,{href:"/control/authentication/pat",children:"Personal Access Token"})," (PAT). This token is used to authenticate your connection with the Clarifai platform."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can then set the PAT as an environment variable using ",(0,s.jsx)(n.code,{children:"CLARIFAI_PAT"}),"."]}),"\n",(0,s.jsxs)(i.A,{groupId:"code",children:[(0,s.jsx)(l.A,{value:"bash",label:"Unix-Like Systems",children:(0,s.jsx)(c.A,{className:"language-bash",children:" export CLARIFAI_PAT=YOUR_PERSONAL_ACCESS_TOKEN_HERE "})}),(0,s.jsx)(l.A,{value:"bash2",label:"Windows",children:(0,s.jsx)(c.A,{className:"language-bash",children:" set CLARIFAI_PAT=YOUR_PERSONAL_ACCESS_TOKEN_HERE "})})]}),"\n","\n","\n",(0,s.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,s.jsx)(n.p,{children:"You can create a new a third-party API key by providing its ID and value."}),"\n",(0,s.jsxs)(i.A,{groupId:"code",children:[(0,s.jsx)(l.A,{value:"python",label:"Python SDK",children:(0,s.jsx)(c.A,{className:"language-python",children:p})}),(0,s.jsx)(l.A,{value:"curl",label:"cURL",children:(0,s.jsx)(c.A,{className:"language-bash",children:o})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example Output"}),(0,s.jsx)(c.A,{className:"language-text",children:d})]}),"\n",(0,s.jsx)(n.h3,{id:"get",children:"Get"}),"\n",(0,s.jsx)(n.p,{children:"You can get an existing third-party API key by providing its ID."}),"\n",(0,s.jsxs)(i.A,{groupId:"code",children:[(0,s.jsx)(l.A,{value:"python",label:"Python SDK",children:(0,s.jsx)(c.A,{className:"language-python",children:f})}),(0,s.jsx)(l.A,{value:"curl",label:"cURL",children:(0,s.jsx)(c.A,{className:"language-bash",children:u})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example Output"}),(0,s.jsx)(c.A,{className:"language-text",children:h})]}),"\n",(0,s.jsx)(n.h3,{id:"list",children:"List"}),"\n",(0,s.jsx)(n.p,{children:"You can list all the third-party API keys you have."}),"\n",(0,s.jsxs)(i.A,{groupId:"code",children:[(0,s.jsx)(l.A,{value:"python",label:"Python SDK",children:(0,s.jsx)(c.A,{className:"language-python",children:m})}),(0,s.jsx)(l.A,{value:"curl",label:"cURL",children:(0,s.jsx)(c.A,{className:"language-bash",children:y})})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," If you specify ",(0,s.jsx)(n.code,{children:"page_no"})," but not ",(0,s.jsx)(n.code,{children:"per_page"}),", ",(0,s.jsx)(n.a,{href:"https://docs.clarifai.com/resources/api-overview/pagination/",children:"pagination"})," defaults to 16 items per page. If both ",(0,s.jsx)(n.code,{children:"page_no"})," and ",(0,s.jsx)(n.code,{children:"per_page"})," are left as ",(0,s.jsx)(n.code,{children:"None"}),", all resources are listed without pagination."]}),"\n"]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example Output"}),(0,s.jsx)(c.A,{className:"language-text",children:g})]}),"\n",(0,s.jsx)(n.h3,{id:"update",children:"Update"}),"\n",(0,s.jsx)(n.p,{children:"You can update an existing third-party API key by providing its ID."}),"\n",(0,s.jsx)(i.A,{groupId:"code",children:(0,s.jsx)(l.A,{value:"python",label:"Python SDK",children:(0,s.jsx)(c.A,{className:"language-python",children:_})})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example Output"}),(0,s.jsx)(c.A,{className:"language-text",children:A})]}),"\n",(0,s.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,s.jsx)(n.p,{children:"You can delete an existing third-party API key by providing its ID."}),"\n",(0,s.jsx)(i.A,{groupId:"code",children:(0,s.jsx)(l.A,{value:"python",label:"Python SDK",children:(0,s.jsx)(c.A,{className:"language-python",children:x})})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example Output"}),(0,s.jsx)(c.A,{className:"language-text",children:j})]})]})}function S(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(P,{...e})}):P(e)}},62811:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/third_party_key_1-41d568a56909d4f0be4fbec401d237b5.png"},81600:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/third_party_key_2-f72300e909a20e55531a8b5430adce3a.png"}}]);