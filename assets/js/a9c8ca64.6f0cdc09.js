"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[2250],{11470:(e,n,t)=>{t.d(n,{A:()=>x});var a=t(96540),r=t(18215),o=t(17559),i=t(23104),s=t(56347),l=t(205),c=t(57485),u=t(31682),d=t(70679);function p(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,a.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:t,default:a}})=>({value:e,label:n,attributes:t,default:a}))}(t);return function(e){const n=(0,u.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function f({value:e,tabValues:n}){return n.some(n=>n.value===e)}function m({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(r),(0,a.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,o=h(e),[i,s]=(0,a.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!f({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o})),[c,u]=m({queryString:t,groupId:r}),[p,b]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,d.Dv)(n);return[t,(0,a.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),g=(()=>{const e=c??p;return f({value:e,tabValues:o})?e:null})();(0,l.A)(()=>{g&&s(g)},[g]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!f({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),b(e)},[u,b,o]),tabValues:o}}var g=t(92303);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=t(74848);function v({className:e,block:n,selectedValue:t,selectValue:a,tabValues:o}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),c=e=>{const n=e.currentTarget,r=s.indexOf(n),i=o[r].value;i!==t&&(l(n),a(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:o.map(({value:e,label:n,attributes:a})=>(0,y.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{s.push(e)},onKeyDown:u,onClick:c,...a,className:(0,r.A)("tabs__item",_.tabItem,a?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function w({lazy:e,children:n,selectedValue:t}){const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=o.find(e=>e.props.value===t);return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function k(e){const n=b(e);return(0,y.jsxs)("div",{className:(0,r.A)(o.G.tabs.container,"tabs-container",_.tabList),children:[(0,y.jsx)(v,{...n,...e}),(0,y.jsx)(w,{...n,...e})]})}function x(e){const n=(0,g.A)();return(0,y.jsx)(k,{...e,children:p(e.children)},String(n))}},18460:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>p,default:()=>b,frontMatter:()=>d,metadata:()=>a,toc:()=>f});const a=JSON.parse('{"id":"resources/tips","title":"Additional Tips","description":"Enhance your implementation with Clarifai","source":"@site/docs/resources/tips.md","sourceDirName":"resources","slug":"/resources/tips","permalink":"/resources/tips","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"description":"Enhance your implementation with Clarifai","sidebar_position":12},"sidebar":"tutorialSidebar","previous":{"title":"Troubleshooting","permalink":"/resources/troubleshooting"},"next":{"title":"Data Privacy and Security","permalink":"/resources/privacy-security"}}');var r=t(74848),o=t(28453),i=t(11470),s=t(19365),l=t(88149);const c='from flask import Flask, request, jsonify\nimport hmac\nimport hashlib\nimport json\n\napp = Flask(__name__)\nWEBHOOK_SECRET = os.environ.get("CLARIFAI_WEBHOOK_SECRET")\n\n@app.route(\'/webhook\', methods=[\'POST\'])\ndef handle_webhook():\n    """Handle Clarifai webhook notifications"""\n    \n    # Verify webhook signature\n    signature = request.headers.get(\'X-Clarifai-Signature\')\n    if not verify_webhook_signature(request.data, signature):\n        return jsonify({\'error\': \'Invalid signature\'}), 401\n    \n    # Process webhook data\n    webhook_data = request.get_json()\n    \n    if webhook_data.get(\'type\') == \'model.training.completed\':\n        handle_training_completed(webhook_data)\n    elif webhook_data.get(\'type\') == \'input.uploaded\':\n        handle_input_uploaded(webhook_data)\n    \n    return jsonify({\'status\': \'success\'})\n\ndef verify_webhook_signature(payload: bytes, signature: str) -> bool:\n    """Verify webhook signature for security"""\n    if not WEBHOOK_SECRET or not signature:\n        return False\n    \n    expected_signature = hmac.new(\n        WEBHOOK_SECRET.encode(),\n        payload,\n        hashlib.sha256\n    ).hexdigest()\n    \n    return hmac.compare_digest(f"sha256={expected_signature}", signature)\n\ndef handle_training_completed(data: dict):\n    """Handle model training completion"""\n    model_id = data.get(\'model_id\')\n    print(f"\u2705 Model {model_id} training completed!")\n    \n    # Add your custom logic here\n    # e.g., send notification, update database, trigger next workflow\n\ndef handle_input_uploaded(data: dict):\n    """Handle new input upload"""\n    input_id = data.get(\'input_id\')\n    print(f"\ud83d\udcc1 New input uploaded: {input_id}")\n    \n    # Add your custom logic here\n    # e.g., trigger automatic processing, update UI\n\nif __name__ == \'__main__\':\n    app.run(debug=True, port=5000)',u='import functools\nimport hashlib\nimport pickle\nimport os\nfrom typing import Any, Callable\n\ndef cache_predictions(cache_dir: str = ".cache"):\n    """Decorator to cache model predictions"""\n    os.makedirs(cache_dir, exist_ok=True)\n    \n    def decorator(func: Callable) -> Callable:\n        @functools.wraps(func)\n        def wrapper(*args, **kwargs):\n            # Create cache key from function arguments\n            cache_key = hashlib.md5(\n                str(args).encode() + str(kwargs).encode()\n            ).hexdigest()\n            \n            cache_file = os.path.join(cache_dir, f"{func.__name__}_{cache_key}.pkl")\n            \n            # Try to load from cache\n            if os.path.exists(cache_file):\n                try:\n                    with open(cache_file, \'rb\') as f:\n                        return pickle.load(f)\n                except Exception:\n                    pass  # Cache corrupted, will regenerate\n            \n            # Generate new result\n            result = func(*args, **kwargs)\n            \n            # Save to cache\n            try:\n                with open(cache_file, \'wb\') as f:\n                    pickle.dump(result, f)\n            except Exception:\n                pass  # Failed to cache, continue anyway\n            \n            return result\n        return wrapper\n    return decorator\n\n# Usage example\n@cache_predictions()\ndef expensive_prediction(model_url: str, input_text: str):\n    model = Model(url=model_url, pat=os.environ.get("CLARIFAI_PAT"))\n    return model.predict_by_bytes(input_text.encode(), input_type="text")',d={description:"Enhance your implementation with Clarifai",sidebar_position:12},p="Additional Tips",h={},f=[{value:"Webhook Integration",id:"webhook-integration",level:2},{value:"Caching Predictions",id:"caching-predictions",level:2}];function m(e){const n={h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"additional-tips",children:"Additional Tips"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Enhance your implementation with Clarifai"})}),"\n",(0,r.jsx)("hr",{}),"\n",(0,r.jsx)(n.p,{children:"This page provides extra guidance to help you get the most out of your development experience with Clarifai. Whether you're optimizing performance or just looking for best practices, these tips offer practical advice beyond the basics."}),"\n","\n","\n",(0,r.jsx)(n.h2,{id:"webhook-integration",children:"Webhook Integration"}),"\n",(0,r.jsx)(n.p,{children:"You can enable real-time automation by integrating Clarifai webhooks into your backend system. For example, you can set up a secure Flask endpoint to receive and validate webhook notifications for events like model training completion or new input uploads."}),"\n",(0,r.jsx)(i.A,{groupId:"code",children:(0,r.jsx)(s.A,{value:"bash",label:"Python",children:(0,r.jsx)(l.A,{className:"language-bash",children:c})})}),"\n",(0,r.jsx)(n.h2,{id:"caching-predictions",children:"Caching Predictions"}),"\n",(0,r.jsx)(n.p,{children:"You can avoid repeated computation for identical inputs by caching model predictions locally. For example, you can introduce a simple decorator-based caching mechanism  to store and retrieve results from disk, which optimizes performance for resource-intensive prediction tasks."}),"\n",(0,r.jsx)(i.A,{groupId:"code",children:(0,r.jsx)(s.A,{value:"bash",label:"Python",children:(0,r.jsx)(l.A,{className:"language-bash",children:u})})})]})}function b(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var a=t(18215);const r={tabItem:"tabItem_Ymn6"};var o=t(74848);function i({children:e,hidden:n,className:t}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,t),hidden:n,children:e})}}}]);