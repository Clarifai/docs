"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[373],{48765:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>_,contentTitle:()=>g,default:()=>b,frontMatter:()=>f,metadata:()=>y,toc:()=>v});var t=r(74848),o=r(28453),a=r(11470),i=r(19365),s=r(21432);const l='# Import necessary libraries\nimport os\nfrom clarifai.client.model import Model\n\n# Set the Clarifai API key as an environment variable (replace with your actual key)\nos.environ[\'CLARIFAI_PAT\'] = "YOUR_PAT" \n\n# Create a Model object using the model URL from the Clarifai portal\nmodel = Model("Model URL From Portal")\n\n# Set the model version ID (replace with the ID from the Clarifai portal)\nmodel.model_version.id = "Model Version ID From Portal" \n\n# Export the model to the specified path\nmodel.export("path to save .tar file")',c="import onnx  # Library for working with ONNX models\nimport onnxruntime as ort  # Library for running ONNX models\nimport numpy as np  # Library for numerical operations\nimport cv2  # Library for image processing\n\n# Commented-out code for model verification (uncomment if needed)\n# onnx_model = onnx.load(\"model/1/model.onnx\")\n# onnx.checker.check_model(onnx_model)\n\n# Load the input image using OpenCV\ninput_image = cv2.imread('ramen.png')\n\n# Expand the image dimension to match model input requirements \ninput_array = np.expand_dims(input_image, axis=0)\n\n# Swap axes and convert to float32 for potential model input requirements\ninput_array = np.swapaxes(input_array, 1, 3).astype(np.float32)\n\n# Create an inference session using the ONNX model\nort_sess = ort.InferenceSession('model/1/model.onnx') # replace with correct path to onnx model file\n\n# Run inference on the model with the preprocessed input\noutputs = ort_sess.run(None, {'input': input_array})\n\n# Extract the predicted class index from the output\npredicted = outputs[0][0].argmax(0)\n\n# Read class labels from a text file (replace filename if different)\nwith open(f'model/labels.txt') as f:\n    labels = f.readlines()\n\n# Print the predicted class label based on the index and labels list\nprint(labels[predicted])",d="# Import necessary libraries\nimport numpy as np\nimport cv2\nfrom tritonclient.grpc import (\n    InferenceServerClient,  # Client for interacting with Triton server\n    InferInput,  # Represents an input to the model\n    InferRequestedOutput,  # Represents an output requested for inference\n)\n\n# Define model name in our case the name is 'model'\nmodel_name = 'model'\n\n# Connect to Triton server running on localhost \ntriton_client = InferenceServerClient('127.0.0.1:9001')\n\n# Load the specified model onto the Triton server\ntriton_client.load_model(model_name)\n\n\n# Load the input image using OpenCV\ninput_image = cv2.imread('ramen.png') # replace with any image file\n\n# Expand the image dimension to match model input requirements\ninput_array = np.expand_dims(input_image, axis=0)\n\n# Define the model input object with its name, shape, and data type\nmodel_input = InferInput('input', input_array.shape, 'UINT8')\n\n# Set the data for the model input from the NumPy array\nmodel_input.set_data_from_numpy(input_array)\n\n# Run inference on the model with the provided input\nres = triton_client.infer(\n    model_name=model_name,  # Specify the model to use\n    inputs=[model_input],  # List of input objects\n    outputs=[InferRequestedOutput('probs')],  # List of requested outputs\n)\n\n# Read class labels from a text file \nwith open(f'{model_name}/labels.txt') as f:\n    labels = f.readlines()\n\n# Get the index of the class with the highest probability from the output\npredicted_class_index = np.argmax(res.as_numpy('probs'))\n\n# Print the predicted class label based on the index and labels list\nprint(labels[predicted_class_index])",p="Exporting model: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 912M/912M [00:22<00:00, 39.8MB/s]\n2024-04-18 11:44:30 INFO     clarifai.client.model:  Model ID model_classifier model.py:991\n                             with version 78a14f11871a4d5fa9dfa462fc81c1aa                 \n                             exported successfully to                                      \n                             /home/adithyansukumar/work/output/model.tar    ",u="id-ramen",m="root@c1ed01adc0c6:/run# ",h="I0418 10:22:19.527473 16089 server.cc:610] \n+---------+---------------------------------------+---------------------------------------+\n| Backend | Path                                  | Config                                |\n+---------+---------------------------------------+---------------------------------------+\n| python  | /opt/tritonserver/backends/python/lib | {\"cmdline\":{\"auto-complete-config\":\"f |\n|         | triton_python.so                      | alse\",\"min-compute-capability\":\"6.000 |\n|         |                                       | 000\",\"backend-directory\":\"/opt/triton |\n|         |                                       | server/backends\",\"default-max-batch-s |\n|         |                                       | ize\":\"4\"}}                            |\n|         |                                       |                                       |\n+---------+---------------------------------------+---------------------------------------+\n\nI0418 10:22:19.527498 16089 model_lifecycle.cc:264] ModelStates()\nI0418 10:22:19.527539 16089 server.cc:653] \n+-------+---------+--------+\n| Model | Version | Status |\n+-------+---------+--------+\n| model | 1       | READY  |\n+-------+---------+--------+\n\nI0418 10:22:19.652489 16089 metrics.cc:747] Collecting metrics for GPU 0: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652537 16089 metrics.cc:747] Collecting metrics for GPU 1: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652547 16089 metrics.cc:747] Collecting metrics for GPU 2: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652557 16089 metrics.cc:747] Collecting metrics for GPU 3: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652564 16089 metrics.cc:747] Collecting metrics for GPU 4: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652573 16089 metrics.cc:747] Collecting metrics for GPU 5: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652581 16089 metrics.cc:747] Collecting metrics for GPU 6: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.652588 16089 metrics.cc:747] Collecting metrics for GPU 7: NVIDIA RTX 6000 Ada Generation\nI0418 10:22:19.653107 16089 metrics.cc:640] Collecting CPU metrics\nI0418 10:22:19.653341 16089 tritonserver.cc:2364] \n+----------------------------------+------------------------------------------------------+\n| Option                           | Value                                                |\n+----------------------------------+------------------------------------------------------+\n| server_id                        | triton                                               |\n| server_version                   | 2.32.0                                               |\n| server_extensions                | classification sequence model_repository model_repos |\n|                                  | itory(unload_dependents) schedule_policy model_confi |\n|                                  | guration system_shared_memory cuda_shared_memory bin |\n|                                  | ary_tensor_data parameters statistics trace logging  |\n| model_repository_path[0]         | /run                                                 |\n| model_control_mode               | MODE_EXPLICIT                                        |\n| startup_models_0                 | model                                                |\n| strict_model_config              | 1                                                    |\n| rate_limit                       | OFF                                                  |\n| pinned_memory_pool_byte_size     | 268435456                                            |\n| cuda_memory_pool_byte_size{0}    | 67108864                                             |\n| cuda_memory_pool_byte_size{1}    | 67108864                                             |\n| cuda_memory_pool_byte_size{2}    | 67108864                                             |\n| cuda_memory_pool_byte_size{3}    | 67108864                                             |\n| cuda_memory_pool_byte_size{4}    | 67108864                                             |\n| cuda_memory_pool_byte_size{5}    | 67108864                                             |\n| cuda_memory_pool_byte_size{6}    | 67108864                                             |\n| cuda_memory_pool_byte_size{7}    | 67108864                                             |\n| min_supported_compute_capability | 6.0                                                  |\n| strict_readiness                 | 1                                                    |\n| exit_timeout                     | 30                                                   |\n| cache_enabled                    | 0                                                    |\n+----------------------------------+------------------------------------------------------+\n\nI0418 10:22:19.654269 16089 grpc_server.cc:4888] === GRPC KeepAlive Options ===\nI0418 10:22:19.654283 16089 grpc_server.cc:4889] keepalive_time_ms: 7200000\nI0418 10:22:19.654288 16089 grpc_server.cc:4891] keepalive_timeout_ms: 20000\nI0418 10:22:19.654293 16089 grpc_server.cc:4893] keepalive_permit_without_calls: 0\nI0418 10:22:19.654299 16089 grpc_server.cc:4895] http2_max_pings_without_data: 2\nI0418 10:22:19.654305 16089 grpc_server.cc:4897] http2_min_recv_ping_interval_without_data_ms: 300000\nI0418 10:22:19.654312 16089 grpc_server.cc:4900] http2_max_ping_strikes: 2\nI0418 10:22:19.654320 16089 grpc_server.cc:4902] ==============================\nI0418 10:22:19.655139 16089 grpc_server.cc:227] Ready for RPC 'Check', 0\nI0418 10:22:19.655203 16089 grpc_server.cc:227] Ready for RPC 'ServerLive', 0\nI0418 10:22:19.655219 16089 grpc_server.cc:227] Ready for RPC 'ServerReady', 0\nI0418 10:22:19.655228 16089 grpc_server.cc:227] Ready for RPC 'ModelReady', 0\nI0418 10:22:19.655237 16089 grpc_server.cc:227] Ready for RPC 'ServerMetadata', 0\nI0418 10:22:19.655246 16089 grpc_server.cc:227] Ready for RPC 'ModelMetadata', 0\nI0418 10:22:19.655257 16089 grpc_server.cc:227] Ready for RPC 'ModelConfig', 0\nI0418 10:22:19.655270 16089 grpc_server.cc:227] Ready for RPC 'SystemSharedMemoryStatus', 0\nI0418 10:22:19.655277 16089 grpc_server.cc:227] Ready for RPC 'SystemSharedMemoryRegister', 0\nI0418 10:22:19.655286 16089 grpc_server.cc:227] Ready for RPC 'SystemSharedMemoryUnregister', 0\nI0418 10:22:19.655293 16089 grpc_server.cc:227] Ready for RPC 'CudaSharedMemoryStatus', 0\nI0418 10:22:19.655299 16089 grpc_server.cc:227] Ready for RPC 'CudaSharedMemoryRegister', 0\nI0418 10:22:19.655307 16089 grpc_server.cc:227] Ready for RPC 'CudaSharedMemoryUnregister', 0\nI0418 10:22:19.655316 16089 grpc_server.cc:227] Ready for RPC 'RepositoryIndex', 0\nI0418 10:22:19.655322 16089 grpc_server.cc:227] Ready for RPC 'RepositoryModelLoad', 0\nI0418 10:22:19.655330 16089 grpc_server.cc:227] Ready for RPC 'RepositoryModelUnload', 0\nI0418 10:22:19.655340 16089 grpc_server.cc:227] Ready for RPC 'ModelStatistics', 0\nI0418 10:22:19.655348 16089 grpc_server.cc:227] Ready for RPC 'Trace', 0\nI0418 10:22:19.655355 16089 grpc_server.cc:227] Ready for RPC 'Logging', 0\nI0418 10:22:19.655371 16089 grpc_server.cc:445] Thread started for CommonHandler\nI0418 10:22:19.655525 16089 grpc_server.cc:3952] New request handler for ModelInferHandler, 0\nI0418 10:22:19.655567 16089 grpc_server.cc:2844] Thread started for ModelInferHandler\nI0418 10:22:19.655706 16089 grpc_server.cc:3952] New request handler for ModelInferHandler, 0\nI0418 10:22:19.655748 16089 grpc_server.cc:2844] Thread started for ModelInferHandler\nI0418 10:22:19.655870 16089 grpc_server.cc:4348] New request handler for ModelStreamInferHandler, 0\nI0418 10:22:19.655901 16089 grpc_server.cc:2844] Thread started for ModelStreamInferHandler\nI0418 10:22:19.655909 16089 grpc_server.cc:4977] Started GRPCInferenceService at 0.0.0.0:9001\nI0418 10:22:19.656156 16089 http_server.cc:3518] Started HTTPService at 0.0.0.0:9000\nI0418 10:22:19.726777 16089 http_server.cc:186] Started Metrics Service at 0.0.0.0:9002\n",f={},g="Model Export",y={id:"sdk/advance-model-operations/model-export",title:"Model Export",description:"Learn how to perform model export using Clarifai SDKs",source:"@site/docs/sdk/advance-model-operations/model-export.md",sourceDirName:"sdk/advance-model-operations",slug:"/sdk/advance-model-operations/model-export",permalink:"/sdk/advance-model-operations/model-export",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/sdk/advance-model-operations/model-export.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Model Upload",permalink:"/sdk/advance-model-operations/model-upload"},next:{title:"Building RAG Applications",permalink:"/sdk/rag"}},_={},v=[{value:"Model Inference Using ONNX",id:"model-inference-using-onnx",level:2},{value:"Deployment Using Nvidia Triton",id:"deployment-using-nvidia-triton",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"model-export",children:"Model Export"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Learn how to perform model export using Clarifai SDKs"})}),"\n",(0,t.jsx)("hr",{}),"\n",(0,t.jsx)(n.p,{children:"Using the Clarifai SDKs, you can export the model you have trained on the Clarifai portal into a .tar file by specifying the model URL. This feature allows users to version control their trained models and seamlessly integrate them into different environments. The exported .tar file encapsulates the model architecture, weights, and any additional training artifacts, making it a portable archive for deployment. Overall, the ability to export models via the Clarifai SDKs empowers users with greater flexibility and control over their machine-learning workflows."}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(i.A,{value:"python",label:"Python",children:(0,t.jsx)(s.A,{className:"language-python",children:l})})}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Output"}),(0,t.jsx)(s.A,{className:"language-python",children:p})]}),"\n",(0,t.jsxs)(n.p,{children:["Before moving on to deployment, unpack the ",(0,t.jsx)(n.code,{children:"model.tar"})," file to get the required files.\nThe unpacked ",(0,t.jsx)(n.code,{children:"model.tar"})," folder structure will look like this,"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u251c\u2500\u2500 model\n   \u251c\u2500\u2500 1\n   \u2502   \u251c\u2500\u2500 lib\n   \u2502   \u251c\u2500\u2500 model.onnx\n   \u2502   \u251c\u2500\u2500 model.py\n   \u251c\u2500\u2500 config.pbtxt\n   \u251c\u2500\u2500 labels.txt\n   \u251c\u2500\u2500 requirements.txt\n   \u251c\u2500\u2500 triton_conda-cp3.8-72f240d2.tar.gz\n   \u2514\u2500\u2500 triton_server_info.proto\n"})}),"\n",(0,t.jsx)(n.h2,{id:"model-inference-using-onnx",children:"Model Inference Using ONNX"}),"\n",(0,t.jsx)(n.p,{children:"ONNX inference equips developers and data scientists with a standardized and efficient approach to deploying machine learning models in production environments. It fosters flexibility, simplifies deployment, and offers the potential for performance improvements, making it a valuable tool for unlocking the power of machine-learning models across a wide range of applications. ONNX inference acts as a bridge, enabling the seamless execution of this model across diverse platforms and frameworks that support ONNX. This eliminates the need for repetitive model retraining or framework-specific conversions, resulting in significant time and resource savings."}),"\n",(0,t.jsxs)(n.p,{children:["Visit ",(0,t.jsx)(n.a,{href:"https://onnxruntime.ai/docs/get-started/with-python.html",children:"this"})," page to learn more about ONNX."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Install the ",(0,t.jsx)(n.code,{children:"requirements.txt"})," file with ",(0,t.jsx)(n.code,{children:"pip install requirements.txt"}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["Below is an example of running predictions on a model using ONNX runtime. We are going to use ",(0,t.jsx)(n.code,{children:"model.onnx"})," file we received after unpacking the ",(0,t.jsx)(n.code,{children:"model.tar"})," file."]}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(i.A,{value:"python",label:"Python",children:(0,t.jsx)(s.A,{className:"language-python",children:c})})}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Output"}),(0,t.jsx)(s.A,{className:"language-python",children:u})]}),"\n",(0,t.jsx)(n.h2,{id:"deployment-using-nvidia-triton",children:"Deployment Using Nvidia Triton"}),"\n",(0,t.jsx)(n.p,{children:"Imagine you've trained powerful machine learning models and want to deploy them efficiently for real-world applications. NVIDIA Triton Inference Server acts as the bridge between your trained models and the real world. It's an open-source software specifically designed to optimize and streamline the process of deploying and running machine learning models for inference tasks."}),"\n",(0,t.jsxs)(n.p,{children:["Click here to ",(0,t.jsx)(n.a,{href:"https://github.com/triton-inference-server/python_backend",children:"learn"})," more about Nvidia Triton."]}),"\n",(0,t.jsx)(n.p,{children:"Before we deploy our model we have to first set up the triton package on our local machine."}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Make sure that you have Docker installed on your system. Follow the steps in this ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/engine/install",children:"page"})," to install Docker."]})}),"\n",(0,t.jsx)(n.p,{children:"Execute the following command to run the triton inference container in your machine,"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"docker run --shm-size=1g --ulimit memlock=-1 -p 9000:9000 -p 9001:9001 -p 9002:9002 --ulimit stack=67108864 -ti nvcr.io/nvidia/tritonserver:23.03-py3 -v $(pwd):/run\n"})}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Output"}),(0,t.jsx)(s.A,{className:"language-python",children:m})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Use a common directory to run the container and to extract the ",(0,t.jsx)(n.code,{children:"model.tar"})," file."]})}),"\n",(0,t.jsx)(n.p,{children:"Once you are inside the container then execute the following to start the triton server,"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"cd /run\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"tritonserver --model-repository=/run --model-control-mode=explicit --disable-auto-complete-config --backend-config=python3,python-runtime=/usr/bin/python3 --backend-directory=/opt/tritonserver/backends --http-port=9000 --grpc-port=9001 --metrics-port=9002 --log-verbose=5 --load-model=model\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you have followed the steps correctly, you should receive an output that looks similar to the one shown here,"}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Output"}),(0,t.jsx)(s.A,{className:"language-python",children:h})]}),"\n",(0,t.jsx)(n.p,{children:"Since the inference server is up and running successfully, let's create an inference script that will communicate with the server and return the prediction.\nBelow is an example inference script that does image classification using the exported model,"}),"\n",(0,t.jsx)(a.A,{children:(0,t.jsx)(i.A,{value:"python",label:"Python",children:(0,t.jsx)(s.A,{className:"language-python",children:d})})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Output"}),(0,t.jsx)(s.A,{className:"language-python",children:u})]})]})}function b(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},19365:(e,n,r)=>{r.d(n,{A:()=>i});r(96540);var t=r(18215);const o={tabItem:"tabItem_Ymn6"};var a=r(74848);function i(e){let{children:n,hidden:r,className:i}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.A)(o.tabItem,i),hidden:r,children:n})}},11470:(e,n,r)=>{r.d(n,{A:()=>I});var t=r(96540),o=r(18215),a=r(23104),i=r(56347),s=r(205),l=r(57485),c=r(31682),d=r(70679);function p(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return p(e).map((e=>{let{props:{value:n,label:r,attributes:t,default:o}}=e;return{value:n,label:r,attributes:t,default:o}}))}(r);return function(e){const n=(0,c.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function m(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:r}=e;const o=(0,i.W6)(),a=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,l.aZ)(a),(0,t.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(o.location.search);n.set(a,e),o.replace({...o.location,search:n.toString()})}),[a,o])]}function f(e){const{defaultValue:n,queryString:r=!1,groupId:o}=e,a=u(e),[i,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=r.find((e=>e.default))??r[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a}))),[c,p]=h({queryString:r,groupId:o}),[f,g]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,a]=(0,d.Dv)(r);return[o,(0,t.useCallback)((e=>{r&&a.set(e)}),[r,a])]}({groupId:o}),y=(()=>{const e=c??f;return m({value:e,tabValues:a})?e:null})();(0,s.A)((()=>{y&&l(y)}),[y]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),g(e)}),[p,g,a]),tabValues:a}}var g=r(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var _=r(74848);function v(e){let{className:n,block:r,selectedValue:t,selectValue:i,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),d=e=>{const n=e.currentTarget,r=l.indexOf(n),o=s[r].value;o!==t&&(c(n),i(o))},p=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,_.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":r},n),children:s.map((e=>{let{value:n,label:r,attributes:a}=e;return(0,_.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>l.push(e),onKeyDown:p,onClick:d,...a,className:(0,o.A)("tabs__item",y.tabItem,a?.className,{"tabs__item--active":t===n}),children:r??n},n)}))})}function x(e){let{lazy:n,children:r,selectedValue:o}=e;const a=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===o));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,_.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function b(e){const n=f(e);return(0,_.jsxs)("div",{className:(0,o.A)("tabs-container",y.tabList),children:[(0,_.jsx)(v,{...n,...e}),(0,_.jsx)(x,{...n,...e})]})}function I(e){const n=(0,g.A)();return(0,_.jsx)(b,{...e,children:p(e.children)},String(n))}}}]);