"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[8307],{58215:function(e,n,t){var a=t(67294);n.Z=function(e){var n=e.children,t=e.hidden,s=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:s},n)}},26396:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(87462),s=t(67294),i=t(72389),o=t(79443);var r=function(){var e=(0,s.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=t(63616),p=t(86010),c="tabItem_vU9c";function u(e){var n,t,i,o=e.lazy,u=e.block,d=e.defaultValue,m=e.values,_=e.groupId,h=e.className,g=s.Children.map(e.children,(function(e){if((0,s.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=m?m:g.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),v=(0,l.lx)(f,(function(e,n){return e.value===n.value}));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var I=null===d?d:null!=(n=null!=d?d:null==(t=g.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(i=g[0])?void 0:i.props.value;if(null!==I&&!f.some((function(e){return e.value===I})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+I+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=r(),C=b.tabGroupChoices,y=b.setTabGroupChoices,k=(0,s.useState)(I),T=k[0],N=k[1],w=[],E=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=_){var O=C[_];null!=O&&O!==T&&f.some((function(e){return e.value===O}))&&N(O)}var P=function(e){var n=e.currentTarget,t=w.indexOf(n),a=f[t].value;a!==T&&(E(n),N(a),null!=_&&y(_,a))},R=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=w.indexOf(e.currentTarget)+1;t=w[a]||w[0];break;case"ArrowLeft":var s=w.indexOf(e.currentTarget)-1;t=w[s]||w[w.length-1]}null==(n=t)||n.focus()};return s.createElement("div",{className:"tabs-container"},s.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,p.Z)("tabs",{"tabs--block":u},h)},f.map((function(e){var n=e.value,t=e.label,i=e.attributes;return s.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===n?0:-1,"aria-selected":T===n,key:n,ref:function(e){return w.push(e)},onKeyDown:R,onFocus:P,onClick:P},i,{className:(0,p.Z)("tabs__item",c,null==i?void 0:i.className,{"tabs__item--active":T===n})}),null!=t?t:n)}))),o?(0,s.cloneElement)(g.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):s.createElement("div",{className:"margin-vert--md"},g.map((function(e,n){return(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==T})}))))}function d(e){var n=(0,i.Z)();return s.createElement(u,(0,a.Z)({key:String(n)},e))}},24894:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return u},default:function(){return h},frontMatter:function(){return c},metadata:function(){return d},toc:function(){return m}});var a=t(87462),s=t(63366),i=(t(67294),t(3905)),o=t(26396),r=t(58215),l=t(19055),p=["components"],c={description:"Clarifai makes it easy to customize and repurpose existing models.",sidebar_position:3},u="Custom Models",d={unversionedId:"api-guide/model/custom-model-walkthrough",id:"api-guide/model/custom-model-walkthrough",title:"Custom Models",description:"Clarifai makes it easy to customize and repurpose existing models.",source:"@site/docs/api-guide/model/custom-model-walkthrough.md",sourceDirName:"api-guide/model",slug:"/api-guide/model/custom-model-walkthrough",permalink:"/api-guide/model/custom-model-walkthrough",tags:[],version:"current",sidebarPosition:3,frontMatter:{description:"Clarifai makes it easy to customize and repurpose existing models.",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Model Types",permalink:"/api-guide/model/model-types"},next:{title:"Custom Text Model",permalink:"/api-guide/model/custom-text-model-walkthrough"}},m=[{value:"Add Images With Concepts",id:"add-images-with-concepts",children:[],level:2},{value:"Create a Model",id:"create-a-model",children:[],level:2},{value:"Train the Model",id:"train-the-model",children:[],level:2},{value:"Predict With the Model",id:"predict-with-the-model",children:[],level:2}],_={toc:m};function h(e){var n=e.components,c=(0,s.Z)(e,p);return(0,i.kt)("wrapper",(0,a.Z)({},_,c,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"custom-models"},"Custom Models"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Clarifai makes it easy to customize and repurpose existing models")),(0,i.kt)("hr",null),(0,i.kt)("p",null,"You do not need many images to get started. We recommend starting with 10 and adding more as needed. Before you train your first model, you need to ",(0,i.kt)("a",{parentName:"p",href:"../../clarifai-basics/applications/#create-an-application"},"create an application")," and select a Base Workflow."),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(25175).Z})),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The initialization code used in the following examples is outlined in detail on the ",(0,i.kt)("a",{parentName:"p",href:"../api-overview/api-clients#client-installation-instructions"},"client installation page.")))),(0,i.kt)("h2",{id:"add-images-with-concepts"},"Add Images With Concepts"),(0,i.kt)("p",null,"To get started training your own model, you must first add images that already contain the concepts you want your model to see."),(0,i.kt)(o.Z,{mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},"##############################################################################\n# In this section, we set the user authentication, app ID, and the images and \n# concepts we want to add. Change these strings to run your own example.\n##############################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the portal under Authentification\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change these to add your own images with concepts\nIMAGE_URL_1 = 'https://samples.clarifai.com/puppy.jpeg'\nIMAGE_URL_2 = 'https://samples.clarifai.com/wedding.jpg'\nCONCEPT_ID_1 = 'charlie'\nCONCEPT_ID_2 = 'our_wedding'\nCONCEPT_ID_3 = 'our_wedding'\nCONCEPT_ID_4 = 'charlie'\nCONCEPT_ID_5 = 'cat'\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID)\n\npost_inputs_response = stub.PostInputs(\n    service_pb2.PostInputsRequest(\n        user_app_id=userDataObject,\n        inputs=[\n            resources_pb2.Input(\n                data=resources_pb2.Data(\n                    image=resources_pb2.Image(\n                        url=IMAGE_URL_1,\n                        allow_duplicate_url=True\n                    ),\n                    concepts=[\n                        resources_pb2.Concept(id=CONCEPT_ID_1, value=1),\n                        resources_pb2.Concept(id=CONCEPT_ID_2, value=0),\n                    ]\n                )\n            ),\n            resources_pb2.Input(\n                data=resources_pb2.Data(\n                    image=resources_pb2.Image(\n                        url=IMAGE_URL_2,\n                        allow_duplicate_url=True\n                    ),\n                    concepts=[\n                        resources_pb2.Concept(id=CONCEPT_ID_3, value=1),\n                        resources_pb2.Concept(id=CONCEPT_ID_4, value=0),\n                        resources_pb2.Concept(id=CONCEPT_ID_5, value=0),\n                    ]\n                )\n            ),\n        ]\n    ),\n    metadata=metadata\n)\n\nif post_inputs_response.status.code != status_code_pb2.SUCCESS:\n    print(\"There was an error with your request!\")\n    for input_object in post_inputs_response.inputs:\n        print(\"Input \" + input_object.id + \" status:\")\n        print(input_object.status)\n   \n    print(post_inputs_response.status)\n    raise Exception(\"Post inputs failed, status: \" + post_inputs_response.status.description)\n\nprint(post_inputs_response)\n")),(0,i.kt)(r.Z,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'import com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.*;\n\n// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nMultiInputResponse postInputsResponse = stub.postInputs(\n    PostInputsRequest.newBuilder()\n        .addInputs(\n            Input.newBuilder()\n                .setData(\n                    Data.newBuilder()\n                        .setImage(\n                            Image.newBuilder()\n                                .setUrl("https://samples.clarifai.com/puppy.jpeg")\n                                .setAllowDuplicateUrl(true)\n                        )\n                        .addConcepts(Concept.newBuilder().setId("charlie").setValue(1))\n                        .addConcepts(Concept.newBuilder().setId("our_wedding").setValue(0))\n                )\n        )\n        .addInputs(\n            Input.newBuilder()\n                .setData(\n                    Data.newBuilder()\n                        .setImage(\n                            Image.newBuilder()\n                                .setUrl("https://samples.clarifai.com/wedding.jpg")\n                                .setAllowDuplicateUrl(true)\n                        )\n                        .addConcepts(Concept.newBuilder().setId("our_wedding").setValue(1))\n                        .addConcepts(Concept.newBuilder().setId("charlie").setValue(0))\n                        .addConcepts(Concept.newBuilder().setId("cat").setValue(0))\n                )\n        )\n        .build()\n);\n\nif (postInputsResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n    for (Input input : postInputsResponse.getInputsList()) {\n        System.out.println("Input " + input.getId() + " status: ");\n        System.out.println(input.getStatus() + "\\n");\n    }\n\n    throw new RuntimeException("Post inputs failed, status: " + postInputsResponse.getStatus());\n}\n'))),(0,i.kt)(r.Z,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nstub.PostInputs(\n    {\n        inputs: [\n            {\n                data: {\n                    image: {url: "https://samples.clarifai.com/puppy.jpeg", allow_duplicate_url: true},\n                    concepts: [{id: "charlie", value: 1}, {id: "our_wedding", value: 0}]\n                }\n            },\n            {\n                data: {\n                    image: {url: "https://samples.clarifai.com/wedding.jpg", allow_duplicate_url: true},\n                    concepts: [{id: "our_wedding", value: 1}, {id: "charlie", value: 0}, {id: "cat", value: 0}]\n                }\n            },\n        ]\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            for (const input of response.inputs) {\n                console.log("Input " + input.id + " status: ");\n                console.log(JSON.stringify(input.status, null, 2) + "\\n");\n            }\n\n            throw new Error("Post inputs failed, status: " + response.status.description);\n        }\n    }\n);\n'))),(0,i.kt)(r.Z,{value:"javascript",label:"Javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'app.inputs.create({\n  url: "https://samples.clarifai.com/puppy.jpeg",\n  concepts: [\n    {\n      id: "charlie",\n      value: true\n    }\n  ]\n});\n'))),(0,i.kt)(r.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from clarifai.rest import ClarifaiApp\nfrom clarifai.rest import Image as ClImage\n\napp = ClarifaiApp(api_key='YOUR_API_KEY')\n\n# add multiple images with concepts\nimg1 = ClImage(url=\"https://samples.clarifai.com/puppy.jpeg\", concepts=['charlie'], not_concepts=['our_wedding'])\nimg2 = ClImage(url=\"https://samples.clarifai.com/wedding.jpg\", concepts=['our_wedding'], not_concepts=['cat','charlie'])\n\napp.inputs.bulk_create_images([img1, img2])\n"))),(0,i.kt)(r.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'client.addInputs()\n    .plus(\n        ClarifaiInput.forImage("https://samples.clarifai.com/puppy.jpeg")\n            .withConcepts(Concept.forID("charlie"))\n    )\n    .executeSync();\n'))),(0,i.kt)(r.Z,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Collections.Generic;\nusing System.Threading.Tasks;\nusing Clarifai.API;\nusing Clarifai.DTOs.Inputs;\nusing Clarifai.DTOs.Predictions;\n\nnamespace YourNamespace\n{\n    public class YourClassName\n    {\n        public static async Task Main()\n        {\n            var client = new ClarifaiClient("YOUR_API_KEY");\n\n            await client.AddInputs(\n                    new ClarifaiURLImage(\n                        "https://samples.clarifai.com/puppy.jpeg",\n                        positiveConcepts: new List<Concept> {new Concept(id: "charlie")}))\n                .ExecuteAsync();\n        }\n    }\n}\n'))),(0,i.kt)(r.Z,{value:"objective-c",label:"Objective-C",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objectivec"},'ClarifaiImage *image = [[ClarifaiImage alloc] initWithURL:@"https://samples.clarifai.com/puppy.jpeg" andConcepts:@"cute puppy"];\n[_app addInputs:@[image] completion:^(NSArray<ClarifaiInput *> *inputs, NSError *error) {\n    NSLog(@"inputs: %@", inputs);\n}];\n'))),(0,i.kt)(r.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'use Clarifai\\API\\ClarifaiClient;\nuse Clarifai\\DTOs\\Inputs\\ClarifaiURLImage;\nuse Clarifai\\DTOs\\Predictions\\Concept;\n\n$client = new ClarifaiClient(\'YOUR_API_KEY\');\n\n$response = $client->addInputs(\n        (new ClarifaiURLImage(\'https://samples.clarifai.com/puppy.jpeg\'))\n        ->withAllowDuplicateUrl(true)\n        ->withPositiveConcepts([new Concept(\'charlie\')]))\n    ->executeSync();\n\nif ($response-> isSuccessful()) {\n    echo "Response is successful.\\n";\n} else {\n    echo "Response is not successful. Reason: \\n";\n    echo $response->status()->description() . "\\n";\n    echo $response->status()->errorDetails() . "\\n";\n    echo "Status code: " . $response->status()->statusCode();\n}\n'))),(0,i.kt)(r.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST \\\n  -H "Authorization: Key YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'\n  {\n    "inputs": [\n      {\n        "data": {\n          "image": {\n            "url": "https://samples.clarifai.com/puppy.jpeg",\n            "allow_duplicate_url": true\n          },\n          "concepts":[\n            {\n              "id": "charlie",\n              "value": 1\n            },\n            {\n              "id": "our_wedding",\n              "value": 0\n            }\n          ]\n        }\n      },\n      {\n        "data": {\n          "image": {\n            "url": "https://samples.clarifai.com/wedding.jpg",\n            "allow_duplicate_url": true\n          },\n          "concepts":[\n            {\n              "id": "our_wedding",\n              "value": 1\n            },\n            {\n              "id": "charlie",\n              "value": 0\n            },\n            {\n              "id": "cat",\n              "value": 0\n            }\n          ]\n        }\n      }\n    ]\n  }\'\\\n  https://api.clarifai.com/v2/inputs\n'))),(0,i.kt)(r.Z,{value:"js_rest",label:"Javascript (REST)",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const raw = JSON.stringify({\n    "user_app_id": {\n        "user_id": "{YOUR_USER_ID}",\n        "app_id": "{YOUR_APP_ID}"\n    },\n  "inputs": [\n    {\n      "data": {\n        "image": {\n          "url": "https://samples.clarifai.com/puppy.jpeg",\n          "allow_duplicate_url": true\n        },\n        "concepts":[\n          {\n            "id": "charlie",\n            "value": 1\n          },\n          {\n            "id": "our_wedding",\n            "value": 0\n          }\n        ]\n      }\n    },\n    {\n      "data": {\n        "image": {\n          "url": "https://samples.clarifai.com/wedding.jpg",\n          "allow_duplicate_url": true\n        },\n        "concepts":[\n          {\n            "id": "our_wedding",\n            "value": 1\n          },\n          {\n            "id": "charlie",\n            "value": 0\n          },\n          {\n            "id": "cat",\n            "value": 0\n          }\n        ]\n      }\n    }\n  ]\n});\n\nconst requestOptions = {\n  method: \'POST\',\n  headers: {\n    \'Accept\': \'application/json\',\n    \'Authorization\': \'Key {YOUR_PERSONAL_TOKEN}\'\n  },\n  body: raw\n};\n\nfetch("https://api.clarifai.com/v2/inputs", requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(result))\n  .catch(error => console.log(\'error\', error));\n')))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"JSON Output Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'status {\n  code: SUCCESS\n  description: "Ok"\n  req_id: "7ff42b88ef477bb9b9ecab0b61d051ca"\n}\ninputs {\n  id: "7b708ee204284ed0a914dc37a7def8be"\n  data {\n    image {\n      url: "https://samples.clarifai.com/puppy.jpeg"\n      image_info {\n        format: "UnknownImageFormat"\n        color_mode: "UnknownColorMode"\n      }\n    }\n    concepts {\n      id: "charlie"\n      name: "charlie"\n      value: 1.0\n      app_id: "test-app"\n    }\n    concepts {\n      id: "our_wedding"\n      name: "our_wedding"\n      app_id: "test-app"\n    }\n  }\n  created_at {\n    seconds: 1646288847\n    nanos: 89138802\n  }\n  modified_at {\n    seconds: 1646288847\n    nanos: 89138802\n  }\n  status {\n    code: INPUT_DOWNLOAD_PENDING\n    description: "Download pending"\n  }\n}\ninputs {\n  id: "5571376e9d42447dafb76711669f6731"\n  data {\n    image {\n      url: "https://samples.clarifai.com/wedding.jpg"\n      image_info {\n        format: "UnknownImageFormat"\n        color_mode: "UnknownColorMode"\n      }\n    }\n    concepts {\n      id: "our_wedding"\n      name: "our_wedding"\n      value: 1.0\n      app_id: "test-app"\n    }\n    concepts {\n      id: "charlie"\n      name: "charlie"\n      app_id: "test-app"\n    }\n    concepts {\n      id: "cat"\n      name: "cat"\n      app_id: "test-app"\n    }\n  }\n  created_at {\n    seconds: 1646288847\n    nanos: 89138802\n  }\n  modified_at {\n    seconds: 1646288847\n    nanos: 89138802\n  }\n  status {\n    code: INPUT_DOWNLOAD_PENDING\n    description: "Download pending"\n  }\n}\n\n'))),(0,i.kt)("h2",{id:"create-a-model"},"Create a Model"),(0,i.kt)("p",null,"Once your images with concepts are added, you are now ready to create the model. You'll need a name for the model and you'll also need to provide it with the concepts you added above."),(0,i.kt)("p",null,"Take note of the ",(0,i.kt)("inlineCode",{parentName:"p"},"model id")," that is returned in the response. You'll need that for the next two steps."),(0,i.kt)(o.Z,{mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},"###############################################################################\n# In this section, we set the user authentication, app ID, and the model ID  \n# and concept ID. Change these strings to run your own example.\n###############################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the portal under Authentification\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change these to create your own model\nMODEL_ID = 'my-pets'\nCONCEPT_ID = 'charlie'\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID)\n\npost_models_response = stub.PostModels(\n    service_pb2.PostModelsRequest(\n        user_app_id=userDataObject,\n        models=[\n            resources_pb2.Model(\n                id=MODEL_ID,\n                output_info=resources_pb2.OutputInfo(\n                    data=resources_pb2.Data(\n                        concepts=[resources_pb2.Concept(id=CONCEPT_ID, value=1)]\n                    ),\n                    output_config=resources_pb2.OutputConfig(\n                        concepts_mutually_exclusive=False,\n                        closed_environment=False\n                    )\n                )\n            )\n        ]\n    ),\n    metadata=metadata\n)\n\nif post_models_response.status.code != status_code_pb2.SUCCESS:\n    print(post_models_response.status)\n    raise Exception(\"Post models failed, status: \" + post_models_response.status.description)\n    \nprint(post_models_response)")),(0,i.kt)(r.Z,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'import com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.*;\n\n// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nSingleModelResponse postModelsResponse = stub.postModels(\n    PostModelsRequest.newBuilder().addModels(\n        Model.newBuilder()\n            .setId("pets")\n            .setOutputInfo(\n                OutputInfo.newBuilder()\n                    .setData(\n                        Data.newBuilder().addConcepts(Concept.newBuilder().setId("charlie"))\n                    )\n                    .setOutputConfig(\n                        OutputConfig.newBuilder()\n                            .setConceptsMutuallyExclusive(false)\n                            .setClosedEnvironment(false)\n                    )\n            )\n    ).build()\n);\n\nif (postModelsResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n    throw new RuntimeException("Post models failed, status: " + postModelsResponse.getStatus());\n}\n'))),(0,i.kt)(r.Z,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nstub.PostModels(\n    {\n        models: [\n            {\n                id: "pets",\n                output_info: {\n                    data: {concepts: [{id: "charlie"}]},\n                    output_config: {concepts_mutually_exclusive: false, closed_environment: false}\n                }\n            }\n        ]\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error("Post models failed, status: " + response.status.description);\n        }\n    }\n);\n'))),(0,i.kt)(r.Z,{value:"javascript",label:"Javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'app.models.create(\n  "pets",\n  [\n    { "id": "charlie" }\n  ]\n).then(\n  function(response) {\n    // do something with response\n  },\n  function(err) {\n    // there was an error\n  }\n);\n'))),(0,i.kt)(r.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from clarifai.rest import ClarifaiApp\napp = ClarifaiApp(api_key='YOUR_API_KEY')\n\nmodel = app.models.create('pets', concepts=['charlie'])\n"))),(0,i.kt)(r.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'client.createModel("pets")\n    .withOutputInfo(ConceptOutputInfo.forConcepts(\n        Concept.forID("charlie")\n    ))\n    .executeSync();\n'))),(0,i.kt)(r.Z,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Collections.Generic;\nusing System.Threading.Tasks;\nusing Clarifai.API;\nusing Clarifai.DTOs.Predictions;\n\nnamespace YourNamespace\n{\n    public class YourClassName\n    {\n        public static async Task Main()\n        {\n            var client = new ClarifaiClient("YOUR_API_KEY");\n\n            await client.CreateModel(\n                    "pets",\n                    concepts: new List<Concept> {new Concept("charlie")})\n                .ExecuteAsync();\n        }\n    }\n}\n'))),(0,i.kt)(r.Z,{value:"objective-c",label:"Objective-C",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objectivec"},'[app createModel:@[concept] name:modelName conceptsMutuallyExclusive:NO closedEnvironment:NO\n      completion:^(ClarifaiModel *model, NSError *error) {\n        NSLog(@"model: %@", model);\n}];\n'))),(0,i.kt)(r.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'use Clarifai\\API\\ClarifaiClient;\nuse Clarifai\\DTOs\\Predictions\\Concept;\n\n$client = new ClarifaiClient(\'YOUR_API_KEY\');\n\n$response = $client->createModel(\'pets\')\n    ->withConcepts([new Concept(\'charlie\')])\n    ->executeSync();\n\nif ($response-> isSuccessful()) {\n    echo "Response is successful.\\n";\n} else {\n    echo "Response is not successful. Reason: \\n";\n    echo $response->status()->description() . "\\n";\n    echo $response->status()->errorDetails() . "\\n";\n    echo "Status code: " . $response->status()->statusCode();\n}\n'))),(0,i.kt)(r.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST \\\n  -H "Authorization: Key YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'\n  {\n    "model": {\n      "id": "pets",\n      "output_info": {\n        "data": {\n          "concepts": [\n            {\n              "id": "charlie"\n            }\n          ]\n        },\n        "output_config": {\n          "concepts_mutually_exclusive": false,\n          "closed_environment":false\n        }\n      }\n    }\n  }\'\\\n  https://api.clarifai.com/v2/models\n'))),(0,i.kt)(r.Z,{value:"js_rest",label:"Javascript (REST)",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const raw = JSON.stringify({\n    "user_app_id": {\n        "user_id": "{YOUR_USER_ID}",\n        "app_id": "{YOUR_APP_ID}"\n    },\n  "model": {\n    "id": "pets",\n    "output_info": {\n      "data": {\n        "concepts": [\n          {\n            "id": "charlie"\n          }\n        ]\n      },\n      "output_config": {\n        "concepts_mutually_exclusive": false,\n        "closed_environment": false\n      }\n    }\n  }\n});\n\nconst requestOptions = {\n  method: \'POST\',\n  headers: {\n    \'Accept\': \'application/json\',\n    \'Authorization\': \'Key {YOUR_PERSONAL_TOKEN}\'\n  },\n  body: raw\n};\n\nfetch("https://api.clarifai.com/v2/models", requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(result))\n  .catch(error => console.log(\'error\', error));\n')))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"JSON Output Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'status {\n  code: SUCCESS\n  description: "Ok"\n  req_id: "5e0b4675ea65cc53735c9ffd6d9b8f64"\n}\nmodel {\n  id: "my-pets"\n  name: "my-pets"\n  created_at {\n    seconds: 1646291711\n    nanos: 640607856\n  }\n  app_id: "test-app"\n  output_info {\n    output_config {\n    }\n    message: "Show output_info with: GET /models/{model_id}/output_info"\n    params {\n      fields {\n        key: "max_concepts"\n        value {\n          number_value: 20.0\n        }\n      }\n      fields {\n        key: "min_value"\n        value {\n          number_value: 0.0\n        }\n      }\n      fields {\n        key: "select_concepts"\n        value {\n          list_value {\n          }\n        }\n      }\n    }\n  }\n  model_version {\n    id: "464bec38d2a2419c8a26e5b2660a0c0b"\n    created_at {\n      seconds: 1646291711\n      nanos: 667255260\n    }\n    status {\n      code: MODEL_UNTRAINED\n      description: "Model not yet trained"\n    }\n    active_concept_count: 1\n    visibility {\n      gettable: PRIVATE\n    }\n    app_id: "test-app"\n    user_id: "ei2leoz3s3iy"\n    metadata {\n    }\n  }\n  user_id: "ei2leoz3s3iy"\n  input_info {\n    params {\n    }\n  }\n  train_info {\n    params {\n    }\n  }\n  model_type_id: "embedding-classifier"\n  visibility {\n    gettable: PRIVATE\n  }\n  metadata {\n  }\n  modified_at {\n    seconds: 1646291711\n    nanos: 640607856\n  }\n  import_info {\n  }\n}\n\n'))),(0,i.kt)("h2",{id:"train-the-model"},"Train the Model"),(0,i.kt)("p",null,"Now that you've added images with concepts, then created a model with those concepts, the next step is to train the model. When you train a model, you are telling the system to look at all the images with concepts you've provided and learn from them. This train operation is asynchronous. It may take a few seconds for your model to be fully trained and ready."),(0,i.kt)("p",null,"Keep note of the ",(0,i.kt)("inlineCode",{parentName:"p"},"model_version id")," in the response. We'll need that for the next section when we predict with the model."),(0,i.kt)(o.Z,{mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},"###############################################################################\n# In this section, we set the user authentication, app ID, and the model ID  \n# Change these strings to run your own example.\n###############################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the portal under Authentification\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change this to train your own model\nMODEL_ID = 'my-pets'\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID)\n\npost_model_versions = stub.PostModelVersions(\n    service_pb2.PostModelVersionsRequest(\n        user_app_id=userDataObject,\n        model_id=MODEL_ID\n    ),\n    metadata=metadata\n)\n\nif post_model_versions.status.code != status_code_pb2.SUCCESS:\n    print(post_model_versions.status)\n    raise Exception(\"Post models versions failed, status: \" + post_model_versions.status.description)\n    \nprint(post_model_versions)")),(0,i.kt)(r.Z,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'import com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.*;\n\n// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nSingleModelResponse postModelVersionsResponse = stub.postModelVersions(\n    PostModelVersionsRequest.newBuilder()\n        .setModelId("pets")\n        .build()\n);\n\nif (postModelVersionsResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n  throw new RuntimeException("Post model versions failed, status: " + postModelVersionsResponse.getStatus());\n}\n\nString modelVersionId = postModelVersionsResponse.getModel().getModelVersion().getId();\nSystem.out.println("New model version ID: " + modelVersionId);\n'))),(0,i.kt)(r.Z,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nstub.PostModelVersions(\n    {model_id: "pets"},\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error("Post model versions failed, status: " + response.status.description);\n        }\n    }\n);\n'))),(0,i.kt)(r.Z,{value:"javascript",label:"Javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'app.models.train("{model_id}").then(\n  function(response) {\n    // do something with response\n  },\n  function(err) {\n    // there was an error\n  }\n);\n\n// or if you have an instance of a model\n\nmodel.train().then(\n  function(response) {\n    // do something with response\n  },\n  function(err) {\n    // there was an error\n  }\n);\n'))),(0,i.kt)(r.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from clarifai.rest import ClarifaiApp\n\napp = ClarifaiApp(api_key='YOUR_API_KEY')\n\nmodel = app.models.get('{model_id}')\nmodel.train()\n"))),(0,i.kt)(r.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'client.trainModel("{model_id}").executeSync();\n'))),(0,i.kt)(r.Z,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Threading.Tasks;\nusing Clarifai.API;\nusing Clarifai.DTOs.Predictions;\n\nnamespace YourNamespace\n{\n    public class YourClassName\n    {\n        public static async Task Main()\n        {\n            var client = new ClarifaiClient("YOUR_API_KEY");\n\n            await client.TrainModel<Concept>("{model_id}")\n                .ExecuteAsync();\n        }\n    }\n}\n'))),(0,i.kt)(r.Z,{value:"objective-c",label:"Objective-C",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objectivec"},'ClarifaiImage *image = [[ClarifaiImage alloc] initWithURL:@"https://samples.clarifai.com/puppy.jpeg"]\n[app getModel:@"{id}" completion:^(ClarifaiModel *model, NSError *error) {\n    [model train:^(ClarifaiModel *model, NSError *error) {\n        NSLog(@"model: %@", model);\n    }];\n}];\n'))),(0,i.kt)(r.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'use Clarifai\\API\\ClarifaiClient;\nuse Clarifai\\DTOs\\Models\\ModelType;\n\n$client = new ClarifaiClient(\'YOUR_API_KEY\');\n\n$response = $client->trainModel(ModelType::concept(), \'MODEL_ID\')\n    ->executeSync();\n\nif ($response-> isSuccessful()) {\n    echo "Response is successful.\\n";\n} else {\n    echo "Response is not successful. Reason: \\n";\n    echo $response->status()->description() . "\\n";\n    echo $response->status()->errorDetails() . "\\n";\n    echo "Status code: " . $response->status()->statusCode();\n}\n'))),(0,i.kt)(r.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST \\\n  -H "Authorization: Key YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  https://api.clarifai.com/v2/models/pets/versions\n'))),(0,i.kt)(r.Z,{value:"js_rest",label:"Javascript (REST)",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const appId = '{YOUR_APP_ID}'\n\nconst requestOptions = {\n  method: 'POST',\n  headers: {\n    'Accept': 'application/json',\n    'Authorization': 'Key {YOUR_PERSONAL_TOKEN}'\n  }\n};\n\nfetch(`https://api.clarifai.com/v2/users/me/apps/${appId}/models/pets/versions`, requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(result))\n  .catch(error => console.log('error', error));\n")))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"JSON Output Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'status {\n  code: SUCCESS\n  description: "Ok"\n  req_id: "d707b6c108847ccd9891e7ad98f91f98"\n}\nmodel {\n  id: "my-pets"\n  name: "my-pets"\n  created_at {\n    seconds: 1646291711\n    nanos: 640607000\n  }\n  app_id: "test-app"\n  output_info {\n    output_config {\n    }\n    message: "Show output_info with: GET /models/{model_id}/output_info"\n    params {\n      fields {\n        key: "max_concepts"\n        value {\n          number_value: 20.0\n        }\n      }\n      fields {\n        key: "min_value"\n        value {\n          number_value: 0.0\n        }\n      }\n      fields {\n        key: "select_concepts"\n        value {\n          list_value {\n          }\n        }\n      }\n    }\n  }\n  model_version {\n    id: "8eb21f63ba9d40c7b84ecfd664ac603d"\n    created_at {\n      seconds: 1646330065\n      nanos: 537080027\n    }\n    status {\n      code: MODEL_QUEUED_FOR_TRAINING\n      description: "Model is currently in queue for training."\n    }\n    active_concept_count: 1\n    visibility {\n      gettable: PRIVATE\n    }\n    app_id: "test-app"\n    user_id: "ei2leoz3s3iy"\n    metadata {\n    }\n  }\n  user_id: "ei2leoz3s3iy"\n  input_info {\n  }\n  train_info {\n  }\n  model_type_id: "embedding-classifier"\n  visibility {\n    gettable: PRIVATE\n  }\n  metadata {\n  }\n  modified_at {\n    seconds: 1646291711\n    nanos: 640607000\n  }\n  import_info {\n  }\n}\n\n'))),(0,i.kt)("h2",{id:"predict-with-the-model"},"Predict With the Model"),(0,i.kt)("p",null,"Now that we have trained the model, we can start making predictions with it. In our predict call, we specify three items: the ",(0,i.kt)("inlineCode",{parentName:"p"},"model id"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"model version id")," ","(","optional, defaults to the latest trained version",")",", and the ",(0,i.kt)("inlineCode",{parentName:"p"},"input")," we want a prediction for."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You can repeat the above steps as often as you like. By adding more images with concepts and training, you can get the model to predict exactly how you want it to."))),(0,i.kt)(o.Z,{mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"grpc_python",label:"gRPC Python",mdxType:"TabItem"},(0,i.kt)(l.Z,{className:"language-python",mdxType:"CodeBlock"},"####################################################################################\n# In this section, we set the user authentication, app ID, model ID, model version, \n# and image URL. Change these strings to run your own example.\n####################################################################################\n\nUSER_ID = 'YOUR_USER_ID_HERE'\n# Your PAT (Personal Access Token) can be found in the portal under Authentification\nPAT = 'YOUR_PAT_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Change these to make your own predictions\nMODEL_ID = 'my-pets'\nMODEL_VERSION = '8eb21f63ba9d40c7b84ecfd664ac603d'\nIMAGE_URL = 'https://samples.clarifai.com/puppy.jpeg'\n\n##########################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n##########################################################################\n\nfrom clarifai_grpc.channel.clarifai_channel import ClarifaiChannel\nfrom clarifai_grpc.grpc.api import resources_pb2, service_pb2, service_pb2_grpc\nfrom clarifai_grpc.grpc.api.status import status_code_pb2\n\nchannel = ClarifaiChannel.get_grpc_channel()\nstub = service_pb2_grpc.V2Stub(channel)\n\nmetadata = (('authorization', 'Key ' + PAT),)\n\nuserDataObject = resources_pb2.UserAppIDSet(user_id=USER_ID, app_id=APP_ID)\n\npost_model_outputs_response = stub.PostModelOutputs(\n    service_pb2.PostModelOutputsRequest(\n        user_app_id=userDataObject,\n        model_id=MODEL_ID,\n        version_id=MODEL_VERSION,  # This is optional. Defaults to the latest model version.\n        inputs=[\n            resources_pb2.Input(\n                data=resources_pb2.Data(\n                    image=resources_pb2.Image(\n                        url=IMAGE_URL\n                    )\n                )\n            )\n        ]\n    ),\n    metadata=metadata\n)\n\nif post_model_outputs_response.status.code != status_code_pb2.SUCCESS:\n    print(post_model_outputs_response.status)\n    raise Exception(\"Post model outputs failed, status: \" + post_model_outputs_response.status.description)\n\n# Since we have one input, one output will exist here.\noutput = post_model_outputs_response.outputs[0]\n\nprint(\"Predicted concepts:\")\nfor concept in output.data.concepts:\n    print(\"%s %.2f\" % (concept.name, concept.value))\n\n# Uncomment this line to print the full Response JSON\n#print(post_model_outputs_response)")),(0,i.kt)(r.Z,{value:"grpc_java",label:"gRPC Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'import com.clarifai.grpc.api.*;\nimport com.clarifai.grpc.api.status.*;\n\n// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nMultiOutputResponse postModelOutputsResponse = stub.postModelOutputs(\n    PostModelOutputsRequest.newBuilder()\n        .setModelId("pets")\n        .setVersionId("{YOUR_MODEL_VERSION_ID}")  // This is optional. Defaults to the latest model version.\n        .addInputs(\n            Input.newBuilder().setData(\n                Data.newBuilder().setImage(\n                    Image.newBuilder().setUrl("https://samples.clarifai.com/metro-north.jpg")\n                )\n            )\n        )\n        .build()\n);\n\nif (postModelOutputsResponse.getStatus().getCode() != StatusCode.SUCCESS) {\n  throw new RuntimeException("Post model outputs failed, status: " + postModelOutputsResponse.getStatus());\n}\n\n// Since we have one input, one output will exist here.\nOutput output = postModelOutputsResponse.getOutputs(0);\n\nSystem.out.println("Predicted concepts:");\nfor (Concept concept : output.getData().getConceptsList()) {\n    System.out.printf("%s %.2f%n", concept.getName(), concept.getValue());\n}\n'))),(0,i.kt)(r.Z,{value:"grpc_nodejs",label:"gRPC NodeJS",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'// Insert here the initialization code as outlined on this page:\n// https://docs.clarifai.com/api-guide/api-overview/api-clients#client-installation-instructions\n\nstub.PostModelOutputs(\n    {\n        model_id: "pets",\n        version_id: "{YOUR_MODEL_VERSION_ID}",  // This is optional. Defaults to the latest model version.\n        inputs: [\n            {data: {image: {url: "https://samples.clarifai.com/metro-north.jpg"}}}\n        ]\n    },\n    metadata,\n    (err, response) => {\n        if (err) {\n            throw new Error(err);\n        }\n\n        if (response.status.code !== 10000) {\n            throw new Error("Post model outputs failed, status: " + response.status.description);\n        }\n\n        // Since we have one input, one output will exist here.\n        const output = response.outputs[0];\n\n        console.log("Predicted concepts:");\n        for (const concept of output.data.concepts) {\n            console.log(concept.name + " " + concept.value);\n        }\n    }\n);\n'))),(0,i.kt)(r.Z,{value:"javascript",label:"Javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"let app = new Clarifai.App({apiKey: 'YOUR_API_KEY'});\n\napp.models.predict({id:'MODEL_ID', version:'MODEL_VERSION_ID'}, \"https://samples.clarifai.com/metro-north.jpg\").then(\n  function(response) {\n    // do something with response\n  },\n  function(err) {\n    // there was an error\n  }\n);\n"))),(0,i.kt)(r.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from clarifai.rest import ClarifaiApp\napp = ClarifaiApp(api_key='YOUR_API_KEY')\n\nmodel = app.models.get('MODEL_ID')\nmodel.model_version = 'MODEL_VERSION_ID'  # This is optional. Defaults to the latest model version.\n\nresponse = model.predict_by_url('https://samples.clarifai.com/metro-north.jpg')\n"))),(0,i.kt)(r.Z,{value:"java",label:"Java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'ModelVersion modelVersion = client.getModelVersionByID("MODEL_ID", "MODEL_VERSION_ID")\n        .executeSync()\n        .get();\n\n    client.predict("MODEL_ID")\n        .withVersion(modelVersion)\n        .withInputs(ClarifaiInput.forImage("https://samples.clarifai.com/metro-north.jpg"))\n        .executeSync();\n'))),(0,i.kt)(r.Z,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'using System.Threading.Tasks;\nusing Clarifai.API;\nusing Clarifai.DTOs.Inputs;\nusing Clarifai.DTOs.Predictions;\n\nnamespace YourNamespace\n{\n    public class YourClassName\n    {\n        public static async Task Main()\n        {\n            var client = new ClarifaiClient("YOUR_API_KEY");\n\n                 var response = await Client.Predict<Concept>(\n                    "YOUR_MODEL_ID",\n                    new ClarifaiURLImage("https://samples.clarifai.com/metro-north.jpg"),\n                    modelVersionID: "MODEL_VERSION_ID")\n                  .ExecuteAsync();\n        }\n    }\n}\n'))),(0,i.kt)(r.Z,{value:"objective-c",label:"Objective-C",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objectivec"},'ClarifaiImage *image = [[ClarifaiImage alloc] initWithURL:@"https://samples.clarifai.com/puppy.jpeg"]\n[app getModel:@"{id}" completion:^(ClarifaiModel *model, NSError *error) {\n    [model predictOnImages:@[image]\n                completion:^(NSArray<ClarifaiSearchResult *> *outputs, NSError *error) {\n                    NSLog(@"outputs: %@", outputs);\n                }];\n}];\n'))),(0,i.kt)(r.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'use Clarifai\\API\\ClarifaiClient;\nuse Clarifai\\DTOs\\Inputs\\ClarifaiURLImage;\nuse Clarifai\\DTOs\\Models\\ModelType;\nuse Clarifai\\DTOs\\Outputs\\ClarifaiOutput;\nuse Clarifai\\DTOs\\Predictions\\Concept;\n\n$client = new ClarifaiClient(\'YOUR_API_KEY\');\n\n$response = $client->predict(ModelType::concept(), \'MODEL_ID,\n        new ClarifaiURLImage(\'https://samples.clarifai.com/puppy.jpeg\'))\n    ->executeSync();\n\nif ($response-> isSuccessful()) {\n    /** @var ClarifaiOutput $output */\n    $output = $response->get();\n\n    echo "Predicted concepts:\\n";\n    /** @var Concept $concept */\n    foreach ($output->data() as $concept) {\n        echo $concept->name() . \': \' . $concept->value() . "\\n";\n    }\n} else {\n    echo "Response is not successful. Reason: \\n";\n    echo $response->status()->description() . "\\n";\n    echo $response->status()->errorDetails() . "\\n";\n    echo "Status code: " . $response->status()->statusCode();\n}\n'))),(0,i.kt)(r.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST \\\n  -H "Authorization: Key YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'\n  {\n    "inputs": [\n      {\n        "data": {\n          "image": {\n            "url": "https://samples.clarifai.com/metro-north.jpg"\n          }\n        }\n      }\n    ]\n  }\'\\\n  https://api.clarifai.com/v2/models/pets/versions/{YOUR_MODEL_VERSION_ID}/outputs\n'))),(0,i.kt)(r.Z,{value:"js_rest",label:"Javascript (REST)",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const appId = \'{YOUR_APP_ID}\'\n\nconst raw = JSON.stringify({\n  "user_app_id": {\n        "user_id": "{YOUR_USER_ID}",\n        "app_id": "{YOUR_APP_ID}"\n    },\n  "inputs": [\n    {\n      "data": {\n        "image": {\n          "url": "https://samples.clarifai.com/metro-north.jpg"\n        }\n      }\n    }\n  ]\n});\n\nconst requestOptions = {\n  method: \'POST\',\n  headers: {\n    \'Accept\': \'application/json\',\n    \'Authorization\': \'Key {YOUR_PERSONAL_TOKEN}\'\n  },\n  body: raw\n};\n\nfetch(`https://api.clarifai.com/v2/models/pets/versions/{YOUR_MODEL_VERSION_ID}/outputs`, requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(results))\n  .catch(error => console.log(\'error\', error));\n')))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Code Output Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"Predicted concepts:\ncharlie 1.00\n"))),(0,i.kt)("details",null,(0,i.kt)("summary",null,"JSON Output Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'status {\n  code: SUCCESS\n  description: "Ok"\n  req_id: "db4cf89c13303aa9889a89f2ae0a91f4"\n}\noutputs {\n  id: "20ed3f59dc5b4b1e9082a7e91ff29f48"\n  status {\n    code: SUCCESS\n    description: "Ok"\n  }\n  created_at {\n    seconds: 1646333543\n    nanos: 352417324\n  }\n  model {\n    id: "my-pets"\n    name: "my-pets"\n    created_at {\n      seconds: 1646291711\n      nanos: 640607000\n    }\n    app_id: "test-app"\n    output_info {\n      output_config {\n      }\n      message: "Show output_info with: GET /models/{model_id}/output_info"\n      params {\n        fields {\n          key: "max_concepts"\n          value {\n            number_value: 20.0\n          }\n        }\n        fields {\n          key: "min_value"\n          value {\n            number_value: 0.0\n          }\n        }\n        fields {\n          key: "select_concepts"\n          value {\n            list_value {\n            }\n          }\n        }\n      }\n    }\n    model_version {\n      id: "8eb21f63ba9d40c7b84ecfd664ac603d"\n      created_at {\n        seconds: 1646330065\n        nanos: 537080000\n      }\n      status {\n        code: MODEL_TRAINED\n        description: "Model is trained and ready"\n      }\n      total_input_count: 14\n      completed_at {\n        seconds: 1646330068\n        nanos: 100250000\n      }\n      visibility {\n        gettable: PRIVATE\n      }\n      app_id: "test-app"\n      user_id: "ei2leoz3s3iy"\n      metadata {\n      }\n    }\n    user_id: "ei2leoz3s3iy"\n    input_info {\n    }\n    train_info {\n    }\n    model_type_id: "embedding-classifier"\n    visibility {\n      gettable: PRIVATE\n    }\n    modified_at {\n      seconds: 1646291711\n      nanos: 640607000\n    }\n    import_info {\n    }\n  }\n  input {\n    id: "f1ce5584c5e54653b722ac3ef163a077"\n    data {\n      image {\n        url: "https://samples.clarifai.com/puppy.jpeg"\n      }\n    }\n  }\n  data {\n    concepts {\n      id: "charlie"\n      name: "charlie"\n      value: 0.9998574256896973\n      app_id: "test-app"\n    }\n  }\n}\n\n'))))}h.isMDXComponent=!0},25175:function(e,n,t){n.Z=t.p+"assets/images/illustration-training-22112a4ec017ebaf5f8c40832742148d.png"}}]);