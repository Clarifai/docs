"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[7597],{5746:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>x,contentTitle:()=>g,default:()=>b,frontMatter:()=>f,metadata:()=>a,toc:()=>w});const a=JSON.parse('{"id":"integrations/langchain/vector-store","title":"Vector Store","description":"Use Clarifai and LangChain to create a vector store and perform searches","source":"@site/docs/integrations/langchain/vector-store.md","sourceDirName":"integrations/langchain","slug":"/integrations/langchain/vector-store","permalink":"/integrations/langchain/vector-store","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"description":"Use Clarifai and LangChain to create a vector store and perform searches","sidebar_position":3,"pagination_next":null},"sidebar":"tutorialSidebar","previous":{"title":"Text Embeddings","permalink":"/integrations/langchain/text-embeddings"}}');var s=n(74848),r=n(28453),i=n(11470),o=n(19365),l=n(73748);const c='######################################################################################################\n# In this section, we set the user authentication, user and app ID, and the text data we want to\n# upload to the specified app. Change these strings to run your own example.\n#####################################################################################################\n\n# Your PAT (Personal Access Token) can be found in the Account\'s Security section\nPAT = \'YOUR_PAT_HERE\'\n# Specify the correct user_id/app_id pairings\nUSER_ID = \'YOUR_USER_ID_HERE\'\nAPP_ID = \'YOUR_APP_ID_HERE\'\n# Specify the texts to upload\ntexts = [\n \t"I really enjoy spending time with you",\n \t"I hate spending time with my dog",\n \t"I want to go for a run",\n \t"I went to the movies yesterday",\n \t"I love playing soccer with my friends",\n ]\n# Optionally, specify the number of documents to return\nNUMBER_OF_DOCS = 4\n\n############################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n############################################################################\n\n# Import the required modules\nfrom langchain.text_splitter import CharacterTextSplitter\nfrom langchain.document_loaders import TextLoader\nfrom langchain.vectorstores import Clarifai\n\n# Specify list of metadatas\nmetadatas = [{"id": i, "text": text, "source": "book 1", "category": ["books", "modern"]} for i, text in enumerate(texts)]\n\n# Create a Clarifai vector store from a list of texts\nclarifai_vector_db = Clarifai.from_texts(\n \tuser_id=USER_ID,\n \tapp_id=APP_ID,\n \ttexts=texts,\n \tpat=PAT,\n \tnumber_of_docs=NUMBER_OF_DOCS,\n \tmetadatas=metadatas\n )\n\n# Run similarity search using Clarifai\ndocs = clarifai_vector_db.similarity_search("I would love to see you")\n\nprint(docs)\n ',u="##########################################################################################################\n# In this section, we set the user authentication, user and app ID, model ID, and the text\n# documents we want to upload to the specified app. Change these strings to run your own example.\n##########################################################################################################\n\n# Your PAT (Personal Access Token) can be found in the Account's Security section\nPAT = 'YOUR_PAT_HERE'\n# Specify the correct user_id/app_id pairings\nUSER_ID = 'YOUR_USER_ID_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n# Specify the URLs of the documents to upload\nURLs = [\"https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-8-2023\", \"https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023\"]\n# Specify the text to search for\nTEXT_SEARCH = \"Texts related to Russia attacks\"\n#  Optionally, specify the number of documents to return\nNUMBER_OF_DOCS = 4\n\n############################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n############################################################################\n\n# Import the required modules\nfrom langchain.text_splitter import CharacterTextSplitter\nfrom langchain.document_loaders import UnstructuredURLLoader\nfrom langchain.vectorstores import Clarifai\n\n# Load files from remote URLs using the unstructured library\nloader = UnstructuredURLLoader(urls=URLs)\ndocuments = loader.load()\n\n# Split text into chunks\ntext_splitter = CharacterTextSplitter(chunk_size=2000, chunk_overlap=0)\ndocs = text_splitter.split_documents(documents)\n\n# Create a Clarifai vector store from the documents\nclarifai_vector_db = Clarifai.from_documents(\n \tuser_id=USER_ID,\n \tapp_id=APP_ID,\n \tdocuments=docs,\n \tpat=PAT,\n \tnumber_of_docs=NUMBER_OF_DOCS\n )\n\n# Run similarity search using Clarifai\ndocs = clarifai_vector_db.similarity_search(TEXT_SEARCH)\n\nprint(docs)\n",h="####################################################################################################\n# In this section, we set the user authentication, user, and ID of the app already existing on\n# Clarifai. Change these strings to run your own example.\n###################################################################################################\n\n# Your PAT (Personal Access Token) can be found in the Account's Security section\nPAT = 'YOUR_PAT_HERE'\n# Specify the correct user_id/app_id pairings\nUSER_ID = 'YOUR_USER_ID_HERE'\nAPP_ID = 'YOUR_APP_ID_HERE'\n\n# Optionally, specify the number of documents to return\nNUMBER_OF_DOCS = 4\n\n# Specify the text to search for\nTEXT_SEARCH = \"Texts related to criminals and violence\"\n\n############################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n############################################################################\n\n# Import the required modules\nfrom langchain.vectorstores import Clarifai\nclarifai_vector_db = Clarifai(\n \tuser_id=USER_ID,\n \tapp_id=APP_ID,  \n \tpat=PAT,\n     number_of_docs=NUMBER_OF_DOCS,\n )\n\n# Perform the search\ndocs = clarifai_vector_db.similarity_search(TEXT_SEARCH)\n\nprint(docs)",p="[Document(page_content='I really enjoy spending time with you', metadata={'text': 'I really enjoy spending time with you', 'id': 0.0, 'category': ['books', 'modern'], 'source': 'book 1'}), Document(page_content='I want to go for a run', metadata={'text': 'I want to go for a run', 'source': 'book 1', 'category': ['books', 'modern'], 'id': 2.0}), Document(page_content='I went to the movies yesterday', metadata={'text': 'I went to the movies yesterday', 'category': ['books', 'modern'], 'id': 3.0, 'source': 'book 1'}), Document(page_content='I love playing soccer with my friends', metadata={'category': ['books', 'modern'], 'id': 4.0, 'text': 'I love playing soccer with my friends', 'source': 'book 1'})]\n",d="[Document(page_content='https://t.me/zoda_gov_ua/16505\\xa0\\xa0;\\n\\nhttps://t.me/vilkul/2680\\xa0\\xa0;\\n\\nhttps://t.me/Yevtushenko_E/2419\\n\\n[48]\\xa0https://t.me/mykolaivskaODA/4236\\xa0;\\xa0\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid0FuH223o7wLNSiJSNdCX...\\xa0;\\xa0\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02kL8XZwXNsSUphpcF5S...\\xa0;\\xa0https://t.me/khersonskaODA/3607\\n\\n[49]\\xa0https://podolyaka dot ru/2023/02/08/zayavleniya-premer-ministra-rf-mihaila-mishustina-o-podderzhke-uchastnikov-svo-i-voennoy-promyshlennosti/; https://stolica-s dot su/archives/366231; https://t.me/rybar/43402\\n\\n[50]\\xa0https://isw.pub/UkrWar020723; https://t.me/concordgroup_official/425; https://t.me/Prigozhin_hat/2612\\n\\n[51]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[52]\\xa0https://t.me/agentstvonews/2482\\n\\n[53]\\xa0https://t.me/agentstvonews/2482\\xa0;\\xa0https://isw.pub/UkrWar020123\\n\\n[54]\\xa0https://t.me/turchak_andrey/1032\\xa0;\\xa0\\xa0https://isw.pub/UkrWar122922\\n\\n[55]\\xa0https://t.me/turchak_andrey/1032\\n\\n[56]\\xa0https://t.me/turchak_andrey/1032\\n\\n[57]\\xa0https://t.me/SALDO_VGA/363;\\xa0https://t.me/SALDO_VGA/365\\n\\n[58]\\xa0https://t.me/SALDO_VGA/363;\\xa0https://t.me/SALDO_VGA/365\\n\\n[59]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[60]\\xa0https://t.me/pushilindenis/3165\\n\\n[61]\\xa0https://t.me/glava_lnr_info/745;\\xa0https://t.me/glava_lnr_info/748\\n\\n[62]\\xa0https://t.me/glava_lnr_info/745;\\xa0https://t.me/glava_lnr_info/748\\n\\n[63]\\xa0https://t.me/modmilby/22455; https://t.me/modmilby/22419\\n\\n[64]\\xa0https://www.osw.waw.pl/sites/default/files/OSW-Report_Russia%E2%80%99s-B...\\n\\n[65]\\xa0https://t.me/modmilby/22470\\n\\nTags\\n\\nUkraine Project\\n\\nFile Attachments:\\n\\nZaporizhia Battle Map Draft February 08,2023.png\\n\\nKherson-Mykolaiv Battle Map Draft February 08,2023.png\\n\\nDonetsk Battle Map Draft February 08,2023.png\\n\\nDraftUkraineCoTFebruary08,2023.png\\n\\nKharkiv Battle Map Draft February 08,2023.png\\n\\n1400 16th Street NW, Suite 515 Washington, DC 20036\\n\\nph (202) 293-5550\\n\\n\xa92007 \u2013 2023 THE INSTITUTE FOR THE STUDY OF WAR', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-8-2023'}), Document(page_content='[37]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02opH8aKBK88janDxszu... https://twitter.com/IntelCrab/status/1623561968626941953?s=20&t=sp6Y-hSy... ; https://twitter.com/IntelCrab/status/1623562915331690500?s=20&t=sp6Y-hSy... ; https://twitter.com/IntelCrab/status/1623563711859290113?s=20&t=sp6Y-hSy... ;\\xa0https://t.me/zoda_gov_ua/16537\\xa0;\\xa0https://t.me/skarlatop/976\\xa0;\\xa0https:...\\n\\n[38]\\xa0https://t.me/Yevtushenko_E/2427\\xa0;\\xa0https://www.facebook.com/GeneralStaf...\\n\\n[39]\\xa0https://t.me/grey_zone/17129\\n\\n[40]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[41]\\xa0https://59 dot ru /text/gorod/2023/02/07/72040580/?utm_source=telegram&utm_medium=messenger&utm_campaign=59\\n\\n[42]\\xa0https://59 dot ru /text/gorod/2023/02/07/72040580/?utm_source=telegram&utm_medium=messenger&utm_campaign=59\\n\\n[43]\\xa0https://www.politnavigator dot net/my-vse-budem-udivleny-kogda-nachnjotsya-nastuplenie-rogov.html\\n\\n[44]\\xa0https://isw.pub/UkrWar020223\\n\\n[45]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[46]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[47]\\xa0https://t.me/pushilindenis/3166\\n\\n[48]\\xa0https://t.me/BalitskyEV/778\\xa0;\\n\\n[49]\\xa0https://t.me/BalitskyEV/778\\n\\n[50]\\xa0https://isw.pub/UkrWar011323\\n\\n[51]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[52]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[53]\\xa0https://t.me/vrogov/7593;\\xa0https://t.me/vrogov/7582\\xa0;\\xa0https://t.me/rea...\\n\\n[54]\\xa0https://t.me/vrogov/7593\\xa0;\\xa0https://t.me/rybar/43417\\n\\n[55]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[56]\\xa0https://t.me/modmilby/22518\\n\\n[57]\\xa0https://t.me/modmilby/22515\\n\\n[58]\\xa0https://t.me/grey_zone/17123\\n\\nFile Attachments:\\n\\nZaporizhia Battle Map Draft February 09,2023.png\\n\\nKherson-Mykolaiv Battle Map Draft February 09,2023.png\\n\\nDonetsk Battle Map Draft February 09,2023.png\\n\\nKharkiv Battle Map Draft February 09,2023.png\\n\\nDraftUkraineCoTFebruary09,2023.png\\n\\n1400 16th Street NW, Suite 515 Washington, DC 20036\\n\\nph (202) 293-5550', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023'}), Document(page_content='[3]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[4]\\xa0https://t.me/rybar/43387;\\xa0https://t.me/notes_veterans/7845;\\xa0https://t....\\n\\n[5]https://www.understandingwar.org/sites/default/files/Russian%20Operation...\\n\\n[6]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[7]\\xa0https://t.me/ostorozhno_novosti/14167\\n\\n[8]\\xa0https://isw.pub/UkrWar020323\\xa0;\\xa0https://isw.pub/UkrWar020423\\n\\n[9]\\xa0https://t.me/ostorozhno_novosti/14167\\n\\n[10]\\xa0https://podolyaka\\xa0dot ru/2023/02/08/zayavleniya-premer-ministra-rf-mihaila-mishustina-o-podderzhke-uchastnikov-svo-i-voennoy-promyshlennosti/;\\xa0https://stolica-s\\xa0dot su/archives/366231;\\xa0https://t.me/rybar/43402\\n\\n[11]\\xa0https://podolyaka\\xa0dot ru/2023/02/08/zayavleniya-premer-ministra-rf-mihaila-mishustina-o-podderzhke-uchastnikov-svo-i-voennoy-promyshlennosti/;\\xa0https://stolica-s\\xa0dot su/archives/366231;\\xa0https://t.me/rybar/43402\\n\\n[12]\\xa0https://isw.pub/UkrWar011823\\xa0;\\xa0https://isw.pub/UkrWar010723\\xa0;\\n\\n[13]\\xa0https://isw.pub/UkrWar020623\\xa0;\\xa0https://isw.pub/UkrWar020123\\n\\n[14]\\xa0https://www.gov.uk/government/news/new-sanctions-target-putins-war-machi...\\n\\n[15]\\xa0https://www.cbsnews.com/news/ukraine-war-russia-iranian-drones-us-made-t...\\n\\n[16]\\xa0https://suspilne\\xa0dot media/amp/378863-de-okupanti-posiluut-prisutnist-na-harkivsini-dani-sinegubova/\\n\\n[17]\\xa0https://t.me/kommunist/15598; https://understandingwar.org/backgrounder/russian-offensive-campaign-ass...\\n\\n[18]https://www.facebook.com/GeneralStaff.ua/posts/pfbid0FuH223o7wLNSiJSNdCX...\\n\\n[19]\\xa0https://t.me/strelkovii/3896\\n\\n[20]\\xa0https://t.me/luhanskaVTSA/8438\\n\\n[21]https://www.facebook.com/GeneralStaff.ua/posts/pfbid0FuH223o7wLNSiJSNdCX...\\n\\n[22]\\xa0https://t.me/russkiy_opolchenec/35783; https://t.me/RVvoenkor/37711\\n\\n[23]\\xa0https://t.me/rybar/43387;\\xa0https://t.me/notes_veterans/7845\\n\\n[24]\\xa0https://t.me/wargonzo/10782\\n\\n[25]https://www.facebook.com/GeneralStaff.ua/posts/pfbid0FuH223o7wLNSiJSNdCX...\\n\\n[26]\\xa0https://t.me/RKadyrov_95/3332\\n\\n[27]', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-8-2023'}), Document(page_content='[5]\\xa0https://www.wsj.com/articles/moscow-tehran-advance-plans-for-iranian-des... ; https://tass dot\\xa0ru/armiya-i-opk/16872633 ;\\n\\n[6]\\xa0https://t.me/medvedev_telegram/265\\xa0;\\xa0https://www.reuters.com/world/eur...\\n\\n[7]\\xa0https://www.cnn.com/2023/02/09/europe/1000-russian-tanks-destroyed-ukrai...\\n\\n[8]\\xa0https://www.cnn.com/2023/02/09/europe/1000-russian-tanks-destroyed-ukrai...\\n\\n[9]\\xa0https://www.businessinsider.com/captured-documents-say-elite-russian-unit-lost-tanks-kharkiv-ukraine-2022-5; https://rusi.org/explore-our-research/publications/commentary/getting-know-russian-battalion-tactical-group\\n\\nhttps://www.rbc dot ru/society/09/02/2023/63e3b0f79a7947b95a3c8cfc;\\n\\nhttps://t.me/rybar/43427;\\n\\nhttps://t.me/milinfolive/96749;\\n\\nhttps://t.me/rustroyka1945/8471;\\n\\nhttps://t.me/rustroyka1945/8475;\\n\\nhttps://t.me/rustroyka1945/8476;\\n\\nhttps://t.me/rustroyka1945/8477;\\n\\nhttps://t.me/rybar/43435;\\n\\nhttps://t.me/m0sc0wcalling/19454;\\xa0https://t.me/m0sc0wcalling/19453;\\n\\nhttps://t.me/grey_zone/17119;\\n\\nhttps://t.me/grey_zone/17117;\\n\\nhttps://t.me/grey_zone/17116;\\xa0https://t.me/grey_zone/17112;\\n\\nhttps://t.me/boris_rozhin/77624\\n\\n[11]\\xa0https://t.me/grey_zone/17119; https://t.me/grey_zone/17117; https://t.me/grey_zone/17116; https://t.me/grey_zone/17112\\n\\n[12]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign... https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[13]\\xa0https://t.me/RKadyrov_95/3334;\\xa0https://eng.kavkaz-uzel\\xa0dot eu/articles/62013/;\\xa0https://eng.kavkaz-uzel\\xa0dot eu/articles/62012/\\n\\n[14]\\xa0https://ria\\xa0dot ru/20230209/kadyrov-1850804605.html\\n\\n[15]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02LGCyzg9CHrzXTN98Pj...\\n\\n[16]\\xa0https://t.me/rybar/43443; https://t.me/dva_majors/8915\\n\\n[17]\\xa0https://t.me/mod_russia/24064\\n\\n[18]\\xa0https://m.facebook.com/story.php?story_fbid=pfbid0PHvkPzQjU7XJexyyQKsrJ4...\\n\\n[19]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02LGCyzg9CHrzXTN98Pj...\\n\\n[20]\\xa0https://t.me/wargonzo/10787', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023'})]",m="[Document(page_content='[37]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02opH8aKBK88janDxszu... https://twitter.com/IntelCrab/status/1623561968626941953?s=20&t=sp6Y-hSy... ; https://twitter.com/IntelCrab/status/1623562915331690500?s=20&t=sp6Y-hSy... ; https://twitter.com/IntelCrab/status/1623563711859290113?s=20&t=sp6Y-hSy... ;\\xa0https://t.me/zoda_gov_ua/16537\\xa0;\\xa0https://t.me/skarlatop/976\\xa0;\\xa0https:...\\n\\n[38]\\xa0https://t.me/Yevtushenko_E/2427\\xa0;\\xa0https://www.facebook.com/GeneralStaf...\\n\\n[39]\\xa0https://t.me/grey_zone/17129\\n\\n[40]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[41]\\xa0https://59 dot ru /text/gorod/2023/02/07/72040580/?utm_source=telegram&utm_medium=messenger&utm_campaign=59\\n\\n[42]\\xa0https://59 dot ru /text/gorod/2023/02/07/72040580/?utm_source=telegram&utm_medium=messenger&utm_campaign=59\\n\\n[43]\\xa0https://www.politnavigator dot net/my-vse-budem-udivleny-kogda-nachnjotsya-nastuplenie-rogov.html\\n\\n[44]\\xa0https://isw.pub/UkrWar020223\\n\\n[45]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[46]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[47]\\xa0https://t.me/pushilindenis/3166\\n\\n[48]\\xa0https://t.me/BalitskyEV/778\\xa0;\\n\\n[49]\\xa0https://t.me/BalitskyEV/778\\n\\n[50]\\xa0https://isw.pub/UkrWar011323\\n\\n[51]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[52]\\xa0http://kremlin\\xa0dot ru/events/president/news/70482\\n\\n[53]\\xa0https://t.me/vrogov/7593;\\xa0https://t.me/vrogov/7582\\xa0;\\xa0https://t.me/rea...\\n\\n[54]\\xa0https://t.me/vrogov/7593\\xa0;\\xa0https://t.me/rybar/43417\\n\\n[55]\\xa0https://www.understandingwar.org/backgrounder/russian-offensive-campaign...\\n\\n[56]\\xa0https://t.me/modmilby/22518\\n\\n[57]\\xa0https://t.me/modmilby/22515\\n\\n[58]\\xa0https://t.me/grey_zone/17123\\n\\nFile Attachments:\\n\\nZaporizhia Battle Map Draft February 09,2023.png\\n\\nKherson-Mykolaiv Battle Map Draft February 09,2023.png\\n\\nDonetsk Battle Map Draft February 09,2023.png\\n\\nKharkiv Battle Map Draft February 09,2023.png\\n\\nDraftUkraineCoTFebruary09,2023.png\\n\\n1400 16th Street NW, Suite 515 Washington, DC 20036\\n\\nph (202) 293-5550', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023'}), Document(page_content=\"We do not report in detail on Russian war crimes because those activities are well-covered in Western media and do not directly affect the military operations we are assessing and forecasting. We will continue to evaluate and report on the effects of these criminal activities on the Ukrainian military and population and specifically on combat in Ukrainian urban areas. We utterly condemn these Russian violations of the laws of armed conflict, Geneva Conventions, and humanity even though we do not describe them in these reports.\\n\\nRussian Main Effort\u2014Eastern Ukraine (comprised of two subordinate main efforts)\\n\\nRussian Subordinate Main Effort #1\u2014Capture the remainder of Luhansk Oblast and push westward into eastern Kharkiv Oblast and encircle northern Donetsk Oblast\\n\\nRussian Subordinate Main Effort #2\u2014Capture the entirety of Donetsk Oblast\\n\\nRussian Supporting Effort\u2014Southern Axis\\n\\nRussian Mobilization and Force Generation Efforts\\n\\nActivities in Russian-occupied Areas\\n\\nRussian Main Effort\u2014Eastern Ukraine\\n\\nRussian Subordinate Main Effort #1- Luhansk Oblast (Russian objective: Capture the remainder of Luhansk Oblast and continue offensive operations into eastern Kharkiv Oblast and northern Donetsk Oblast)\\n\\nISW continues to assess that Russia's most likely course of action (MLCOA) is an imminent offensive effort in Luhansk Oblast and is therefore adjusting the structure of the daily campaign assessments. We will no longer include the Eastern Kharkiv and Western Luhansk Oblast area as part of Ukrainian counteroffensives and will assess this area as a subordinate part of the Russian main effort in Eastern Ukraine. The assessment of Luhansk Oblast as part of the Russian main effort does not preclude the possibility of continued Ukrainian counteroffensive actions here or anywhere else in theater in the future. ISW will report on Ukrainian counteroffensive efforts as they occur.\", metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023'}), Document(page_content='[21]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02LGCyzg9CHrzXTN98Pj...\\n\\n[22]\\xa0https://t.me/milchronicles/1542\\n\\n[23]\\xa0https://t.me/wargonzo/10787;\\xa0https://t.me/readovkanews/52337\\n\\n[24]\\xa0https://t.me/milinfolive/96786\\xa0; https://t.me/rlz_the_kraken/56339\\n\\n[25]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02LGCyzg9CHrzXTN98Pj...\\n\\n[26]\\xa0https://t.me/wargonzo/10787\\n\\n[27]\\xa0https://t.me/nm_dnr/9867;\\xa0https://t.me/boris_rozhin/77599\\n\\n[28]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02LGCyzg9CHrzXTN98Pj...\\n\\n[29]\\xa0https://t.me/wargonzo/10787\\n\\n[30]\\xa0https://twitter.com/Tatarigami_UA/status/1623436287171776514?s=20&t=mlsf...\\n\\n[31]\\xa0https://twitter.com/Tatarigami_UA/status/1623436287171776514?s=20&t=mlsf...\\n\\nhttps://twitter.com/UAWeapons/status/1623649601717772288;\\n\\nhttps://twitter.com/Osinttechnical/status/1623532179220500480;\\n\\nhttps://t.me/m0sc0wcalling/19484;\\n\\nhttps://twitter.com/fdov21/status/1623453631629467650?s=20&t=u8lPsoZX5qq...\\n\\nhttps://twitter.com/markito0171/status/1623418942025785344?s=20&t=_NUJZh...\\n\\nhttps://twitter.com/markito0171/status/1623426654004469760?s=20&t=_NUJZh...\\n\\nhttps://twitter.com/markito0171/status/1623598095924711425?s=20&t=_NUJZh...\\n\\nhttps://t.me/m0sc0wcalling/19484\\n\\n[33]\\xa0https://twitter.com/UAWeapons/status/1623649601717772288;\\xa0https://twitt...\\n\\n[34]\\xa0https://twitter.com/Militarylandnet/status/1623386771282075676?s=20&t=dd...\\n\\n[35]\\xa0https://t.me/rusichtank/94 ; https://twitter.com/3_bm15/status/1623670248699310080?s=20&t=APP4gCFnjvU... ; https://twitter.com/3_bm15/status/1623670378458411009?s=20&t=APP4gCFnjvU... ; https://twitter.com/GeoConfirmed/status/1623730058211778563?s=20&t=APP4g...\\n\\n[36]\\xa0https://www.facebook.com/GeneralStaff.ua/posts/pfbid02LGCyzg9CHrzXTN98Pj...', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023'}), Document(page_content='A prominent Wagner-linked Russian milblogger called for the dismissal of Russian Defense Minister Sergei Shoigu over a Russian military uniform procurement scandal.\\xa0Many prominent Russian military bloggers harshly criticized Shoigu and the Russian Ministry of Defense (MoD) over news that the 22-year-old son of the Russian Deputy Head of the Federal Agency for State Property Management won a contract to supply the Russian military with new uniforms.[10]\\xa0The milbloggers argued that the new uniforms are of inferior quality and overpriced (costing about 130,000-210,000 rubles or $1,780 - $2,875 per uniform) and are part of a petty corruption scheme to enrich the families of Russian defense officials. The Grey Zone Telegram channel\u2014a prominent Wagner Group-affiliated milblogger \u2013 wrote an explicative-laden rant to its 426,000 subscribers that Shoigu has lost credibility in front of the Russian nation and that Russian President Vladimir Putin can amend the situation by firing Shoigu, Shoigu\u2019s \"entourage\" in the Russian General Staff and banning Shoigu and his associates from all Russian military affairs.[11]\\xa0This is the latest episode in a string of events that has prompted Russian military blogger communities to attack the Russian MoD and senior Kremlin officials for petty corruption and ineptitude resulting in battlefield failures and worse quality of life for average Russian soldiers.[12]', metadata={'source': 'https://www.understandingwar.org/backgrounder/russian-offensive-campaign-assessment-february-9-2023'})]",f={description:"Use Clarifai and LangChain to create a vector store and perform searches",sidebar_position:3,pagination_next:null},g="Vector Store",x={},w=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Similarity Search on Uploaded Texts",id:"similarity-search-on-uploaded-texts",level:2},{value:"Similarity Search on Uploaded Web Documents",id:"similarity-search-on-uploaded-web-documents",level:2},{value:"Similarity Search on Existing Applications",id:"similarity-search-on-existing-applications",level:2}];function y(t){const e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...t.components},{Details:n}=e;return n||function(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"vector-store",children:"Vector Store"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Use Clarifai and LangChain to create a vector store and perform searches"})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsxs)(e.p,{children:["Clarifai offers a powerful, built-in ",(0,s.jsx)(e.a,{href:"https://www.clarifai.com/blog/using-clarifais-native-vector-database",children:"vector database"})," within its AI platform. It is designed to store and retrieve large amounts of unstructured data quickly and accurately."]}),"\n",(0,s.jsx)(e.p,{children:"The Clarifai platform uses an embedding model to automatically index any piece of data uploaded to it. It creates high-dimensional vectors that are kept in the vector store, from where you can efficiently search for and retrieve data based on these vectors."}),"\n",(0,s.jsxs)(e.p,{children:["Let\u2019s illustrate how you can use Clarifai and LangChain to ",(0,s.jsx)(e.a,{href:"https://docs.clarifai.com/portal-guide/psearch/text-search",children:"retrieve text data"})," based on their content and semantic similarity."]}),"\n",(0,s.jsx)(e.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Python development environment"}),"\n",(0,s.jsxs)(e.li,{children:["Get a PAT (Personal Access Token) from the Clarifai\u2019s portal under the ",(0,s.jsx)(e.a,{href:"https://clarifai.com/settings/security",children:"Settings/Security"})," section"]}),"\n",(0,s.jsx)(e.li,{children:"Get your Clarifai\u2019s user ID"}),"\n",(0,s.jsxs)(e.li,{children:["Get the ID of the text app where the text data will be uploaded. ",(0,s.jsx)(e.em,{children:"Ensure your text app has the appropriate base workflow for indexing your text documents, such as the Language-Understanding workflow"})]}),"\n",(0,s.jsxs)(e.li,{children:["Install the ",(0,s.jsx)(e.a,{href:"https://docs.clarifai.com/python-sdk/sdk-overview",children:"Clarifai Python SDK"})," by running ",(0,s.jsx)(e.code,{children:"pip install clarifai"})]}),"\n",(0,s.jsxs)(e.li,{children:["Install LangChain by running ",(0,s.jsx)(e.code,{children:"pip install langchain"})]}),"\n"]}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.p,{children:["You can learn how to authenticate with the Clarifai platform ",(0,s.jsx)(e.a,{href:"https://docs.clarifai.com/clarifai-basics/authentication/personal-access-tokens",children:"here"}),"."]})}),"\n","\n","\n","\n",(0,s.jsx)(e.h2,{id:"similarity-search-on-uploaded-texts",children:"Similarity Search on Uploaded Texts"}),"\n",(0,s.jsx)(e.p,{children:"You can create a Clarifai vector store from a list of texts. You can upload each text with its respective metadata to a Clarifai application.\nYou can then use your Clarifai application to perform a semantic search and find contextually relevant texts."}),"\n",(0,s.jsx)(e.p,{children:"Here is an example."}),"\n",(0,s.jsx)(i.A,{groupId:"code",children:(0,s.jsx)(o.A,{value:"python",label:"Python",children:(0,s.jsx)(l.A,{className:"language-python",children:c})})}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Output Example"}),(0,s.jsx)(l.A,{className:"language-text",children:p})]}),"\n",(0,s.jsx)(e.p,{children:"You can also leverage metadata filters to enhance the filtering capabilities within an app."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# This one will limit the similarity query to only the texts that have key of "source" matching value of "book 1"\n book1_similar_docs = clarifai_vector_db.similarity_search("I would love to see you", filter={"source": "book 1"})\n\n # You can also use lists in the input\'s metadata and then select things that match an item in the list. This is useful for categories like below:\n book_category_similar_docs = clarifai_vector_db.similarity_search("I would love to see you", filter={"category": ["books"]})\n'})}),"\n",(0,s.jsx)(e.h2,{id:"similarity-search-on-uploaded-web-documents",children:"Similarity Search on Uploaded Web Documents"}),"\n",(0,s.jsx)(e.p,{children:"You can create a Clarifai vector store from a list of web documents. You can upload each document with its respective metadata to a Clarifai application."}),"\n",(0,s.jsx)(e.p,{children:"You can then use your Clarifai application to perform a semantic search and find contextually relevant documents."}),"\n",(0,s.jsx)(e.p,{children:"Here is an example."}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsxs)(e.p,{children:["We\u2019ll use the ",(0,s.jsxs)(e.a,{href:"https://python.langchain.com/docs/integrations/providers/unstructured",children:[(0,s.jsx)(e.code,{children:"unstructured"})," library"]})," to extract clean text and prepare the raw source documents for downstream tasks. You can install it by running ",(0,s.jsx)(e.code,{children:"pip install unstructured"}),"."]})}),"\n",(0,s.jsx)(i.A,{groupId:"code",children:(0,s.jsx)(o.A,{value:"python",label:"Python",children:(0,s.jsx)(l.A,{className:"language-python",children:u})})}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Output Example"}),(0,s.jsx)(l.A,{className:"language-text",children:d})]}),"\n",(0,s.jsx)(e.h2,{id:"similarity-search-on-existing-applications",children:"Similarity Search on Existing Applications"}),"\n",(0,s.jsx)(e.p,{children:"Most users are likely to have already added data to their Clarifai applications before engaging with LangChain."}),"\n",(0,s.jsx)(e.p,{children:"In this example, we will leverage the existing data within an application to perform a semantic search and find relevant documents."}),"\n",(0,s.jsx)(i.A,{groupId:"code",children:(0,s.jsx)(o.A,{value:"python",label:"Python",children:(0,s.jsx)(l.A,{className:"language-python",children:h})})}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Output Example"}),(0,s.jsx)(l.A,{className:"language-text",children:m})]}),"\n",(0,s.jsx)(e.admonition,{type:"info",children:(0,s.jsxs)(e.p,{children:["You can explore the ",(0,s.jsx)(e.a,{href:"https://api.python.langchain.com/en/latest/vectorstores/langchain.vectorstores.clarifai.Clarifai.html#langchain.vectorstores.clarifai.Clarifai",children:"LangChain documentation"})," to learn more on how to use the framework with the Clarifai vector store."]})})]})}function b(t={}){const{wrapper:e}={...(0,r.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(y,{...t})}):y(t)}},11470:(t,e,n)=>{n.d(e,{A:()=>k});var a=n(96540),s=n(18215),r=n(23104),i=n(56347),o=n(205),l=n(57485),c=n(31682),u=n(70679);function h(t){return a.Children.toArray(t).filter(t=>"\n"!==t).map(t=>{if(!t||(0,a.isValidElement)(t)&&function(t){const{props:e}=t;return!!e&&"object"==typeof e&&"value"in e}(t))return t;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof t.type?t.type:t.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(t){const{values:e,children:n}=t;return(0,a.useMemo)(()=>{const t=e??function(t){return h(t).map(({props:{value:t,label:e,attributes:n,default:a}})=>({value:t,label:e,attributes:n,default:a}))}(n);return function(t){const e=(0,c.XI)(t,(t,e)=>t.value===e.value);if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map(t=>t.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(t),t},[e,n])}function d({value:t,tabValues:e}){return e.some(e=>e.value===t)}function m({queryString:t=!1,groupId:e}){const n=(0,i.W6)(),s=function({queryString:t=!1,groupId:e}){if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!e)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:t,groupId:e});return[(0,l.aZ)(s),(0,a.useCallback)(t=>{if(!s)return;const e=new URLSearchParams(n.location.search);e.set(s,t),n.replace({...n.location,search:e.toString()})},[s,n])]}function f(t){const{defaultValue:e,queryString:n=!1,groupId:s}=t,r=p(t),[i,l]=(0,a.useState)(()=>function({defaultValue:t,tabValues:e}){if(0===e.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:e}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${e.map(t=>t.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=e.find(t=>t.default)??e[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:e,tabValues:r})),[c,h]=m({queryString:n,groupId:s}),[f,g]=function({groupId:t}){const e=function(t){return t?`docusaurus.tab.${t}`:null}(t),[n,s]=(0,u.Dv)(e);return[n,(0,a.useCallback)(t=>{e&&s.set(t)},[e,s])]}({groupId:s}),x=(()=>{const t=c??f;return d({value:t,tabValues:r})?t:null})();(0,o.A)(()=>{x&&l(x)},[x]);return{selectedValue:i,selectValue:(0,a.useCallback)(t=>{if(!d({value:t,tabValues:r}))throw new Error(`Can't select invalid tab value=${t}`);l(t),h(t),g(t)},[h,g,r]),tabValues:r}}var g=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var w=n(74848);function y({className:t,block:e,selectedValue:n,selectValue:a,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),c=t=>{const e=t.currentTarget,s=o.indexOf(e),r=i[s].value;r!==n&&(l(e),a(r))},u=t=>{let e=null;switch(t.key){case"Enter":c(t);break;case"ArrowRight":{const n=o.indexOf(t.currentTarget)+1;e=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(t.currentTarget)-1;e=o[n]??o[o.length-1];break}}e?.focus()};return(0,w.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":e},t),children:i.map(({value:t,label:e,attributes:a})=>(0,w.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:t=>{o.push(t)},onKeyDown:u,onClick:c,...a,className:(0,s.A)("tabs__item",x.tabItem,a?.className,{"tabs__item--active":n===t}),children:e??t},t))})}function b({lazy:t,children:e,selectedValue:n}){const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(t){const t=r.find(t=>t.props.value===n);return t?(0,a.cloneElement)(t,{className:(0,s.A)("margin-top--md",t.props.className)}):null}return(0,w.jsx)("div",{className:"margin-top--md",children:r.map((t,e)=>(0,a.cloneElement)(t,{key:e,hidden:t.props.value!==n}))})}function v(t){const e=f(t);return(0,w.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,w.jsx)(y,{...e,...t}),(0,w.jsx)(b,{...e,...t})]})}function k(t){const e=(0,g.A)();return(0,w.jsx)(v,{...t,children:h(t.children)},String(e))}},19365:(t,e,n)=>{n.d(e,{A:()=>i});n(96540);var a=n(18215);const s={tabItem:"tabItem_Ymn6"};var r=n(74848);function i({children:t,hidden:e,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(s.tabItem,n),hidden:e,children:t})}}}]);