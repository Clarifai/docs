"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[4248],{85162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(67294),r=a(86010);const i={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,l),hidden:a},t)}},74866:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(87462),r=a(67294),i=a(86010),l=a(12466),o=a(16550),s=a(91980),u=a(67392),d=a(50012);function c(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function m(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const n=(0,o.k6)(),i=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,i=m(e),[l,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[s,u]=h({queryString:a,groupId:n}),[c,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,i]=(0,d.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:n}),b=(()=>{const e=s??c;return p({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{b&&o(b)}),[b]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),f(e)}),[u,f,i]),tabValues:i}}var b=a(72389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:a,selectedValue:o,selectValue:s,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),m=e=>{const t=e.currentTarget,a=d.indexOf(t),n=u[a].value;n!==o&&(c(t),s(n))},p=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;t=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;t=d[a]??d[d.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:l}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>d.push(e),onKeyDown:p,onClick:m},l,{className:(0,i.Z)("tabs__item",g.tabItem,l?.className,{"tabs__item--active":o===t})}),a??t)})))}function v(e){let{lazy:t,children:a,selectedValue:n}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function x(e){const t=f(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",g.tabList)},r.createElement(k,(0,n.Z)({},e,t)),r.createElement(v,(0,n.Z)({},e,t)))}function y(e){const t=(0,b.Z)();return r.createElement(x,(0,n.Z)({key:String(t)},e))}},19642:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>g,frontMatter:()=>d,metadata:()=>m,toc:()=>h});var n=a(87462),r=(a(67294),a(3905)),i=a(74866),l=a(85162),o=a(90814);const s='############################################################################################################################\n# In this section, we set the user authentication, model URL, and prompt text. Alternatively, set the user and app ID,\n# and model name. Change these strings to run your own example.\n###########################################################################################################################\n\nPAT = "YOUR_PAT_HERE"\n\nMODEL_URL = "https://clarifai.com/cohere/embed/models/cohere-text-to-embeddings"\nPROMPT = "Hello World!"\n\n# Alternatively, you can specify user ID, app ID, and model name\n#USER_ID = "cohere"\n#APP_ID = "embed"\n#MODEL_NAME = "cohere-text-to-embeddings"\n\n############################################################################\n# YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n############################################################################\n\n# Import the required packages\nimport os\nfrom llama_index.embeddings import ClarifaiEmbedding\n\n# Set Clarifai PAT as environment variable\nos.environ["CLARIFAI_PAT"] = PAT\n\n# Initialize the LLM class\nembed_model = ClarifaiEmbedding(model_url=MODEL_URL)\n\n# Alternatively\n# embed_model = ClarifaiEmbedding(\n# user_id=USER_ID,\n# app_id=APP_ID,\n# model_name=MODEL_NAME\n# )\n\nembeddings = embed_model.get_text_embedding(PROMPT)\nprint(len(embeddings))\n# Print the first five elements of embeddings list\nprint(embeddings[:5])\n',u="1024\n[-0.0266333669424057, -0.01617247611284256, 0.03460061177611351, -0.04136759787797928, -0.016348375007510185]",d={description:"Use Clarifai and LlamaIndex to create text embeddings",sidebar_position:2},c="Text Embeddings",m={unversionedId:"integrations/llamaindex/text-embeddings",id:"integrations/llamaindex/text-embeddings",title:"Text Embeddings",description:"Use Clarifai and LlamaIndex to create text embeddings",source:"@site/docs/integrations/llamaindex/text-embeddings.md",sourceDirName:"integrations/llamaindex",slug:"/integrations/llamaindex/text-embeddings",permalink:"/integrations/llamaindex/text-embeddings",draft:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/integrations/llamaindex/text-embeddings.md",tags:[],version:"current",lastUpdatedAt:1698924850,formattedLastUpdatedAt:"Nov 2, 2023",sidebarPosition:2,frontMatter:{description:"Use Clarifai and LlamaIndex to create text embeddings",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"LLM Models",permalink:"/integrations/llamaindex/llm-models"},next:{title:"Clarifai API Basics",permalink:"/api-guide/api-overview/"}},p={},h=[{value:"Prerequisites",id:"prerequisites",level:2}],f={toc:h},b="wrapper";function g(e){let{components:t,...a}=e;return(0,r.kt)(b,(0,n.Z)({},f,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"text-embeddings"},"Text Embeddings"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use Clarifai and LlamaIndex to create text embeddings")),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Embeddings create a vector representation of textual content. This is beneficial because it implies we can conceptualize text within a vector space, and facilitate tasks such as semantic search where we look for pieces of text that exhibit the highest similarity within that vector space. "),(0,r.kt)("p",null,"Let\u2019s illustrate how you can use LlamaIndex to interact with Clarifai models and create text embeddings."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Python development environment"),(0,r.kt)("li",{parentName:"ul"},"Get a PAT (Personal Access Token) from the Clarifai\u2019s portal under the ",(0,r.kt)("a",{parentName:"li",href:"https://clarifai.com/settings/security"},"Settings/Security")," section"),(0,r.kt)("li",{parentName:"ul"},"Get the URL of the model you want to use. Text embedding models can be found ",(0,r.kt)("a",{parentName:"li",href:"https://clarifai.com/explore/models?page=1&perPage=24&filterData=%5B%7B%22field%22%3A%22model_type_id%22%2C%22value%22%3A%5B%22text-embedder%22%5D%7D%5D"},"here")),(0,r.kt)("li",{parentName:"ul"},"Alternatively, get the ID of the user owning the model you want to use, the ID of the app where the model is found, and the name of the model"),(0,r.kt)("li",{parentName:"ul"},"Install the ",(0,r.kt)("a",{parentName:"li",href:"https://docs.clarifai.com/python-sdk/sdk-overview"},"Clarifai Python SDK")," by running ",(0,r.kt)("inlineCode",{parentName:"li"},"pip install clarifai")),(0,r.kt)("li",{parentName:"ul"},"Install LlamaIndex by running ",(0,r.kt)("inlineCode",{parentName:"li"},"pip install llama-index"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You can learn how to authenticate with the Clarifai platform ",(0,r.kt)("a",{parentName:"p",href:"https://docs.clarifai.com/clarifai-basics/authentication/personal-access-tokens"},"here"),".")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Clarifai models can be referenced either through their full URL or by using the combination of user ID, app ID, and model name. If the model version is not specified, the latest version will be used by default. ")),(0,r.kt)("p",null,"Here is how you can create text embeddings."),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,r.kt)(o.Z,{className:"language-python",mdxType:"CodeBlock"},s))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Output Example"),(0,r.kt)(o.Z,{className:"language-text",mdxType:"CodeBlock"},u)),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"You can explore the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.llamaindex.ai/en/stable/examples/embeddings/clarifai.html"},"LlamaIndex documentation")," to learn more on how to use the framework with Clarifai for text embedding tasks.")))}g.isMDXComponent=!0}}]);