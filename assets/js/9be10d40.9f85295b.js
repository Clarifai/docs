"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[2844],{85871:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var n=t(74848),r=t(28453);const i={description:"Combine multiple models and carry out different operations using workflows",sidebar_position:1},s="Working With Workflows",a={id:"portal-guide/workflows/working_with_workflows",title:"Working With Workflows",description:"Combine multiple models and carry out different operations using workflows",source:"@site/docs/portal-guide/workflows/working_with_workflows.md",sourceDirName:"portal-guide/workflows",slug:"/portal-guide/workflows/working_with_workflows",permalink:"/portal-guide/workflows/working_with_workflows",draft:!1,unlisted:!1,editUrl:"https://github.com/Clarifai/docs/blob/main/docs/portal-guide/workflows/working_with_workflows.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{description:"Combine multiple models and carry out different operations using workflows",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Creating Workflows",permalink:"/portal-guide/workflows/"},next:{title:"Base Workflows",permalink:"/portal-guide/workflows/base-workflows"}},l={},d=[{value:"<strong>Creating Workflows</strong>",id:"creating-workflows",level:2},{value:"Step 1: Create Application\u200b",id:"step-1-create-application",level:3},{value:"Step 2: Create a New Workflow\u200b",id:"step-2-create-a-new-workflow",level:3},{value:"Step 3: Create Your Nodes\u200b",id:"step-3-create-your-nodes",level:3},{value:"Name Your Workflow\u200b",id:"name-your-workflow",level:4},{value:"Search for First Node\u200b",id:"search-for-first-node",level:4},{value:"Search for the Second Node\u200b",id:"search-for-the-second-node",level:4},{value:"Step 4: Search for Models\u200b",id:"step-4-search-for-models",level:3},{value:"Step 5: Save Workflow\u200b",id:"step-5-save-workflow",level:3},{value:"Edit Workflow\u200b",id:"edit-workflow",level:3},{value:"<strong>Using a Workflow</strong>",id:"using-a-workflow",level:2}];function c(e){const o={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"working-with-workflows",children:"Working With Workflows"}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Combine multiple models and carry out different operations using workflows"})}),"\n",(0,n.jsx)("hr",{}),"\n",(0,n.jsx)(o.p,{children:"Clarifai Workflows is a powerful feature that enables you to combine multiple AI models and operations into a unified pipeline. Instead of relying on individual models, you can create sophisticated multi-model systems that address complex use cases through a single API call."}),"\n",(0,n.jsx)(o.p,{children:"Workflows provide a modular architecture for your inference pipeline, serving as building blocks for advanced machine learning ensemble modeling and business logic. With workflows, you can work with your machine learning models like they are nodes in a graph."}),"\n",(0,n.jsx)(o.h2,{id:"creating-workflows",children:(0,n.jsx)(o.strong,{children:"Creating Workflows"})}),"\n",(0,n.jsx)(o.p,{children:"You can create workflows out of any Clarifai models or custom models that you have created for your app. The inputs and outputs supported by your custom workflows will depend on the inputs and outputs supported by the models that you have used to build them."}),"\n",(0,n.jsx)(o.p,{children:"Different models accept various input types and return diverse outputs. Examples include:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Inputs"}),": Concepts, Embeddings, Image, Image or Video, Regions"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"Outputs"}),": Concepts, Clusters, Regions"]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Let\u2019s demonstrate creating workflows with an example. In this example, we'll create a simple custom workflow that first extracts text from an image and then translates the extracted text to Spanish."}),"\n",(0,n.jsx)(o.p,{children:"We'll connect the following two Clarifai models to achieve our objective:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.a,{href:"https://clarifai.com/clarifai/main/models/ocr-scene-english-paddleocr",children:"ocr-scene-english-paddleocr"})," model, which detects and recognizes English texts in images;"]}),"\n",(0,n.jsxs)(o.li,{children:["The ",(0,n.jsx)(o.a,{href:"https://clarifai.com/helsinkinlp/translation/models/text-translation-english-spanish",children:"text-translation-english-spanish"})," model translates texts from English to Spanish."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"We'll specify the IDs of the models and their versions \u2014 since a model can have several versions."}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsx)(o.p,{children:"You can add up to 20 models to a single workflow."})}),"\n",(0,n.jsxs)(o.h3,{id:"step-1-create-application",children:["Step 1: Create Application",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#step-1-create-application",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"Let's begin by creating an application that will act as the container for all the related models and workflows for this particular project."}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/clarifai-basics/applications/create-an-application/#create-an-application-on-the-portal",children:"Click here"})," to learn how to create an application on the Clarifai platform."]}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsx)(o.p,{children:"When creating the application, select the Text/Document option as the primary input type."})}),"\n",(0,n.jsxs)(o.h3,{id:"step-2-create-a-new-workflow",children:["Step 2: Create a New Workflow",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#step-2-create-a-new-workflow",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"To create a new workflow, select the Workflows option in the collapsible left sidebar. Next, click the Create Workflow button in the upper-right corner of the page."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(98079).A+"",width:"512",height:"190"})}),"\n",(0,n.jsxs)(o.h3,{id:"step-3-create-your-nodes",children:["Step 3: Create Your Nodes",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#step-3-create-your-nodes",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"You'll be redirected to a simple, no-code, drag-and-drop interface that allows you to connect your models together. You'll need to connect the input nodes in your workflow. You can link your nodes to any nodes that precede them in the visual graph."}),"\n",(0,n.jsxs)(o.h4,{id:"name-your-workflow",children:["Name Your Workflow",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#name-your-workflow",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"Let's start by clicking the input field in the upper section of the page and providing a name for the custom workflow."}),"\n",(0,n.jsxs)(o.h4,{id:"search-for-first-node",children:["Search for First Node",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#search-for-first-node",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"Next, in the left sidebar, search for the optical-character-recognizer node. This allows you to configure a model that enables the extraction of texts from images, such as scans of printed pages or photos of street signs."}),"\n",(0,n.jsx)(o.p,{children:"After finding the node, drag and drop it on the empty workspace pane and connect it to the IN element."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(84516).A+"",width:"512",height:"218"})}),"\n",(0,n.jsx)(o.admonition,{type:"tip",children:(0,n.jsx)(o.p,{children:"You can use the tools on the left side of the workspace pane to manage the workflow creation process. These tools enable you to zoom in and out, fit the view, arrange the workflow, reset the workspace, and perform other actions to help you efficiently design and organize your workflow."})}),"\n",(0,n.jsxs)(o.h4,{id:"search-for-the-second-node",children:["Search for the Second Node",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#search-for-second-node",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"Next, search for the text-to-text node. This allows you to configure a model that enables the transformation of one kind of text into another."}),"\n",(0,n.jsx)(o.p,{children:"After finding the second node, drag and drop it on the workspace and draw a line that connects it to the first node. This shows the flow of information from one node to another."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(27021).A+"",width:"512",height:"215"})}),"\n",(0,n.jsxs)(o.h3,{id:"step-4-search-for-models",children:["Step 4: Search for Models",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#step-4-search-for-models",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"Click the optical-character-recognizer node. And on the search box that appears on the right side of the page, specify the ocr-scene-english-paddleocr model as the one to use for optical character recognition. Also, select the version of the model you want to use."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(45458).A+"",width:"512",height:"267"})}),"\n",(0,n.jsx)(o.p,{children:"Similarly, click the text-to-text node and specify the text-translation-english-spanish model as the one to use for translating the extracted text from English to Spanish. Also, select its version."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(94459).A+"",width:"512",height:"268"})}),"\n",(0,n.jsxs)(o.h3,{id:"step-5-save-workflow",children:["Step 5: Save Workflow",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#step-5-save-workflow",children:"\u200b"})]}),"\n",(0,n.jsxs)(o.p,{children:["Finally, click the Save Workflow button to save the workflow. This will save the state of your workflow. Now, you are ready to ",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#using-a-workflow",children:"predict"})," using your brand-new workflow."]}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(39424).A+"",width:"512",height:"218"})}),"\n",(0,n.jsxs)(o.h3,{id:"edit-workflow",children:["Edit Workflow",(0,n.jsx)(o.a,{href:"https://docs.clarifai.com/portal-guide/workflows/working_with_workflows#edit-workflow",children:"\u200b"})]}),"\n",(0,n.jsx)(o.p,{children:"After creating your workflow, you can edit it at any time by navigating to its individual page and clicking the Edit workflow button in the upper-right section."}),"\n",(0,n.jsx)(o.p,{children:"This allows you to make changes easily whenever needed."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(10601).A+"",width:"512",height:"184"})}),"\n",(0,n.jsx)(o.p,{children:"For example, to add a text-to-audio node to your workflow, first locate it in the left sidebar. Drag the node and connect it to the preceding text-to-text node. Next, use the search box on the right side of the page to select the specific model you want for the text-to-audio conversion."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(95358).A+"",width:"512",height:"218"})}),"\n",(0,n.jsx)(o.p,{children:"Once you've made your changes, click the Save as new version button to save the updated workflow under a new version \u2014 without exiting the workflow editor."}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsx)(o.p,{children:"You can easily switch between different versions by selecting the respective version ID from the left sidebar in the workflow editor."})}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsx)(o.p,{children:"Note that clicking the Update Workflow button creates a new version of your workflow and exits the workflow editor, redirecting you to the workflow's main page."})}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(83047).A+"",width:"512",height:"215"})}),"\n",(0,n.jsx)(o.admonition,{type:"tip",children:(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.strong,{children:"You can add a maximum of 20 nodes in a single workflow."})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.strong,{children:"Ensure all connections between nodes are correctly set to avoid errors during execution."})}),"\n"]})}),"\n",(0,n.jsx)(o.h2,{id:"using-a-workflow",children:(0,n.jsx)(o.strong,{children:"Using a Workflow"})}),"\n",(0,n.jsx)(o.p,{children:"Workflows in Clarifai are computational graphs that include one or more models. The cost of making predictions with a workflow is the same as calling individual models."}),"\n",(0,n.jsx)(o.p,{children:"After creating your workflow, use a workflow:"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsx)(o.li,{children:"Go to the workflow's overview page."}),"\n",(0,n.jsx)(o.li,{children:"Select the version and upload an image or video."}),"\n",(0,n.jsx)(o.li,{children:"View the predictions returned by each model in the workflow."}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["For example, let's use the custom workflow we created previously to extract text from ",(0,n.jsx)(o.a,{href:"https://samples.clarifai.com/featured-models/ocr-woman-holding-sold-sign.jpg",children:"this image"}),", and then translate the extracted text into Spanish."]}),"\n",(0,n.jsx)(o.p,{children:'To do so, go to the workflow\'s overview page, select the version you want to use, and click the blue "+" button. Next, select the Try your own image or video option on the modal that appears. The small window that pops up allows you to upload the image.'}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(49263).A+"",width:"512",height:"226"})}),"\n",(0,n.jsx)(o.p,{children:"After the image has been uploaded and processed, the output will contain the predictions each model in the workflow returns. You can see in the screenshot below that the text was successfully extracted from the image and then translated into Spanish."}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.img,{alt:"alt_text",src:t(10246).A+"",width:"512",height:"252"})}),"\n",(0,n.jsx)(o.p,{children:"That's the power of using workflows on the Clarifai platform!"})]})}function h(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},98079:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_1-4ba50eab29038eae2ca7adff556489c4.png"},49263:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_10-ba6d53e69bd6a1cef3179e2594a8d136.png"},10246:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_11-eb32d5c0a523c8aa5dc6004592fac78a.png"},84516:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_2-31a6a0f5c7dc26bd66bdf78a27fd15ab.png"},27021:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_3-938d109c3c4f72d10e5db2c846ead696.png"},45458:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_4-9d2c0125bf97efede3a283fb7f578400.png"},94459:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_5-84f238f52e0fe1a57dcac77214bb5160.png"},39424:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_6-94fea8ce3a3a3e868590511f89ca9034.png"},10601:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_7-d39e88ac35e9933c82322521c4d3e09f.png"},95358:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_8-2af80591c3bb4e179b01f44dbea617b5.png"},83047:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/working_workflows_9-9983d7c703b5ae06de218df064ee8a84.png"},28453:(e,o,t)=>{t.d(o,{R:()=>s,x:()=>a});var n=t(96540);const r={},i=n.createContext(r);function s(e){const o=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(i.Provider,{value:o},e.children)}}}]);